<!DOCTYPE html><html lang="en"><head>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,800,700italic,800italic" rel="stylesheet" type="text/css">
	<link href="https://fonts.googleapis.com/css?family=Poppins:400,700" rel="stylesheet">

	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <title>Tutorial | Angular-Meteor - Socially | Files and UploadFS</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
  <base href="/">

  <meta name="description" content="In this step we are going to add the ability to upload images into our app, and also sorting and naming them. Angular-Meteor can use Meteor UploadFS w">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta name="keywords" content="realtime, backend, websockets, graphql, apollo, angular, angular 2, meteor, Angular Bindings, realtime sync, browser, mobile, build apps fast, completely realtime, build collaborative apps, real-time, MEAN stack, JSON data, Easy authentication, oAuth, Real-time Synchronization. angular stack, MongoDB, Node.js, Files, and, UploadFS">
  <link rel="shortcut icon" href="assets/images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
  <link rel="alternate" type="application/rss+xml" title="Meteor Blog RSS Feed" href="http://info.meteor.com/blog/rss.xml">
  <link rel="author" href="https://plus.google.com/105270147965228044669">
  <link href="https://plus.google.com/104063475472216743156" rel="publisher">
  <meta name="twitter:creator" content="@urigoldshtein">
  <link rel="profile" href="http://angular-meteor.com">
  <meta property="os:repo" content="https://github.com/urigo/angular-meteor">
  <meta property="os:rcs_type" content="git">
  <meta property="os:src" content="git@github.com:urigo/angular-meteor.git">
  <script type="text/javascript">
    var host = "angular-meteor.com";
    if ((host == window.location.host) && (window.location.protocol != "https:"))
      window.location.protocol = "https";
  </script>
  <script>
    (function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.fitvids=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";var selectors=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object"];var css=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}";module.exports=function(parentSelector,opts){parentSelector=parentSelector||"body";opts=opts||{};if(isObject(parentSelector)){opts=parentSelector;parentSelector="body"}opts.ignore=opts.ignore||"";opts.players=opts.players||"";var containers=queryAll(parentSelector);if(!hasLength(containers))return;if(!document.getElementById("fit-vids-style")){var head=document.head||document.getElementsByTagName("head")[0];head.appendChild(styles())}var custom=toSelectorArray(opts.players)||[];var ignored=toSelectorArray(opts.ignore)||[];var selector=selectors.filter(notIgnored(ignored)).concat(custom).join();if(!hasLength(selector))return;containers.forEach(function(container){var videos=queryAll(container,selector);videos.forEach(function(video){wrap(video)})})};function queryAll(el,selector){if(typeof el==="string"){selector=el;el=document}return Array.prototype.slice.call(el.querySelectorAll(selector))}function toSelectorArray(input){if(typeof input==="string"){return input.split(",").map(trim).filter(hasLength)}else if(isArray(input)){return flatten(input.map(toSelectorArray).filter(hasLength))}return input||[]}function wrap(el){if(/fluid-width-video-wrapper/.test(el.parentNode.className))return;var widthAttr=parseInt(el.getAttribute("width"),10);var heightAttr=parseInt(el.getAttribute("height"),10);var width=!isNaN(widthAttr)?widthAttr:el.clientWidth;var height=!isNaN(heightAttr)?heightAttr:el.clientHeight;var aspect=height/width;el.removeAttribute("width");el.removeAttribute("height");var wrapper=document.createElement("div");el.parentNode.insertBefore(wrapper,el);wrapper.className="fluid-width-video-wrapper";wrapper.style.paddingTop=aspect*100+"%";wrapper.appendChild(el)}function styles(){var div=document.createElement("div");div.innerHTML='<p>x</p><style id="fit-vids-style">'+css+"</style>";return div.childNodes[1]}function notIgnored(ignored){if(ignored.length<1){return function(){return true}}return function(selector){return ignored.indexOf(selector)===-1}}function hasLength(input){return input.length>0}function trim(str){return str.replace(/^\s+|\s+$/g,"")}function flatten(input){return[].concat.apply([],input)}function isObject(input){return Object.prototype.toString.call(input)==="[object Object]"}function isArray(input){return Object.prototype.toString.call(input)==="[object Array]"}},{}]},{},[1])(1)});
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      document.body.style.display = "block";

      var navToggle = document.querySelector('.nav-toggle');
      var navLinks = document.querySelector('.nav-links');

      var dropdown = document.querySelector('.tutorials-dropdown');
      var dropdownContent = document.querySelector('.dropdown-content');

      navToggle.addEventListener('click', function() {
        navLinks.classList.toggle('visible');
      });

      dropdown.addEventListener('click', function() {
        dropdownContent.classList.toggle('visible');
	});

	fitvids('.youtube-container');
    }, false);
  </script>
<style>/** * Mixin that creates a new stacking context. * see https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context */ /** * This mixin hides an element visually. * That means it's still accessible for screen-readers but not visible in view. */ /** * Forces an element to grow to fit floated contents; used as as an alternative to * `overflow: hidden;` because it doesn't cut off contents. */ /** * A mixin, which generates temporary ink ripple on a given component. * When $bindToParent is set to true, it will check for the focused class on the same selector as you included * that mixin. * It is also possible to specify the color palette of the temporary ripple. By default it uses the * accent palette for its background. */ md-toolbar { display: flex; box-sizing: border-box; width: 100%; min-height: 64px; font-size: 20px; font-weight: 400; font-family: Roboto, "Helvetica Neue", sans-serif; padding: 0 16px; flex-direction: column; background: whitesmoke; color: rgba(0, 0, 0, 0.87); } md-toolbar.md-primary { background: #009688; color: white; } md-toolbar.md-accent { background: #9c27b0; color: rgba(255, 255, 255, 0.870588); } md-toolbar.md-warn { background: #f44336; color: white; } md-toolbar md-toolbar-row { display: flex; box-sizing: border-box; width: 100%; height: 64px; flex-direction: row; align-items: center; } /*# sourceMappingURL=toolbar.css.map */ </style><style>/** * A collection of mixins and CSS classes that can be used to apply elevation to a material * element. * See: https://www.google.com/design/spec/what-is-material/elevation-shadows.html * Examples: * * * .md-foo { *   @include $md-elevation(2); * *   &:active { *     @include $md-elevation(8); *   } * } * * <div id="external-card" class="md-elevation-z2"><p>Some content</p></div> * * For an explanation of the design behind how elevation is implemented, see the design doc at * https://goo.gl/Kq0k9Z. */ /** * The css property used for elevation. In most cases this should not be changed. It is exposed * as a variable for abstraction / easy use when needing to reference the property directly, for * example in a will-change rule. */ /** The default duration value for elevation transitions. */ /** The default easing value for elevation transitions. */ /** * Applies the correct css rules to an element to give it the elevation specified by $zValue. * The $zValue must be between 0 and 24. */ /** * Returns a string that can be used as the value for a transition property for elevation. * Calling this function directly is useful in situations where a component needs to transition * more than one property. * * .foo { *   transition: md-elevation-transition-property-value(), opacity 100ms ease; *   will-change: $md-elevation-property, opacity; * } */ /** * Applies the correct css rules needed to have an element transition between elevations. * This mixin should be applied to elements whose elevation values will change depending on their * context (e.g. when active or disabled). */ /** * This mixin overrides default button styles like the gray background, * the border, and the outline. */ /** Applies a property to an md-button element for each of the supported palettes. */ /** Applies a focus style to an md-button element for each of the supported palettes. */ [md-raised-button], [md-fab], [md-mini-fab], [md-button], [md-icon-button] { box-sizing: border-box; position: relative; background: transparent; cursor: pointer; user-select: none; outline: none; border: none; display: inline-block; white-space: nowrap; text-decoration: none; vertical-align: baseline; font-size: 14px; font-family: Roboto, "Helvetica Neue", sans-serif; font-weight: 500; color: currentColor; text-align: center; margin: 0; min-width: 88px; line-height: 36px; padding: 0 16px; border-radius: 3px; } .md-primary[md-raised-button], .md-primary[md-fab], .md-primary[md-mini-fab], .md-primary[md-button], .md-primary[md-icon-button] { color: #009688; } .md-accent[md-raised-button], .md-accent[md-fab], .md-accent[md-mini-fab], .md-accent[md-button], .md-accent[md-icon-button] { color: #9c27b0; } .md-warn[md-raised-button], .md-warn[md-fab], .md-warn[md-mini-fab], .md-warn[md-button], .md-warn[md-icon-button] { color: #f44336; } .md-primary[disabled][md-raised-button], .md-primary[disabled][md-fab], .md-primary[disabled][md-mini-fab], .md-primary[disabled][md-button], .md-primary[disabled][md-icon-button], .md-accent[disabled][md-raised-button], .md-accent[disabled][md-fab], .md-accent[disabled][md-mini-fab], .md-accent[disabled][md-button], .md-accent[disabled][md-icon-button], .md-warn[disabled][md-raised-button], .md-warn[disabled][md-fab], .md-warn[disabled][md-mini-fab], .md-warn[disabled][md-button], .md-warn[disabled][md-icon-button], [disabled][disabled][md-raised-button], [disabled][disabled][md-fab], [disabled][disabled][md-mini-fab], [disabled][disabled][md-button], [disabled][disabled][md-icon-button] { color: rgba(0, 0, 0, 0.38); } [disabled][md-raised-button], [disabled][md-fab], [disabled][md-mini-fab], [disabled][md-button], [disabled][md-icon-button] { cursor: default; } .md-button-focus[md-raised-button]::after, .md-button-focus[md-fab]::after, .md-button-focus[md-mini-fab]::after, .md-button-focus[md-button]::after, .md-button-focus[md-icon-button]::after { position: absolute; top: 0; left: 0; bottom: 0; right: 0; content: ''; background-color: rgba(0, 0, 0, 0.12); border-radius: inherit; pointer-events: none; } .md-button-focus.md-primary[md-raised-button]::after, .md-button-focus.md-primary[md-fab]::after, .md-button-focus.md-primary[md-mini-fab]::after, .md-button-focus.md-primary[md-button]::after, .md-button-focus.md-primary[md-icon-button]::after { background-color: rgba(0, 150, 136, 0.12); } .md-button-focus.md-accent[md-raised-button]::after, .md-button-focus.md-accent[md-fab]::after, .md-button-focus.md-accent[md-mini-fab]::after, .md-button-focus.md-accent[md-button]::after, .md-button-focus.md-accent[md-icon-button]::after { background-color: rgba(156, 39, 176, 0.12); } .md-button-focus.md-warn[md-raised-button]::after, .md-button-focus.md-warn[md-fab]::after, .md-button-focus.md-warn[md-mini-fab]::after, .md-button-focus.md-warn[md-button]::after, .md-button-focus.md-warn[md-icon-button]::after { background-color: rgba(244, 67, 54, 0.12); } [md-raised-button], [md-fab], [md-mini-fab] { box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12); background-color: #fafafa; transform: translate3d(0, 0, 0); transition: background 400ms cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1); } .md-primary[md-raised-button], .md-primary[md-fab], .md-primary[md-mini-fab] { color: white; } .md-accent[md-raised-button], .md-accent[md-fab], .md-accent[md-mini-fab] { color: rgba(255, 255, 255, 0.870588); } .md-warn[md-raised-button], .md-warn[md-fab], .md-warn[md-mini-fab] { color: white; } .md-primary[disabled][md-raised-button], .md-primary[disabled][md-fab], .md-primary[disabled][md-mini-fab], .md-accent[disabled][md-raised-button], .md-accent[disabled][md-fab], .md-accent[disabled][md-mini-fab], .md-warn[disabled][md-raised-button], .md-warn[disabled][md-fab], .md-warn[disabled][md-mini-fab], [disabled][disabled][md-raised-button], [disabled][disabled][md-fab], [disabled][disabled][md-mini-fab] { color: rgba(0, 0, 0, 0.38); } .md-primary[md-raised-button], .md-primary[md-fab], .md-primary[md-mini-fab] { background-color: #009688; } .md-accent[md-raised-button], .md-accent[md-fab], .md-accent[md-mini-fab] { background-color: #9c27b0; } .md-warn[md-raised-button], .md-warn[md-fab], .md-warn[md-mini-fab] { background-color: #f44336; } .md-primary[disabled][md-raised-button], .md-primary[disabled][md-fab], .md-primary[disabled][md-mini-fab], .md-accent[disabled][md-raised-button], .md-accent[disabled][md-fab], .md-accent[disabled][md-mini-fab], .md-warn[disabled][md-raised-button], .md-warn[disabled][md-fab], .md-warn[disabled][md-mini-fab], [disabled][disabled][md-raised-button], [disabled][disabled][md-fab], [disabled][disabled][md-mini-fab] { background-color: rgba(0, 0, 0, 0.12); } [md-raised-button]:active, [md-fab]:active, [md-mini-fab]:active { box-shadow: 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12); } [disabled][md-raised-button], [disabled][md-fab], [disabled][md-mini-fab] { box-shadow: none; } [md-button]:hover::after, [md-icon-button]:hover::after { position: absolute; top: 0; left: 0; bottom: 0; right: 0; content: ''; background-color: rgba(0, 0, 0, 0.12); border-radius: inherit; pointer-events: none; } [md-button]:hover.md-primary::after, [md-icon-button]:hover.md-primary::after { background-color: rgba(0, 150, 136, 0.12); } [md-button]:hover.md-accent::after, [md-icon-button]:hover.md-accent::after { background-color: rgba(156, 39, 176, 0.12); } [md-button]:hover.md-warn::after, [md-icon-button]:hover.md-warn::after { background-color: rgba(244, 67, 54, 0.12); } [md-button][disabled]:hover.md-primary, [md-button][disabled]:hover.md-accent, [md-button][disabled]:hover.md-warn, [md-button][disabled]:hover::after, [md-icon-button][disabled]:hover.md-primary, [md-icon-button][disabled]:hover.md-accent, [md-icon-button][disabled]:hover.md-warn, [md-icon-button][disabled]:hover::after { background-color: transparent; } [md-fab] { min-width: 0; border-radius: 50%; background-color: #9c27b0; color: rgba(255, 255, 255, 0.870588); width: 56px; height: 56px; padding: 0; } [md-fab] i, [md-fab] md-icon { padding: 16px 0; } [md-mini-fab] { min-width: 0; border-radius: 50%; background-color: #9c27b0; color: rgba(255, 255, 255, 0.870588); width: 40px; height: 40px; padding: 0; } [md-mini-fab] i, [md-mini-fab] md-icon { padding: 8px 0; } [md-icon-button] { min-width: 0; padding: 0; width: 40px; height: 40px; line-height: 24px; border-radius: 50%; } [md-icon-button] .md-button-wrapper > * { vertical-align: middle; } .md-button-ripple { position: absolute; top: 0; left: 0; bottom: 0; right: 0; } .md-button-ripple-round { border-radius: 50%; z-index: 1; } @media screen and (-ms-high-contrast: active) { .md-raised-button, .md-fab, .md-mini-fab { border: 1px solid #fff; } } /*# sourceMappingURL=button.css.map */ </style><style>/** The width/height of the icon element. */ /** This works because we're using ViewEncapsulation.None. If we used the default encapsulation, the selector would need to be ":host". */ md-icon { background-repeat: no-repeat; display: inline-block; fill: currentColor; height: 24px; width: 24px; } /*# sourceMappingURL=icon.css.map */ </style></head>

<body style="display: none;">
  <app><md-toolbar class="main-toolbar md-primary"><div class="md-toolbar-layout"> <md-toolbar-row> 
  <a class="logo-link" href=""><img class="logo" src="assets/images/logo.png"></a>

  <button class="nav-toggle" md-icon-button=""><span class="md-button-wrapper">
    <i class="material-icons">menu</i>
  </span> </button>

  <nav class="nav-links">
    <div class="primary-nav">
      <div class="tutorials-dropdown">
        <button md-button=""><span class="md-button-wrapper"><span class="button-inner">Tutorials<i class="material-icons">arrow_drop_down</i></span>
        </span> </button>
        <div class="dropdown-content">
          <steps-list prefix="tutorials/socially"><!--template bindings={}--><ul class="tutorial-steps-list">
    <!--template bindings={}--><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/bootstrap">1. Bootstrap</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/static-template">2. Static Templates</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/dynamic-template">3. Dynamic Templates</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/3-way-data-binding">4. 3-way Data Binding</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/adding-removing-objects-and-angular-event-handling">5. Data Management</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/routing-and-multiple-views">6. Routing &amp; Multiple Views</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/bindings">7. Bindings</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/folder-structure">8. Folder Structure</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/users-and-authentication">9. Users &amp; Authentication</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/privacy-and-publish-subscribe-functions">10. Privacy &amp; Subscriptions</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/deploying-your-app">11. Deployment</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/running-your-app-on-android-or-ios-with-phonegap">12. Mobile Support</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/search-sort-pagination-and-reactive-vars">13. Filter and Pagination</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/using-and-creating-angularjs-pipes">14. AngularJS Pipes</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/meteor-methods">15. Meteor Methods</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/conditional-template-directives-with-angularjs">16. Conditional Templates</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/google-maps">17. Google Maps</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/css-sass-and-bootstrap">18. CSS, SASS and Bootstrap</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/angular-material-and-custom-angular-auth-forms">19. Angular2-Material &amp; Custom Auth</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/3rd-party-libraries">20. Third-Party Libraries</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/files-and-uploadfs">21. Files and UploadFS</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/packages-isolation">22. Packages Isolation</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/ionic2">23. Ionic2</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/ngupgrade-and-migration">24. ngUpgrade &amp; Migration</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/next-steps">25. Next Steps</a>
    </li>
    <!--template bindings={}--><li class="step-item extra-item">
        <a class="step-link extra-link bold" className="step-link extra-link bold" href="tutorials/whatsapp2-tutorial">WhatsApp clone with Angular &amp; Meteor</a>
    </li><li class="step-item extra-item">
        <a class="step-link extra-link bold" className="step-link extra-link bold" href="tutorials/migration/angular2/introduction">Blaze to Angular 2 Migration tutorial</a>
    </li><li class="step-item extra-item">
        <a class="step-link extra-link bold" className="step-link extra-link bold" href="training">Custom Training</a>
    </li>
</ul>
</steps-list>
        </div>
      </div>
      <a href="api/angular2-meteor/latest/Meteor-RxJS">
        <button md-button=""><span class="md-button-wrapper">API Reference</span> </button>
      </a>
      <a href="meteor-rxjs">
        <button md-button=""><span class="md-button-wrapper">Meteor+RxJS</span> </button>
      </a>
      <a href="https://github.com/Urigo/angular2-meteor" target="_blank">
        <button md-button=""><span class="md-button-wrapper"><md-icon fontIcon="fa-github" fontSet="fa" role="img" class="fa fa-github" aria-label="fa-github"></md-icon> GitHub</span> </button>
      </a>
    </div>
    <div class="secondary-nav">
      <a href="http://info.meteor.com/blog/author/uri-goldshtein?__hstc=219992390.b4a81f3b906b078dac633307097097f5.1471207723059.1471890076881.1471938647239.7&amp;__hssc=219992390.3.1471938647239&amp;__hsfp=714783454" target="_blank">
        <button md-button=""><span class="md-button-wrapper">Blog</span> </button>
      </a>
      <a class="support-link" href="support">
        <button md-button=""><span class="md-button-wrapper">Support</span> </button>
        <span class="notification">1</span>
      </a>
      <a href="consulting">
        <button md-button=""><span class="md-button-wrapper">Consulting</span> </button>
      </a>
      <a href="manifesto">
        <button md-button=""><span class="md-button-wrapper">Manifesto</span> </button>
      </a>
    </div>
  </nav>
 </md-toolbar-row>  </div></md-toolbar>
<router-outlet></router-outlet><tutorial><div class="tutorials-container">
  <nav class="side-nav l-pinned-left l-layer-4 l-offset-nav">
    <!--template bindings={}--><div class="tutorial-name">
      Angular-Meteor - Socially
    </div>
    <tutorials-versions><!--template bindings={}--><a md-raised-button="" class="tutorial-version tutorial-button md-primary active" className="tutorial-version tutorial-button md-primary active" href="/tutorials/socially/angular1/files-and-uploadfs" aria-disabled="false"><span class="md-button-wrapper">Angular 1</span> </a><a md-raised-button="" class="tutorial-version tutorial-button md-primary " className="tutorial-version tutorial-button md-primary " href="/tutorials/socially/angular2/files-and-uploadfs" aria-disabled="false"><span class="md-button-wrapper">Angular 2</span> </a>
</tutorials-versions>
    <steps-list><!--template bindings={}--><ul class="tutorial-steps-list">
    <!--template bindings={}--><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/bootstrap">1. Bootstrap</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/static-template">2. Static Templates</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/dynamic-template">3. Dynamic Templates</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/3-way-data-binding">4. 3-way Data Binding</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/adding-removing-objects-and-angular-event-handling">5. Data Management</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/routing-and-multiple-views">6. Routing &amp; Multiple Views</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/bindings">7. Bindings</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/folder-structure">8. Folder Structure</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/users-and-authentication">9. Users &amp; Authentication</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/privacy-and-publish-subscribe-functions">10. Privacy &amp; Subscriptions</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/deploying-your-app">11. Deployment</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/running-your-app-on-android-or-ios-with-phonegap">12. Mobile Support</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/search-sort-pagination-and-reactive-vars">13. Filter and Pagination</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/using-and-creating-angularjs-pipes">14. AngularJS Pipes</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/meteor-methods">15. Meteor Methods</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/conditional-template-directives-with-angularjs">16. Conditional Templates</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/google-maps">17. Google Maps</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/css-less-and-bootstrap">18. CSS, LESS and Bootstrap</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/angular-material-and-custom-angular-auth-forms">19. Angular2-Material &amp; Custom Auth</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/3rd-party-libraries">20. Third-Party Libraries</a>
    </li><li class="step-item active-step">
        <a class="step-link" href="/tutorials/socially/angular1/files-and-uploadfs">21. Files and UploadFS</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/packages-isolation">22. Packages Isolation</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/ionic">23. Ionic</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/ngupgrade-and-migration">24. ngUpgrade &amp; Migration</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/socially/angular1/next-steps">25. Next Steps</a>
    </li>
    <!--template bindings={}-->
</ul>
</steps-list>
  </nav>
  <div class="tutorial-content">
    <div class="top-navigation">
      <div class="tutorial-nav">
        <a class="md-primary tutorial-button" md-raised-button="" tutorialNavigation="previous" aria-disabled="false" href="/tutorials/socially/angular1/3rd-party-libraries"><span class="md-button-wrapper">
          <span class="button-wrapper"><i class="material-icons">navigate_before</i>Previous</span>
        </span> </a>
        <a class="md-primary tutorial-button" codeDiffLink="" md-raised-button="" aria-disabled="false" href="https://github.com/Urigo/meteor-angular-socially/compare/step20...step21"><span class="md-button-wrapper">
          <span class="button-wrapper"><i class="material-icons">search</i>Code Diff</span>
        </span> </a>
        <a class="md-primary tutorial-button" md-raised-button="" tutorialNavigation="next" aria-disabled="false" href="/tutorials/socially/angular1/packages-isolation"><span class="md-button-wrapper">
          <span class="button-wrapper right-icon">Next<i class="material-icons">navigate_next</i></span>
        </span> </a>
      </div>

      <div class="improve">
        <a class="md-primary improv-button tutorial-button" md-raised-button="" href="https://github.com/Urigo/angular-meteor-docs/edit/gh-pages/tutorials/socially/angular1/files-and-uploadfs.html" aria-disabled="false"><span class="md-button-wrapper">
          <span class="button-wrapper"><i class="material-icons">mode_edit</i>Improve This Document</span>
        </span> </a>
      </div>
    </div>
    <h1 class="tutorial-title" stepName="">Files and UploadFS</h1>
    <a class="zip-download" stepDownloadZip="" href="https://github.com/Urigo/meteor-angular-socially/archive/step20.zip">
      Note: If you skipped ahead to this section, click here to download a zip of the tutorial at this point.
    </a>
    <!--template bindings={}-->
    <router-outlet></router-outlet><tutorial-page><div class="tutorial-container"></div></tutorial-page><tutorial-container><p>In this step we are going to add the ability to upload images into our app, and also sorting and naming them.</p>
<p>Angular-Meteor can use Meteor <a href="https://github.com/jalik/jalik-ufs">UploadFS</a> which is a suite of Meteor packages that together provide a complete file management solution including uploading, downloading, storage, synchronization, manipulation, and copying.</p>
<p>It supports several storage adapters for saving files to the local filesystem, GridFS and additional storage adapters can be created.</p>
<p>The process is very similar for handling any other MongoDB Collection!</p>
<p>So let's add image upload to our app!</p>
<p>We will start by adding UploadFS to our project, by running the following command:</p>
<pre><code>$ meteor add jalik:ufs
</code></pre><p>Now, we will decide the storage adapter we want to use.
In this example, we will use the GridFS as storage adapters, so we will add the adapter by running this command:</p>
<pre><code>$ meteor add jalik:ufs-gridfs
</code></pre><p>Note: you can find more information about Stores and Storage Adapters on the <a href="https://github.com/jalik/jalik-ufs">UploadFS</a>'s GitHub repository.</p>
<p>So now we have the UploadFS support and the storage adapter installed - we still need to create a UploadFS object to handle our files.
Note that you will need to define the collection as shared resource because you will need to use the collection in both client and server side.</p>
<h3 id="creating-the-mongo-collection-and-uploadfs-store">Creating the Mongo Collection and UploadFS Store</h3>
<p>Let's start by creating <code>imports/api/images/collection.js</code> file, and define a Mongo Collection object called "Images". Since we want to be able to make thumbnails we have to create another Collection called "Thumbs".</p>
<p>Also we will use the stadard Mongo Collection API that allows us to defined auth-rules.</p>
<diffbox step="20.3" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.3</span> <span class="commit-summary">Create Images and Thumbs collections</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/0f785eb2a6f875d1c6881f3f2f692fb49ee27287">imports/api/images/collection.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> Meteor <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/meteor'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> Mongo <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/mongo'</span>;</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Images = <span class="hljs-keyword">new</span> Mongo.Collection(<span class="hljs-string">'images'</span>);</pre><pre class="line-added"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Thumbs = <span class="hljs-keyword">new</span> Mongo.Collection(<span class="hljs-string">'thumbs'</span>);</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loggedIn</span>(<span class="hljs-params">userId</span>) </span><span>{</span></pre><pre class="line-added">  <span class="hljs-keyword">return</span> !!userId;</pre><pre class="line-added"><span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">Thumbs.allow(<span>{</span></pre><pre class="line-added">  insert: loggedIn,</pre><pre class="line-added">  update: loggedIn,</pre><pre class="line-added">  remove: loggedIn</pre><pre class="line-added"><span>}</span>);</pre><pre class="line-added"> </pre><pre class="line-added">Images.allow(<span>{</span></pre><pre class="line-added">  insert: loggedIn,</pre><pre class="line-added">  update: loggedIn,</pre><pre class="line-added">  remove: loggedIn</pre><pre class="line-added"><span>}</span>);</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>We have to create Stores for Images and Thumbs.</p>
<diffbox step="20.4" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.4</span> <span class="commit-summary">Create ThumbsStore and ImagesStore</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/a7b81cb3b31b4d8da120436b25b76ed858f82599">imports/api/images/store.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> UploadFS <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/jalik:ufs'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> Images, Thumbs <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./collection'</span>;</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> ThumbsStore = <span class="hljs-keyword">new</span> UploadFS.store.GridFS(<span>{</span></pre><pre class="line-added">  collection: Thumbs,</pre><pre class="line-added">  name: <span class="hljs-string">'thumbs'</span></pre><pre class="line-added"><span>}</span>);</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> ImagesStore = <span class="hljs-keyword">new</span> UploadFS.store.GridFS(<span>{</span></pre><pre class="line-added">  collection: Images,</pre><pre class="line-added">  name: <span class="hljs-string">'images'</span>,</pre><pre class="line-added">  filter: <span class="hljs-keyword">new</span> UploadFS.Filter(<span>{</span></pre><pre class="line-added">    contentTypes: [<span class="hljs-string">'image/*'</span>]</pre><pre class="line-added">  <span>}</span>),</pre><pre class="line-added">  copyTo: [</pre><pre class="line-added">    ThumbsStore</pre><pre class="line-added">  ]</pre><pre class="line-added"><span>}</span>);</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>Let's explain a bit what happened.</p>
<ul>
<li>We assigned Stores to their Collections, which is required.</li>
<li>We defined names of these Stores.</li>
<li>We added filter to ImagesStore so it can receive only images.</li>
<li>Every file will be copied to ThumbsStore.</li>
</ul>
<p>Now we can create <code>index.js</code> file to export Collections and Stores:</p>
<diffbox step="20.5" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.5</span> <span class="commit-summary">Create main export file of Images and Thumbs</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/7ad5cc1d4b3b257699dbb19260c02b200190a589">imports/api/images/index.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./collection'</span>;</pre><pre class="line-added"><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./store'</span>;</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>There is a reason why we called one of the Collections the <code>Thumbs</code>!</p>
<p>Since we transfer every uploaded file to ThumbsStore, we can now easily add file manipulations.</p>
<p>Let's resize every file to 32x32:</p>
<diffbox step="20.6" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.6</span> <span class="commit-summary">Resize images</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/d9bfbee85348a98e6262106d39b481577533d903">imports/api/images/store.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> ThumbsStore = <span class="hljs-keyword">new</span> UploadFS.store.GridFS(<span>{</span></pre><pre class="line-context">  collection: Thumbs,</pre><pre class="line-added">  name: <span class="hljs-string">'thumbs'</span>,</pre><pre class="line-added">  transformWrite(<span class="hljs-keyword">from</span>, to, fileId, file) <span>{</span></pre><pre class="line-added">    <span class="hljs-comment">// Resize to 32x32</span></pre><pre class="line-added">    <span class="hljs-keyword">const</span> gm = <span class="hljs-built_in">require</span>(<span class="hljs-string">'gm'</span>);</pre><pre class="line-added"> </pre><pre class="line-added">    gm(<span class="hljs-keyword">from</span>, file.name)</pre><pre class="line-added">      .resize(<span class="hljs-number">32</span>, <span class="hljs-number">32</span>)</pre><pre class="line-added">      .gravity(<span class="hljs-string">'Center'</span>)</pre><pre class="line-added">      .extent(<span class="hljs-number">32</span>, <span class="hljs-number">32</span>)</pre><pre class="line-added">      .quality(<span class="hljs-number">75</span>)</pre><pre class="line-added">      .stream()</pre><pre class="line-added">      .pipe(to);</pre><pre class="line-added">  <span>}</span></pre><pre class="line-context"><span>}</span>);</pre><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> ImagesStore = <span class="hljs-keyword">new</span> UploadFS.store.GridFS(<span>{</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>We used <a href="https://github.com/aheckmann/gm"><code>gm</code></a> module, let's install it:</p>
<pre><code>$ meteor npm install gm --save
</code></pre><blockquote>
<p>Be aware that this module requires at least one of these libraries: <a href="http://www.graphicsmagick.org/">GraphicsMagick</a>, <a href="http://www.imagemagick.org/">ImageMagick</a>.</p>
</blockquote>
<h3 id="image-upload">Image upload</h3>
<p>Now, let's create the <code>PartyUpload</code> component. It will be responsible for cropping and uploading photos.</p>
<diffbox step="20.8" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.8</span> <span class="commit-summary">Create view for PartyUpload</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/ff62664fb4fd01756719f02ed3e9cb8fb7544d1a">imports/ui/components/partyUpload/partyUpload.html</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">layout</span>=<span class="hljs-string">"column"</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Click here to select image<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">        <span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>OR<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>You can also drop image to here<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<diffbox step="20.9" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.9</span> <span class="commit-summary">Create PartyUpload component</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/c315dc66bc61c6f2e5630210df426b7fcbe79b55">imports/ui/components/partyUpload/partyUpload.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-keyword">import</span> angular <span class="hljs-keyword">from</span> <span class="hljs-string">'angular'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> angularMeteor <span class="hljs-keyword">from</span> <span class="hljs-string">'angular-meteor'</span>;</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> Meteor <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/meteor'</span>;</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-keyword">import</span> template <span class="hljs-keyword">from</span> <span class="hljs-string">'./partyUpload.html'</span>;</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PartyUpload</span> </span><span>{</span><span>}</span></pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-keyword">const</span> name = <span class="hljs-string">'partyUpload'</span>;</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-comment">// create a module</span></pre><pre class="line-added"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> angular.module(name, [</pre><pre class="line-added">  angularMeteor</pre><pre class="line-added">]).component(name, <span>{</span></pre><pre class="line-added">  template,</pre><pre class="line-added">  controllerAs: name,</pre><pre class="line-added">  controller: PartyUpload</pre><pre class="line-added"><span>}</span>);</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>We want to use it in <code>PartyAdd</code>:</p>
<diffbox step="20.10" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.10</span> <span class="commit-summary">Add to PartyAdd</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/4a0c84a2cb2a49ab160a1f7fd39c55a1ce7b4721">imports/ui/components/partyAdd/partyAdd.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number"> </pre><pre class="line-number">32</pre><pre class="line-number">33</pre><pre class="line-number">34</pre><pre class="line-number">35</pre><pre class="line-number">36</pre><pre class="line-number">37</pre><pre class="line-number">38</pre><pre class="line-number">39</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-keyword">import</span> template <span class="hljs-keyword">from</span> <span class="hljs-string">'./partyAdd.html'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> Parties <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../api/parties'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> name <span class="hljs-keyword">as</span> PartyUpload <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyUpload/partyUpload'</span>;</pre><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PartyAdd</span> </span><span>{</span></pre><pre class="line-context">  <span class="hljs-keyword">constructor</span>() <span>{</span></pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-comment">// create a module</span></pre><pre class="line-context"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> angular.module(name, [</pre><pre class="line-added">  angularMeteor,</pre><pre class="line-added">  PartyUpload</pre><pre class="line-context">]).component(name, <span>{</span></pre><pre class="line-context">  template,</pre><pre class="line-context">  bindings: <span>{</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<diffbox step="20.11" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.11</span> <span class="commit-summary">Implement to the view</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/82b59e0e81ff9a04a16d6beee0fa91aad3ae086f">imports/ui/components/partyAdd/partyAdd.html</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">flex</span>&gt;</span></pre><pre class="line-context">    <span class="hljs-tag">&lt;<span class="hljs-name">md-button</span> <span class="hljs-attr">ng-click</span>=<span class="hljs-string">"partyAdd.submit()"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"md-raised"</span>&gt;</span>Add Party!<span class="hljs-tag">&lt;/<span class="hljs-name">md-button</span>&gt;</span></pre><pre class="line-context">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">party-upload</span> <span class="hljs-attr">files</span>=<span class="hljs-string">"partyAdd.party.images"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-upload</span>&gt;</span></pre><pre class="line-context"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>As you can see we used <code>files</code> directive. We will create it later. For now, let's only say that this is a two-way data binding.</p>
<p>Note that for file upload you can use basic HTML <code>&lt;input type="file"&gt;</code> or any other package - you only need the HTML5 File object to be provided.</p>
<p>For our application, we would like to add ability to drag-and-drop images, so we use AngularJS directive that handles file upload and gives us more abilities such as drag &amp; drop, file validation on the client side. In this example, We will use <a href="https://github.com/danialfarid/ng-file-upload"><code>ng-file-upload</code></a>, which have many features for file upload. In order to do this, let's add the package to our project:</p>
<pre><code>$ meteor npm install ng-file-upload --save
</code></pre><p>Now, lets add a dependency in the <code>PartyUpload</code>:</p>
<diffbox step="20.13" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.13</span> <span class="commit-summary">Add as a dependency</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/dff4d79adb90f234dffeaaa3b1c8cfa35b2e8a7c">imports/ui/components/partyUpload/partyUpload.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number"> </pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">import</span> angular <span class="hljs-keyword">from</span> <span class="hljs-string">'angular'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> angularMeteor <span class="hljs-keyword">from</span> <span class="hljs-string">'angular-meteor'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> ngFileUpload <span class="hljs-keyword">from</span> <span class="hljs-string">'ng-file-upload'</span>;</pre><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> Meteor <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/meteor'</span>;</pre><pre class="line-context"> </pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-comment">// create a module</span></pre><pre class="line-context"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> angular.module(name, [</pre><pre class="line-added">  angularMeteor,</pre><pre class="line-added">  ngFileUpload</pre><pre class="line-context">]).component(name, <span>{</span></pre><pre class="line-context">  template,</pre><pre class="line-context">  controllerAs: name,</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>Now, let's add the usage of <code>ng-file-upload</code>:</p>
<diffbox step="20.14" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.14</span> <span class="commit-summary">Add ngf-drop to the view</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/4bfc9f605bba932876bd5296faaff90e9332ec36">imports/ui/components/partyUpload/partyUpload.html</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">layout</span>=<span class="hljs-string">"column"</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ngf-drop</span></span></pre><pre class="line-added">    ngf-select</pre><pre class="line-added">    ngf-change="partyUpload.addImages($files)"</pre><pre class="line-added">    ngf-drag-over-class="<span>{</span>accept:'dragover', reject:'dragover-err', delay:100<span>}</span>"</pre><pre class="line-added">    class="drop-box"</pre><pre class="line-added">    ngf-multiple="false"</pre><pre class="line-added">    ngf-allow-dir="false"</pre><pre class="line-added">    ngf-accept="'image/*'"</pre><pre class="line-added">    ngf-drop-available="true"</pre><pre class="line-added">    ng-hide="partyUpload.cropImgSrc"&gt;</pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Click here to select image<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>OR<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>You can also drop image to here<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-context">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-context"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>Now let's make it better looking:</p>
<diffbox step="20.16" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.16</span> <span class="commit-summary">Add style</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/8948916e2a5b9cd2831342be8b56b9b29a5899ba">imports/ui/components/partyUpload/partyUpload.less</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-selector-tag">party-upload</span> <span>{</span></pre><pre class="line-added">  <span class="hljs-selector-class">.drop-box</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-selector-tag">background</span>: <span class="hljs-selector-id">#F8F8F8</span>;</pre><pre class="line-added">    <span class="hljs-selector-tag">border</span>: 5<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">dashed</span> <span class="hljs-selector-id">#DDD</span>;</pre><pre class="line-added">    <span class="hljs-selector-tag">text-align</span>: <span class="hljs-selector-tag">center</span>;</pre><pre class="line-added">    <span class="hljs-selector-tag">padding</span>: 25<span class="hljs-selector-tag">px</span>;</pre><pre class="line-added">    <span class="hljs-selector-tag">margin-left</span>: 10<span class="hljs-selector-tag">px</span>;</pre><pre class="line-added">    <span class="hljs-selector-tag">margin-bottom</span>: 20<span class="hljs-selector-tag">px</span>;</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added">  <span class="hljs-selector-class">.drop-box</span><span class="hljs-selector-class">.dragover</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-selector-tag">border</span>: 5<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">dashed</span> <span class="hljs-selector-tag">blue</span>;</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added">  <span class="hljs-selector-class">.drop-box</span><span class="hljs-selector-class">.dragover-err</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-selector-tag">border</span>: 5<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">dashed</span> <span class="hljs-selector-tag">red</span>;</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"><span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>then import new .less file in the <code>PartyAdd</code></p>
<diffbox step="20.17" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.17</span> <span class="commit-summary">Import in PartyAdd</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/de6f8c740d7fd2c6edc1b50753ab279037c68cf9">imports/ui/components/partyAdd/partyAdd.less</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added">@<span class="hljs-keyword">import</span> <span class="hljs-string">"../partyUpload/partyUpload.less"</span>;</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>and in the <code>PartyAddButton</code>:</p>
<diffbox step="20.18" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.18</span> <span class="commit-summary">Import in PartyAddButton</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/8f29cb53cb21ee656ebc416e8d12f641974674ed">imports/ui/components/partyAddButton/partyAddButton.less</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context">  <span class="hljs-selector-tag">right</span>: 15<span class="hljs-selector-tag">px</span>;</pre><pre class="line-context">  <span class="hljs-selector-tag">bottom</span>: 15<span class="hljs-selector-tag">px</span>;</pre><pre class="line-context"><span>}</span></pre><pre class="line-added">@<span class="hljs-keyword">import</span> <span class="hljs-string">"../partyAdd/partyAdd.less"</span>;</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>And that's it! now we can upload images by using drag and drop!
Just note that the Application UI still don't show the new images we upload... we will add this later.
Now let's add some more cool features, And make the uploaded image visible!</p>
<h3 id="image-crop">Image Crop</h3>
<p>One of the most common actions we want to make with pictures is to edit them before saving.
We will add to our example ability to crop images before uploading them to the server, using <a href="https://github.com/alexk111/ngImgCrop/">ngImgCrop</a> package.
So lets start by adding the package to our project:</p>
<pre><code>$ meteor npm install ng-img-crop --save
</code></pre><p>And add a dependency in our module:</p>
<diffbox step="20.20" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.20</span> <span class="commit-summary">Add ngImgCrop</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/5e277d74d2faa21927bab7b4466fdf12066f5b88">imports/ui/components/partyUpload/partyUpload.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number"> </pre><pre class="line-number">39</pre><pre class="line-number">40</pre><pre class="line-number">41</pre><pre class="line-number">42</pre><pre class="line-number">43</pre><pre class="line-number">44</pre><pre class="line-number">45</pre><pre class="line-number">46</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">import</span> angular <span class="hljs-keyword">from</span> <span class="hljs-string">'angular'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> angularMeteor <span class="hljs-keyword">from</span> <span class="hljs-string">'angular-meteor'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> ngFileUpload <span class="hljs-keyword">from</span> <span class="hljs-string">'ng-file-upload'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span class="hljs-string">'ng-img-crop/compile/minified/ng-img-crop'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span class="hljs-string">'ng-img-crop/compile/minified/ng-img-crop.css'</span>;</pre><pre class="line-added"> </pre><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> Meteor <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/meteor'</span>;</pre><pre class="line-context"> </pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context"><span class="hljs-comment">// create a module</span></pre><pre class="line-context"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> angular.module(name, [</pre><pre class="line-context">  angularMeteor,</pre><pre class="line-added">  ngFileUpload,</pre><pre class="line-added">  <span class="hljs-string">'ngImgCrop'</span></pre><pre class="line-context">]).component(name, <span>{</span></pre><pre class="line-context">  template,</pre><pre class="line-context">  controllerAs: name,</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>We want to perform the crop on the client, before uploading it, so let's get the uploaded image, and instead of saving it to the server - we will get the Data Url of it, and use it in the <code>ngImgCrop</code>:</p>
<diffbox step="20.15" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.15</span> <span class="commit-summary">Handle file selection</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/77f26021ab299ecc84f0bc6d6ff9673ed485df64">imports/ui/components/partyUpload/partyUpload.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre><pre class="line-number">26</pre><pre class="line-number">27</pre><pre class="line-number">28</pre><pre class="line-number">29</pre><pre class="line-number">30</pre><pre class="line-number">31</pre><pre class="line-number">32</pre><pre class="line-number">33</pre><pre class="line-number">34</pre><pre class="line-number">35</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-keyword">import</span> template <span class="hljs-keyword">from</span> <span class="hljs-string">'./partyUpload.html'</span>;</pre><pre class="line-context"> </pre><pre class="line-added"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PartyUpload</span> </span><span>{</span></pre><pre class="line-added">  <span class="hljs-keyword">constructor</span>($scope, $reactive) <span>{</span></pre><pre class="line-added">    <span class="hljs-string">'ngInject'</span>;</pre><pre class="line-added"> </pre><pre class="line-added">    $reactive(<span class="hljs-keyword">this</span>).attach($scope);</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  addImages(files) <span>{</span></pre><pre class="line-added">    <span class="hljs-keyword">if</span> (files.length) <span>{</span></pre><pre class="line-added">      <span class="hljs-keyword">this</span>.currentFile = files[<span class="hljs-number">0</span>];</pre><pre class="line-added"> </pre><pre class="line-added">      <span class="hljs-keyword">const</span> reader = <span class="hljs-keyword">new</span> FileReader;</pre><pre class="line-added"> </pre><pre class="line-added">      reader.onload = <span class="hljs-keyword">this</span>.$bindToContext(<span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> <span>{</span></pre><pre class="line-added">        <span class="hljs-keyword">this</span>.cropImgSrc = e.target.result;</pre><pre class="line-added">        <span class="hljs-keyword">this</span>.myCroppedImage = <span class="hljs-string">''</span>;</pre><pre class="line-added">      <span>}</span>);</pre><pre class="line-added"> </pre><pre class="line-added">      reader.readAsDataURL(files[<span class="hljs-number">0</span>]);</pre><pre class="line-added">    <span>}</span> <span class="hljs-keyword">else</span> <span>{</span></pre><pre class="line-added">      <span class="hljs-keyword">this</span>.cropImgSrc = <span class="hljs-literal">undefined</span>;</pre><pre class="line-added">    <span>}</span></pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"><span>}</span></pre><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-keyword">const</span> name = <span class="hljs-string">'partyUpload'</span>;</pre><pre class="line-context"> </pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>We took the file object and used HTML5 <code>FileReader</code> API to read the file from the user on the client side, without uploading it to the server.
Then we saved the DataURL of the image into a variable <code>cropImgSrc</code>.
Next, we will need to use this DataURI with the <code>ngImgCrop</code> directive as follow:</p>
<diffbox step="20.21" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.21</span> <span class="commit-summary">Use ngImgCrop</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/b5585e83e205600805c66b52e685115fdd729600">imports/ui/components/partyUpload/partyUpload.html</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre><pre class="line-number">26</pre><pre class="line-number">27</pre><pre class="line-number">28</pre><pre class="line-number">29</pre><pre class="line-number">30</pre><pre class="line-number">31</pre><pre class="line-number">32</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-context">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>You can also drop image to here<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-context">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ng-show</span>=<span class="hljs-string">"partyUpload.cropImgSrc"</span> <span class="hljs-attr">layout</span>=<span class="hljs-string">"column"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ng-crop"</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Edit &amp;amp; crop<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">md-button</span> <span class="hljs-attr">ng-click</span>=<span class="hljs-string">"partyUpload.save()"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"md-primary"</span>&gt;</span></pre><pre class="line-added">        Save Image</pre><pre class="line-added">      <span class="hljs-tag">&lt;/<span class="hljs-name">md-button</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">md-button</span> <span class="hljs-attr">ng-click</span>=<span class="hljs-string">"partyUpload.reset()"</span>&gt;</span></pre><pre class="line-added">        Cancel</pre><pre class="line-added">      <span class="hljs-tag">&lt;/<span class="hljs-name">md-button</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ng-crop-container"</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">img-crop</span> <span class="hljs-attr">image</span>=<span class="hljs-string">"partyUpload.cropImgSrc"</span> <span class="hljs-attr">result-image</span>=<span class="hljs-string">"partyUpload.myCroppedImage"</span> <span class="hljs-attr">area-type</span>=<span class="hljs-string">"square"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">img-crop</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-context"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<blockquote>
<p>Moreover we add <code>ng-hide</code> to the upload control, in order to hide it, after the user picks an image to crop.</p>
</blockquote>
<p>And add some CSS to make it look better:</p>
<diffbox step="20.22" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.22</span> <span class="commit-summary">Add styles</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/7f5c13d2b8c9613a287b49eb7d6f2c238b249697">imports/ui/components/partyUpload/partyUpload.less</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context">  <span class="hljs-selector-class">.drop-box</span><span class="hljs-selector-class">.dragover-err</span> <span>{</span></pre><pre class="line-context">    <span class="hljs-selector-tag">border</span>: 5<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">dashed</span> <span class="hljs-selector-tag">red</span>;</pre><pre class="line-context">  <span>}</span></pre><pre class="line-added">  <span class="hljs-selector-class">.ng-crop</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-selector-tag">h3</span> <span>{</span></pre><pre class="line-added">      <span class="hljs-selector-tag">margin-top</span>: 0;</pre><pre class="line-added">    <span>}</span></pre><pre class="line-added">  <span>}</span></pre><pre class="line-added">  <span class="hljs-selector-class">.ng-crop-container</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-selector-tag">width</span>: 400<span class="hljs-selector-tag">px</span>;</pre><pre class="line-added">    <span class="hljs-selector-tag">height</span>: 225<span class="hljs-selector-tag">px</span>;</pre><pre class="line-added">  <span>}</span></pre><pre class="line-context"><span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>


<p>Now we need to handle uploading files.</p>
<p>Since we're using <code>DataURL</code> and we need UploadFS expects <code>ArrayBuffer</code> let's add few helper methods.</p>
<p>Add <code>dataURLToBlob</code> to converts DataURL to <code>Blob</code> object:</p>
<diffbox step="20.23" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.23</span> <span class="commit-summary">Add dataURLToBlob helper</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/bcd48007cc8126588681e70ec01b95f83bef74b8">imports/api/images/helpers.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre><pre class="line-number">26</pre><pre class="line-number">27</pre><pre class="line-number">28</pre><pre class="line-number">29</pre><pre class="line-number">30</pre><pre class="line-number">31</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-comment">/**</span></pre><pre class="line-added"> * Converts DataURL to Blob object</pre><pre class="line-added"> *</pre><pre class="line-added"> * https:<span class="hljs-comment">//github.com/ebidel/filer.js/blob/master/src/filer.js#L137</span></pre><pre class="line-added"> *</pre><pre class="line-added"> * @param  <span>{</span><span class="hljs-built_in">String</span><span>}</span> dataURL</pre><pre class="line-added"> * @<span class="hljs-keyword">return</span> <span>{</span>Blob<span>}</span></pre><pre class="line-added"> *<span class="hljs-regexp">/</span></pre><pre class="line-added"><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dataURLToBlob</span>(<span class="hljs-params">dataURL</span>) </span><span>{</span></pre><pre class="line-added">    <span class="hljs-keyword">const</span> BASE64_MARKER = <span class="hljs-string">';base64,'</span>;</pre><pre class="line-added"> </pre><pre class="line-added">    <span class="hljs-keyword">if</span> (dataURL.indexOf(BASE64_MARKER) === <span class="hljs-number">-1</span>) <span>{</span></pre><pre class="line-added">      <span class="hljs-keyword">const</span> parts = dataURL.split(<span class="hljs-string">','</span>);</pre><pre class="line-added">      <span class="hljs-keyword">const</span> contentType = parts[<span class="hljs-number">0</span>].split(<span class="hljs-string">':'</span>)[<span class="hljs-number">1</span>];</pre><pre class="line-added">      <span class="hljs-keyword">const</span> raw = <span class="hljs-built_in">decodeURIComponent</span>(parts[<span class="hljs-number">1</span>]);</pre><pre class="line-added"> </pre><pre class="line-added">      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Blob([raw], <span>{</span><span class="hljs-attr">type</span>: contentType<span>}</span>);</pre><pre class="line-added">    <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">    <span class="hljs-keyword">const</span> parts = dataURL.split(BASE64_MARKER);</pre><pre class="line-added">    <span class="hljs-keyword">const</span> contentType = parts[<span class="hljs-number">0</span>].split(<span class="hljs-string">':'</span>)[<span class="hljs-number">1</span>];</pre><pre class="line-added">    <span class="hljs-keyword">const</span> raw = <span class="hljs-built_in">window</span>.atob(parts[<span class="hljs-number">1</span>]);</pre><pre class="line-added">    <span class="hljs-keyword">const</span> rawLength = raw.length;</pre><pre class="line-added">    <span class="hljs-keyword">const</span> uInt8Array = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Uint8Array</span>(rawLength);</pre><pre class="line-added"> </pre><pre class="line-added">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; rawLength; ++i) <span>{</span></pre><pre class="line-added">      uInt8Array[i] = raw.charCodeAt(i);</pre><pre class="line-added">    <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Blob([uInt8Array], <span>{</span><span class="hljs-attr">type</span>: contentType<span>}</span>);</pre><pre class="line-added"><span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>We have now Blob object so let's convert it to expected <code>ArrayBuffer</code> by creating a function called <code>blobToArrayBuffer</code>:</p>
<diffbox step="20.24" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.24</span> <span class="commit-summary">Add blobToArrayBuffer helper</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/e9c9deea54dc364db5e35f690bb8780486fd21b6">imports/api/images/helpers.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">29</pre><pre class="line-number">30</pre><pre class="line-number">31</pre><pre class="line-number">32</pre><pre class="line-number">33</pre><pre class="line-number">34</pre><pre class="line-number">35</pre><pre class="line-number">36</pre><pre class="line-number">37</pre><pre class="line-number">38</pre><pre class="line-number">39</pre><pre class="line-number">40</pre><pre class="line-number">41</pre><pre class="line-number">42</pre><pre class="line-number">43</pre><pre class="line-number">44</pre><pre class="line-number">45</pre><pre class="line-number">46</pre><pre class="line-number">47</pre><pre class="line-number">48</pre><pre class="line-number">49</pre><pre class="line-number">50</pre><pre class="line-number">51</pre><pre class="line-number">52</pre><pre class="line-number">53</pre><pre class="line-number">54</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"> </pre><pre class="line-context">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Blob([uInt8Array], <span>{</span><span class="hljs-attr">type</span>: contentType<span>}</span>);</pre><pre class="line-context"><span>}</span></pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-comment">/**</span></pre><pre class="line-added"> * Converts Blob object to <span class="hljs-built_in">ArrayBuffer</span></pre><pre class="line-added"> *</pre><pre class="line-added"> * @param  <span>{</span>Blob<span>}</span>       blob          Source file</pre><pre class="line-added"> * @param  <span>{</span><span class="hljs-built_in">Function</span><span>}</span>   callback      Success callback <span class="hljs-keyword">with</span> converted object <span class="hljs-keyword">as</span> a first argument</pre><pre class="line-added"> * @param  <span>{</span><span class="hljs-built_in">Function</span><span>}</span>   errorCallback <span class="hljs-built_in">Error</span> callback <span class="hljs-keyword">with</span> error <span class="hljs-keyword">as</span> a first argument</pre><pre class="line-added"> *<span class="hljs-regexp">/</span></pre><pre class="line-added"><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">blobToArrayBuffer</span>(<span class="hljs-params">blob, callback, errorCallback</span>) </span><span>{</span></pre><pre class="line-added">  <span class="hljs-keyword">const</span> reader = <span class="hljs-keyword">new</span> FileReader();</pre><pre class="line-added"> </pre><pre class="line-added">  reader.onload = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> <span>{</span></pre><pre class="line-added">    callback(e.target.result);</pre><pre class="line-added">  <span>}</span>;</pre><pre class="line-added"> </pre><pre class="line-added">  reader.onerror = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-keyword">if</span> (errorCallback) <span>{</span></pre><pre class="line-added">      errorCallback(e);</pre><pre class="line-added">    <span>}</span></pre><pre class="line-added">  <span>}</span>;</pre><pre class="line-added"> </pre><pre class="line-added">  reader.readAsArrayBuffer(blob);</pre><pre class="line-added"><span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>Now we can take care of uploading by creating a <code>upload</code> function:</p>
<diffbox step="20.25" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.25</span> <span class="commit-summary">Create `upload` method</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/6cd3851bc9200b1380771cb23acaf7ab842553d4">imports/api/images/methods.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre><pre class="line-number">26</pre><pre class="line-number">27</pre><pre class="line-number">28</pre><pre class="line-number">29</pre><pre class="line-number">30</pre><pre class="line-number">31</pre><pre class="line-number">32</pre><pre class="line-number">33</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> UploadFS <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/jalik:ufs'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> ImagesStore <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./store'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> dataURLToBlob, blobToArrayBuffer <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./helpers'</span>;</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-comment">/**</span></pre><pre class="line-added"> * Uploads a <span class="hljs-keyword">new</span> file</pre><pre class="line-added"> *</pre><pre class="line-added"> * @param  <span>{</span><span class="hljs-built_in">String</span><span>}</span>   dataUrl [description]</pre><pre class="line-added"> * @param  <span>{</span><span class="hljs-built_in">String</span><span>}</span>   name    [description]</pre><pre class="line-added"> * @param  <span>{</span><span class="hljs-built_in">Function</span><span>}</span> resolve [description]</pre><pre class="line-added"> * @param  <span>{</span><span class="hljs-built_in">Function</span><span>}</span> reject  [description]</pre><pre class="line-added"> *<span class="hljs-regexp">/</span></pre><pre class="line-added"><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">upload</span>(<span class="hljs-params">dataUrl, name, resolve, reject</span>) </span><span>{</span></pre><pre class="line-added">  <span class="hljs-comment">// convert to Blob</span></pre><pre class="line-added">  <span class="hljs-keyword">const</span> blob = dataURLToBlob(dataUrl);</pre><pre class="line-added">  blob.name = name;</pre><pre class="line-added"> </pre><pre class="line-added">  <span class="hljs-comment">// pick from an object only: name, type and size</span></pre><pre class="line-added">  <span class="hljs-keyword">const</span> file = _.pick(blob, <span class="hljs-string">'name'</span>, <span class="hljs-string">'type'</span>, <span class="hljs-string">'size'</span>);</pre><pre class="line-added"> </pre><pre class="line-added">  <span class="hljs-comment">// convert to ArrayBuffer</span></pre><pre class="line-added">  blobToArrayBuffer(blob, (data) =&gt; <span>{</span></pre><pre class="line-added">    <span class="hljs-keyword">const</span> upload = <span class="hljs-keyword">new</span> UploadFS.Uploader(<span>{</span></pre><pre class="line-added">      data,</pre><pre class="line-added">      file,</pre><pre class="line-added">      store: ImagesStore,</pre><pre class="line-added">      onError: reject,</pre><pre class="line-added">      onComplete: resolve</pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-added"> </pre><pre class="line-added">    upload.start();</pre><pre class="line-added">  <span>}</span>, reject);</pre><pre class="line-added"><span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<ul>
<li><code>dataUrl</code> is the file we want to upload</li>
<li><code>name</code> is a name of the file</li>
<li><code>resolve</code> is a callback function that will be invoked on success</li>
<li><code>reject</code> is a callback function that will be invoked on error</li>
<li>We took <code>name</code>, <code>type</code> and <code>size</code> from Blob object to send these information to <code>UploadFS.Uploader</code></li>
</ul>
<p>What's left is just to export this method:</p>
<diffbox step="20.26" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.26</span> <span class="commit-summary">Export methods</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/19819d6917eab891c6e3f2044a22035a134f31ac">imports/api/images/index.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./collection'</span>;</pre><pre class="line-context"><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./store'</span>;</pre><pre class="line-added"><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./methods'</span>;</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>We previously defined two methods: <code>save()</code> and <code>reset()</code>. Let's implement them using recently created <code>upload</code> function:</p>
<diffbox step="20.27" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.27</span> <span class="commit-summary">Implement `save` and `reset` methods</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/bc5c719642cbe88cd32f05916b2f4a92c59b6d01">imports/ui/components/partyUpload/partyUpload.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number"> </pre><pre class="line-number">35</pre><pre class="line-number">36</pre><pre class="line-number">37</pre><pre class="line-number">38</pre><pre class="line-number">39</pre><pre class="line-number">40</pre><pre class="line-number">41</pre><pre class="line-number">42</pre><pre class="line-number">43</pre><pre class="line-number">44</pre><pre class="line-number">45</pre><pre class="line-number">46</pre><pre class="line-number">47</pre><pre class="line-number">48</pre><pre class="line-number">49</pre><pre class="line-number">50</pre><pre class="line-number">51</pre><pre class="line-number">52</pre><pre class="line-number">53</pre><pre class="line-number">54</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> Meteor <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/meteor'</span>;</pre><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-keyword">import</span> template <span class="hljs-keyword">from</span> <span class="hljs-string">'./partyUpload.html'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> upload <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../api/images'</span>;</pre><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PartyUpload</span> </span><span>{</span></pre><pre class="line-context">  <span class="hljs-keyword">constructor</span>($scope, $reactive) <span>{</span></pre><pre class="line-context">    <span class="hljs-string">'ngInject'</span>;</pre><pre class="line-context"> </pre><pre class="line-context">    $reactive(<span class="hljs-keyword">this</span>).attach($scope);</pre><pre class="line-added"> </pre><pre class="line-added">    <span class="hljs-keyword">this</span>.uploaded = [];</pre><pre class="line-context">  <span>}</span></pre><pre class="line-context"> </pre><pre class="line-context">  addImages(files) <span>{</span></pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context">      <span class="hljs-keyword">this</span>.cropImgSrc = <span class="hljs-literal">undefined</span>;</pre><pre class="line-context">    <span>}</span></pre><pre class="line-context">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  save() <span>{</span></pre><pre class="line-added">    upload(<span class="hljs-keyword">this</span>.myCroppedImage, <span class="hljs-keyword">this</span>.currentFile.name, <span class="hljs-keyword">this</span>.$bindToContext(<span class="hljs-function">(<span class="hljs-params">file</span>) =&gt;</span> <span>{</span></pre><pre class="line-added">      <span class="hljs-keyword">this</span>.uploaded.push(file);</pre><pre class="line-added">      <span class="hljs-keyword">this</span>.reset();</pre><pre class="line-added">    <span>}</span>), (e) =&gt; <span>{</span></pre><pre class="line-added">      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Oops, something went wrong'</span>, e);</pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  reset() <span>{</span></pre><pre class="line-added">    <span class="hljs-keyword">this</span>.cropImgSrc = <span class="hljs-literal">undefined</span>;</pre><pre class="line-added">    <span class="hljs-keyword">this</span>.myCroppedImage = <span class="hljs-string">''</span>;</pre><pre class="line-added">  <span>}</span></pre><pre class="line-context"><span>}</span></pre><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-keyword">const</span> name = <span class="hljs-string">'partyUpload'</span>;</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>Let's explain the code.</p>
<ul>
<li>The cropped image is under <code>myCroppedImage</code> variable so we used it to as the file to be uploaded.</li>
<li>We used <code>currentFile.name</code> to get name of the file.</li>
<li>We used <code>$bindToContext</code> on the first callback (<code>resolve</code>) to keep it inside digest cycle.</li>
<li>We used <code>console.log</code> to notify about an error.</li>
<li>We created `reset()`` to clear these variables.</li>
</ul>
<p>Last thing to do is to import Images and Thumb on the server-side:</p>
<diffbox step="20.28" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.28</span> <span class="commit-summary">Import Images on server side</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/6786e50b8c09831f91575c6508cc488e91b438a3">server/main.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">import</span> <span class="hljs-string">'../imports/startup/fixtures'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span class="hljs-string">'../imports/api/parties'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span class="hljs-string">'../imports/api/users'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span class="hljs-string">'../imports/api/images'</span>;</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<h3 id="display-uploaded-images">Display Uploaded Images</h3>
<p>Let's create a simple gallery to list the images in the new party form:</p>
<diffbox step="20.29" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.29</span> <span class="commit-summary">Display uploaded images</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/b3e71d24f2cd3e7133f564cbcf12d723a551d8b8">imports/ui/components/partyUpload/partyUpload.html</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">29</pre><pre class="line-number">30</pre><pre class="line-number">31</pre><pre class="line-number">32</pre><pre class="line-number">33</pre><pre class="line-number">34</pre><pre class="line-number">35</pre><pre class="line-number">36</pre><pre class="line-number">37</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context">      <span class="hljs-tag">&lt;<span class="hljs-name">img-crop</span> <span class="hljs-attr">image</span>=<span class="hljs-string">"partyUpload.cropImgSrc"</span> <span class="hljs-attr">result-image</span>=<span class="hljs-string">"partyUpload.myCroppedImage"</span> <span class="hljs-attr">area-type</span>=<span class="hljs-string">"square"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">img-crop</span>&gt;</span></pre><pre class="line-context">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-context">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">layout</span>=<span class="hljs-string">"row"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"images-container-title"</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"party-image-container"</span> <span class="hljs-attr">ng-class</span>=<span class="hljs-string">"<span>{</span>'main-image': $index === 0<span>}</span>"</span> <span class="hljs-attr">ng-repeat</span>=<span class="hljs-string">"thumb in partyUpload.thumbs"</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">ng-src</span>=<span class="hljs-string">"<span>{</span><span>{</span> thumb.url <span>}</span><span>}</span>"</span>/&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-context"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<diffbox step="20.30" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.30</span> <span class="commit-summary">Add styles</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/1c04bd7d6442a1fb8b32540060c57816b313c1ff">imports/ui/components/partyUpload/partyUpload.less</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre><pre class="line-number">26</pre><pre class="line-number">27</pre><pre class="line-number">28</pre><pre class="line-number">29</pre><pre class="line-number">30</pre><pre class="line-number">31</pre><pre class="line-number">32</pre><pre class="line-number">33</pre><pre class="line-number">34</pre><pre class="line-number">35</pre><pre class="line-number">36</pre><pre class="line-number">37</pre><pre class="line-number">38</pre><pre class="line-number">39</pre><pre class="line-number">40</pre><pre class="line-number">41</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context">    <span class="hljs-selector-tag">width</span>: 400<span class="hljs-selector-tag">px</span>;</pre><pre class="line-context">    <span class="hljs-selector-tag">height</span>: 225<span class="hljs-selector-tag">px</span>;</pre><pre class="line-context">  <span>}</span></pre><pre class="line-added">  <span class="hljs-selector-class">.images-container-title</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-selector-tag">padding-bottom</span>: 30<span class="hljs-selector-tag">px</span>;</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added">  <span class="hljs-selector-class">.party-image-container</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-selector-tag">position</span>: <span class="hljs-selector-tag">relative</span>;</pre><pre class="line-added">    <span class="hljs-selector-tag">margin-right</span>: 10<span class="hljs-selector-tag">px</span>;</pre><pre class="line-added">    <span class="hljs-selector-tag">max-height</span>: 200<span class="hljs-selector-tag">px</span>;</pre><pre class="line-added">    <span class="hljs-selector-tag">max-width</span>: 200<span class="hljs-selector-tag">px</span>;</pre><pre class="line-added">    <span class="hljs-selector-tag">img</span> <span>{</span></pre><pre class="line-added">      <span class="hljs-selector-tag">max-height</span>: 100%;</pre><pre class="line-added">      <span class="hljs-selector-tag">max-width</span>: 100%;</pre><pre class="line-added">    <span>}</span></pre><pre class="line-added">  <span>}</span></pre><pre class="line-added">  <span class="hljs-selector-class">.main-image</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-selector-tag">border</span>: 2<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">solid</span> <span class="hljs-selector-id">#ddd</span>;</pre><pre class="line-added">  <span>}</span></pre><pre class="line-context"><span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>We have to somehow get thumbnails to show them in this gallery.</p>
<p>Since we keep them in Collections, we have to create proper publications:</p>
<diffbox step="20.31" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.31</span> <span class="commit-summary">Add `thumbs` and `images` publications</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/81563401fd045b766d0c1743e4cd66881e14376e">imports/api/images/publish.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> Meteor <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/meteor'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> Thumbs, Images <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./collection'</span>;</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-keyword">if</span> (Meteor.isServer) <span>{</span></pre><pre class="line-added">  Meteor.publish(<span class="hljs-string">'thumbs'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ids</span>) </span><span>{</span></pre><pre class="line-added">    <span class="hljs-keyword">return</span> Thumbs.find(<span>{</span></pre><pre class="line-added">      originalStore: <span class="hljs-string">'images'</span>,</pre><pre class="line-added">      originalId: <span>{</span></pre><pre class="line-added">        $<span class="hljs-keyword">in</span>: ids</pre><pre class="line-added">      <span>}</span></pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-added">  <span>}</span>);</pre><pre class="line-added"> </pre><pre class="line-added">  Meteor.publish(<span class="hljs-string">'images'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span><span>{</span></pre><pre class="line-added">    <span class="hljs-keyword">return</span> Images.find(<span>{</span><span>}</span>);</pre><pre class="line-added">  <span>}</span>);</pre><pre class="line-added"><span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<diffbox step="20.32" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.32</span> <span class="commit-summary">Import publications</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/6e953043d866f0b5ad8e453edd10fa38431cb8de">imports/api/images/index.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-keyword">import</span> <span class="hljs-string">'./publish'</span>;</pre><pre class="line-context"><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./collection'</span>;</pre><pre class="line-context"><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./store'</span>;</pre><pre class="line-context"><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./methods'</span>;</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>Now we can implement thumbnails:</p>
<diffbox step="20.33" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.33</span> <span class="commit-summary">Implement thumbnails</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/d896d872595520f9950837aa602d9858cc24a0a3">imports/ui/components/partyUpload/partyUpload.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number"> </pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre><pre class="line-number">26</pre><pre class="line-number">27</pre><pre class="line-number">28</pre><pre class="line-number">29</pre><pre class="line-number">30</pre><pre class="line-number">31</pre><pre class="line-number">32</pre><pre class="line-number">33</pre><pre class="line-number">34</pre><pre class="line-number">35</pre><pre class="line-number">36</pre><pre class="line-number">37</pre><pre class="line-number"> </pre><pre class="line-number">54</pre><pre class="line-number">55</pre><pre class="line-number">56</pre><pre class="line-number">57</pre><pre class="line-number">58</pre><pre class="line-number">59</pre><pre class="line-number">60</pre><pre class="line-number">61</pre><pre class="line-number">62</pre><pre class="line-number">63</pre><pre class="line-number">64</pre><pre class="line-number">65</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> Meteor <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/meteor'</span>;</pre><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-keyword">import</span> template <span class="hljs-keyword">from</span> <span class="hljs-string">'./partyUpload.html'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> Thumbs, upload <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../api/images'</span>;</pre><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PartyUpload</span> </span><span>{</span></pre><pre class="line-context">  <span class="hljs-keyword">constructor</span>($scope, $reactive) <span>{</span></pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context">    $reactive(<span class="hljs-keyword">this</span>).attach($scope);</pre><pre class="line-context"> </pre><pre class="line-context">    <span class="hljs-keyword">this</span>.uploaded = [];</pre><pre class="line-added"> </pre><pre class="line-added">    <span class="hljs-keyword">this</span>.subscribe(<span class="hljs-string">'thumbs'</span>, () =&gt; [</pre><pre class="line-added">      <span class="hljs-keyword">this</span>.getReactively(<span class="hljs-string">'files'</span>, <span class="hljs-literal">true</span>) || []</pre><pre class="line-added">    ]);</pre><pre class="line-added"> </pre><pre class="line-added">    <span class="hljs-keyword">this</span>.helpers(<span>{</span></pre><pre class="line-added">      thumbs() <span>{</span></pre><pre class="line-added">        <span class="hljs-keyword">return</span> Thumbs.find(<span>{</span></pre><pre class="line-added">          originalStore: <span class="hljs-string">'images'</span>,</pre><pre class="line-added">          originalId: <span>{</span></pre><pre class="line-added">            $<span class="hljs-keyword">in</span>: <span class="hljs-keyword">this</span>.getReactively(<span class="hljs-string">'files'</span>, <span class="hljs-literal">true</span>) || []</pre><pre class="line-added">          <span>}</span></pre><pre class="line-added">        <span>}</span>);</pre><pre class="line-added">      <span>}</span></pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-context">  <span>}</span></pre><pre class="line-context"> </pre><pre class="line-context">  addImages(files) <span>{</span></pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context">  save() <span>{</span></pre><pre class="line-context">    upload(<span class="hljs-keyword">this</span>.myCroppedImage, <span class="hljs-keyword">this</span>.currentFile.name, <span class="hljs-keyword">this</span>.$bindToContext(<span class="hljs-function">(<span class="hljs-params">file</span>) =&gt;</span> <span>{</span></pre><pre class="line-context">      <span class="hljs-keyword">this</span>.uploaded.push(file);</pre><pre class="line-added"> </pre><pre class="line-added">      <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.files || !<span class="hljs-keyword">this</span>.files.length) <span>{</span></pre><pre class="line-added">        <span class="hljs-keyword">this</span>.files = [];</pre><pre class="line-added">      <span>}</span></pre><pre class="line-added">      <span class="hljs-keyword">this</span>.files.push(file._id);</pre><pre class="line-added"> </pre><pre class="line-context">      <span class="hljs-keyword">this</span>.reset();</pre><pre class="line-context">    <span>}</span>), (e) =&gt; <span>{</span></pre><pre class="line-context">      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Oops, something went wrong'</span>, e);</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>There are few things that need to be explained:</p>
<ul>
<li>We subscribed to <code>thumbs</code> publication with one argument.</li>
<li>We created the <code>thumbs</code> helper that fetches all thumbnails of our saved files.</li>
<li>Mentioned before <code>files</code> variable. It contains identifiers of uploaded files.</li>
</ul>
<h3 id="sort-images">Sort Images</h3>
<p>We can also add an ability to sort and update the images order.
To get the ability to sort the images, let's use <a href="https://github.com/kamilkp/angular-sortable-view">angular-sortable-view</a>.</p>
<pre><code>$ meteor npm install angular-sortable-view --save
</code></pre><p>Let's add it as a dependency:</p>
<diffbox step="20.35" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.35</span> <span class="commit-summary">Add as a dependency</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/a95a3fcce7e74f876684293faf324c5189476d7c">imports/ui/components/partyUpload/partyUpload.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number"> </pre><pre class="line-number">79</pre><pre class="line-number">80</pre><pre class="line-number">81</pre><pre class="line-number">82</pre><pre class="line-number">83</pre><pre class="line-number">84</pre><pre class="line-number">85</pre><pre class="line-number">86</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">import</span> angular <span class="hljs-keyword">from</span> <span class="hljs-string">'angular'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> angularMeteor <span class="hljs-keyword">from</span> <span class="hljs-string">'angular-meteor'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> ngFileUpload <span class="hljs-keyword">from</span> <span class="hljs-string">'ng-file-upload'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span class="hljs-string">'angular-sortable-view'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span class="hljs-string">'ng-img-crop/compile/minified/ng-img-crop'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span class="hljs-string">'ng-img-crop/compile/minified/ng-img-crop.css'</span>;</pre><pre class="line-context"> </pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> angular.module(name, [</pre><pre class="line-context">  angularMeteor,</pre><pre class="line-context">  ngFileUpload,</pre><pre class="line-added">  <span class="hljs-string">'ngImgCrop'</span>,</pre><pre class="line-added">  <span class="hljs-string">'angular-sortable-view'</span></pre><pre class="line-context">]).component(name, <span>{</span></pre><pre class="line-context">  template,</pre><pre class="line-context">  controllerAs: name,</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>Implement directives of angular-sortable-view:</p>
<diffbox step="20.36" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.36</span> <span class="commit-summary">Use directives on thumbnails</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/c358fe201026ba08a301c9478e20986780c45cbe">imports/ui/components/partyUpload/partyUpload.html</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">29</pre><pre class="line-number">30</pre><pre class="line-number">31</pre><pre class="line-number">32</pre><pre class="line-number">33</pre><pre class="line-number">34</pre><pre class="line-number">35</pre><pre class="line-number">36</pre><pre class="line-number">37</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context">      <span class="hljs-tag">&lt;<span class="hljs-name">img-crop</span> <span class="hljs-attr">image</span>=<span class="hljs-string">"partyUpload.cropImgSrc"</span> <span class="hljs-attr">result-image</span>=<span class="hljs-string">"partyUpload.myCroppedImage"</span> <span class="hljs-attr">area-type</span>=<span class="hljs-string">"square"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">img-crop</span>&gt;</span></pre><pre class="line-context">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-context">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">layout</span>=<span class="hljs-string">"row"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"images-container-title"</span> <span class="hljs-attr">sv-root</span> <span class="hljs-attr">sv-part</span>=<span class="hljs-string">"partyUpload.thumbs"</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">sv-element</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"party-image-container"</span> <span class="hljs-attr">ng-class</span>=<span class="hljs-string">"<span>{</span>'main-image': $index === 0<span>}</span>"</span> <span class="hljs-attr">ng-repeat</span>=<span class="hljs-string">"thumb in partyUpload.thumbs"</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">draggable</span>=<span class="hljs-string">"false"</span> <span class="hljs-attr">ng-src</span>=<span class="hljs-string">"<span>{</span><span>{</span> thumb.url <span>}</span><span>}</span>"</span>/&gt;</span></pre><pre class="line-context">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-context">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-context"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>You can now easily change their order.</p>
<blockquote>
<p>Remember! First file is the main file which will be shown on parties list. We will implement it later.</p>
</blockquote>
<p>Since we have sorting, croping and uploading. We can now add binding we prepared previously:</p>
<diffbox step="20.37" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.37</span> <span class="commit-summary">Define two-way data binding `files`</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/cf35bb5f392208453593bfdd821ac8f85c5fd724">imports/ui/components/partyUpload/partyUpload.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">83</pre><pre class="line-number">84</pre><pre class="line-number">85</pre><pre class="line-number">86</pre><pre class="line-number">87</pre><pre class="line-number">88</pre><pre class="line-number">89</pre><pre class="line-number">90</pre><pre class="line-number">91</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context">  <span class="hljs-string">'angular-sortable-view'</span></pre><pre class="line-context">]).component(name, <span>{</span></pre><pre class="line-context">  template,</pre><pre class="line-added">  bindings: <span>{</span></pre><pre class="line-added">    files: <span class="hljs-string">'=?'</span></pre><pre class="line-added">  <span>}</span>,</pre><pre class="line-context">  controllerAs: name,</pre><pre class="line-context">  controller: PartyUpload</pre><pre class="line-context"><span>}</span>);</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>
### Display party image on the list

As always, we have to create component, let's call it <code>PartyImage</code>.

<diffbox step="20.38" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.38</span> <span class="commit-summary">Create view for PartyImage</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/9661dbbee260d4d0c9ce899eef701a5343ad3426">imports/ui/components/partyImage/partyImage.html</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">ng-src</span>=<span class="hljs-string">"<span>{</span><span>{</span>partyImage.mainImage.url<span>}</span><span>}</span>"</span>/&gt;</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<diffbox step="20.39" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.39</span> <span class="commit-summary">Create PartyImage component</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/7ecbd511cf91167f716c05b815141e468cb6999f">imports/ui/components/partyImage/partyImage.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre><pre class="line-number">26</pre><pre class="line-number">27</pre><pre class="line-number">28</pre><pre class="line-number">29</pre><pre class="line-number">30</pre><pre class="line-number">31</pre><pre class="line-number">32</pre><pre class="line-number">33</pre><pre class="line-number">34</pre><pre class="line-number">35</pre><pre class="line-number">36</pre><pre class="line-number">37</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-keyword">import</span> angular <span class="hljs-keyword">from</span> <span class="hljs-string">'angular'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> angularMeteor <span class="hljs-keyword">from</span> <span class="hljs-string">'angular-meteor'</span>;</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-keyword">import</span> template <span class="hljs-keyword">from</span> <span class="hljs-string">'./partyImage.html'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> Images <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../api/images'</span>;</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PartyImage</span> </span><span>{</span></pre><pre class="line-added">  <span class="hljs-keyword">constructor</span>($scope, $reactive) <span>{</span></pre><pre class="line-added">    <span class="hljs-string">'ngInject'</span>;</pre><pre class="line-added">    $reactive(<span class="hljs-keyword">this</span>).attach($scope);</pre><pre class="line-added"> </pre><pre class="line-added">    <span class="hljs-keyword">this</span>.helpers(<span>{</span></pre><pre class="line-added">      mainImage() <span>{</span></pre><pre class="line-added">        <span class="hljs-keyword">const</span> images = <span class="hljs-keyword">this</span>.getReactively(<span class="hljs-string">'images'</span>, <span class="hljs-literal">true</span>);</pre><pre class="line-added">        <span class="hljs-keyword">if</span> (images) <span>{</span></pre><pre class="line-added">          <span class="hljs-keyword">return</span> Images.findOne(<span>{</span></pre><pre class="line-added">            _id: images[<span class="hljs-number">0</span>]</pre><pre class="line-added">          <span>}</span>);</pre><pre class="line-added">        <span>}</span></pre><pre class="line-added">      <span>}</span></pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"><span>}</span></pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-keyword">const</span> name = <span class="hljs-string">'partyImage'</span>;</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-comment">// create a module</span></pre><pre class="line-added"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> angular.module(name, [</pre><pre class="line-added">  angularMeteor</pre><pre class="line-added">]).component(name, <span>{</span></pre><pre class="line-added">  template,</pre><pre class="line-added">  bindings: <span>{</span></pre><pre class="line-added">    images: <span class="hljs-string">'&lt;'</span></pre><pre class="line-added">  <span>}</span>,</pre><pre class="line-added">  controllerAs: name,</pre><pre class="line-added">  controller: PartyImage</pre><pre class="line-added"><span>}</span>);</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>As you can see we defined <code>images</code> which is a one-way binding that tells to the PartyImage component which images have been uploaded to the party.</p>
<blockquote>
<p>Objects of <code>Images</code> and <code>Thumbs</code> collections contains <code>.url</code> property with absolute url to the file.</p>
</blockquote>
<p>Now let's implement it to the <code>PartiesList</code> by adding dependency and what is more important, by subscribing <code>images</code>. Subscription is needed to fetch defined images.</p>
<diffbox step="20.40" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.40</span> <span class="commit-summary">Implement PartyImage in PartiesList</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/dd1471cc7e7f74ec819811025ea8189b1a430634">imports/ui/components/partiesList/partiesList.html</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">25</pre><pre class="line-number">26</pre><pre class="line-number">27</pre><pre class="line-number">28</pre><pre class="line-number">29</pre><pre class="line-number">30</pre><pre class="line-number">31</pre><pre class="line-number">32</pre><pre class="line-number">33</pre><pre class="line-number">34</pre><pre class="line-number">35</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context">            <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></pre><pre class="line-context">            <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"md-subhead"</span>&gt;</span><span>{</span><span>{</span>party.description<span>}</span><span>}</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></pre><pre class="line-context">          <span class="hljs-tag">&lt;/<span class="hljs-name">md-card-title-text</span>&gt;</span></pre><pre class="line-added">          <span class="hljs-tag">&lt;<span class="hljs-name">md-card-title-media</span> <span class="hljs-attr">ng-if</span>=<span class="hljs-string">"party.images"</span>&gt;</span></pre><pre class="line-added">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"md-media-lg card-media"</span>&gt;</span></pre><pre class="line-added">              <span class="hljs-tag">&lt;<span class="hljs-name">party-image</span> <span class="hljs-attr">images</span>=<span class="hljs-string">"party.images"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-image</span>&gt;</span></pre><pre class="line-added">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">          <span class="hljs-tag">&lt;/<span class="hljs-name">md-card-title-media</span>&gt;</span></pre><pre class="line-context">        <span class="hljs-tag">&lt;/<span class="hljs-name">md-card-title</span>&gt;</span></pre><pre class="line-context">        <span class="hljs-tag">&lt;<span class="hljs-name">md-card-content</span>&gt;</span></pre><pre class="line-context">          <span class="hljs-tag">&lt;<span class="hljs-name">party-rsvps-list</span> <span class="hljs-attr">rsvps</span>=<span class="hljs-string">"party.rsvps"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-rsvps-list</span>&gt;</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<diffbox step="20.41" tutorial="angular1-meteor-socially"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">20.41</span> <span class="commit-summary">Add PartyImage to PartiesList and subscribe to `images`</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/b7cf3f25dfc1b39efe9d65607212f0ef7b54ac9d">imports/ui/components/partiesList/partiesList.js</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number"> </pre><pre class="line-number">37</pre><pre class="line-number">38</pre><pre class="line-number">39</pre><pre class="line-number">40</pre><pre class="line-number">41</pre><pre class="line-number">42</pre><pre class="line-number">43</pre><pre class="line-number"> </pre><pre class="line-number">83</pre><pre class="line-number">84</pre><pre class="line-number">85</pre><pre class="line-number">86</pre><pre class="line-number">87</pre><pre class="line-number">88</pre><pre class="line-number">89</pre><pre class="line-number">90</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> name <span class="hljs-keyword">as</span> PartyCreator <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyCreator/partyCreator'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> name <span class="hljs-keyword">as</span> PartyRsvp <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyRsvp/partyRsvp'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> name <span class="hljs-keyword">as</span> PartyRsvpsList <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyRsvpsList/partyRsvpsList'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> name <span class="hljs-keyword">as</span> PartyImage <span>}</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyImage/partyImage'</span>;</pre><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PartiesList</span> </span><span>{</span></pre><pre class="line-context">  <span class="hljs-keyword">constructor</span>($scope, $reactive) <span>{</span></pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context">    ]);</pre><pre class="line-context"> </pre><pre class="line-context">    <span class="hljs-keyword">this</span>.subscribe(<span class="hljs-string">'users'</span>);</pre><pre class="line-added">    <span class="hljs-keyword">this</span>.subscribe(<span class="hljs-string">'images'</span>);</pre><pre class="line-context"> </pre><pre class="line-context">    <span class="hljs-keyword">this</span>.helpers(<span>{</span></pre><pre class="line-context">      parties() <span>{</span></pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context">  PartyRemove,</pre><pre class="line-context">  PartyCreator,</pre><pre class="line-context">  PartyRsvp,</pre><pre class="line-added">  PartyRsvpsList,</pre><pre class="line-added">  PartyImage</pre><pre class="line-context">]).component(name, <span>{</span></pre><pre class="line-context">  template,</pre><pre class="line-context">  controllerAs: name,</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>And that's it!</p>
<h3 id="cloud-storage">Cloud Storage</h3>
<p>By storing files in the cloud you can reduce your costs and get a lot of other benefits.</p>
<p>Since this chapter is all about uploading files and UploadFS doesn't have built-in support for cloud services we should mention another library for that.</p>
<p>We recommend you to use <a href="https://github.com/CulturalMe/meteor-slingshot/">Slingshot</a>. You can install it by running:</p>
<pre><code>$ meteor add edgee:slingshot
</code></pre><p>It's very easy to use with AWS S3, Google Cloud and other cloud storage services.</p>
<p>From slignshot's repository:</p>
<blockquote>
<p>meteor-slingshot uploads the files directly to the cloud service from the browser without ever exposing your secret access key or any other sensitive data to the client and without requiring public write access to cloud storage to the entire public.</p>
</blockquote>
</tutorial-container><!--template bindings={}-->
    <br><br>
    <div class="top-navigation">
      <div class="tutorial-nav">
        <a class="md-primary tutorial-button" md-raised-button="" tutorialNavigation="previous" aria-disabled="false" href="/tutorials/socially/angular1/3rd-party-libraries"><span class="md-button-wrapper">
          <span class="button-wrapper"><i class="material-icons">navigate_before</i>Previous</span>
        </span> </a>
        <a class="md-primary tutorial-button" codeDiffLink="" md-raised-button="" aria-disabled="false" href="https://github.com/Urigo/meteor-angular-socially/compare/step20...step21"><span class="md-button-wrapper">
          <span class="button-wrapper"><i class="material-icons">search</i>Code Diff</span>
        </span> </a>
        <a class="md-primary tutorial-button" md-raised-button="" tutorialNavigation="next" aria-disabled="false" href="/tutorials/socially/angular1/packages-isolation"><span class="md-button-wrapper">
          <span class="button-wrapper right-icon">Next<i class="material-icons">navigate_next</i></span>
        </span> </a>
      </div>

      <div class="improve">
        <a class="md-primary improv-button tutorial-button" md-raised-button="" href="https://github.com/Urigo/angular-meteor-docs/edit/gh-pages/tutorials/socially/angular1/files-and-uploadfs.html" aria-disabled="false"><span class="md-button-wrapper">
          <span class="button-wrapper"><i class="material-icons">mode_edit</i>Improve This Document</span>
        </span> </a>
      </div>
    </div>
  </div>
</div>
</tutorial>

</app>

  <!-- Google Tag Manager -->
  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PKC4D4"
                    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-PKC4D4');</script>
  <!-- End Google Tag Manager -->



<style type="text/css">@charset "UTF-8";.hljs{background:#f0f0f0}.hljs-doctag,.hljs-meta-keyword{font-weight:700}.hljs-deletion,.hljs-selector-class,.hljs-template-tag{color:#800}.hljs-selector-attr,.hljs-selector-pseudo{color:#bc6060}.hljs-addition,.hljs-code{color:#397300}.hljs-meta-string{color:#4d99bf}.hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag{color:#333;font-weight:700}.hljs-subst{color:#333}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@font-face{font-family:'FontAwesome';src:url(assets/fonts/fontawesome-webfont.eot?v=4.7.0);src:url(assets/fonts/fontawesome-webfont.eot?#iefix&v=4.7.0) format("embedded-opentype"),url(assets/fonts/fontawesome-webfont.woff2?v=4.7.0) format("woff2"),url(assets/fonts/fontawesome-webfont.woff?v=4.7.0) format("woff"),url(assets/fonts/fontawesome-webfont.ttf?v=4.7.0) format("truetype"),url(assets/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular) format("svg");font-weight:400;font-style:normal}.fa{display:inline-block;font:14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.33333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14286em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14286em;width:2.14286em;top:.14286em;text-align:center}.fa-li.fa-lg{left:-1.85714em}.fa-border{padding:.2em .25em .15em;border:solid .08em #eee;border-radius:.1em}.fa-pull-left{float:left}.fa-pull-right,.pull-right{float:right}.fa.fa-pull-left{margin-right:.3em}.fa.fa-pull-right{margin-left:.3em}.pull-left{float:left}.fa.pull-left{margin-right:.3em}.fa.pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-rotate-90{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";-webkit-transform:scale(1,-1);-ms-transform:scale(1,-1);transform:scale(1,-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:""}.fa-music:before{content:""}.fa-search:before{content:""}.fa-envelope-o:before{content:""}.fa-heart:before{content:""}.fa-star:before{content:""}.fa-star-o:before{content:""}.fa-user:before{content:""}.fa-film:before{content:""}.fa-th-large:before{content:""}.fa-th:before{content:""}.fa-th-list:before{content:""}.fa-check:before{content:""}.fa-close:before,.fa-remove:before,.fa-times:before{content:""}.fa-search-plus:before{content:""}.fa-search-minus:before{content:""}.fa-power-off:before{content:""}.fa-signal:before{content:""}.fa-cog:before,.fa-gear:before{content:""}.fa-trash-o:before{content:""}.fa-home:before{content:""}.fa-file-o:before{content:""}.fa-clock-o:before{content:""}.fa-road:before{content:""}.fa-download:before{content:""}.fa-arrow-circle-o-down:before{content:""}.fa-arrow-circle-o-up:before{content:""}.fa-inbox:before{content:""}.fa-play-circle-o:before{content:""}.fa-repeat:before,.fa-rotate-right:before{content:""}.fa-refresh:before{content:""}.fa-list-alt:before{content:""}.fa-lock:before{content:""}.fa-flag:before{content:""}.fa-headphones:before{content:""}.fa-volume-off:before{content:""}.fa-volume-down:before{content:""}.fa-volume-up:before{content:""}.fa-qrcode:before{content:""}.fa-barcode:before{content:""}.fa-tag:before{content:""}.fa-tags:before{content:""}.fa-book:before{content:""}.fa-bookmark:before{content:""}.fa-print:before{content:""}.fa-camera:before{content:""}.fa-font:before{content:""}.fa-bold:before{content:""}.fa-italic:before{content:""}.fa-text-height:before{content:""}.fa-text-width:before{content:""}.fa-align-left:before{content:""}.fa-align-center:before{content:""}.fa-align-right:before{content:""}.fa-align-justify:before{content:""}.fa-list:before{content:""}.fa-dedent:before,.fa-outdent:before{content:""}.fa-indent:before{content:""}.fa-video-camera:before{content:""}.fa-image:before,.fa-photo:before,.fa-picture-o:before{content:""}.fa-pencil:before{content:""}.fa-map-marker:before{content:""}.fa-adjust:before{content:""}.fa-tint:before{content:""}.fa-edit:before,.fa-pencil-square-o:before{content:""}.fa-share-square-o:before{content:""}.fa-check-square-o:before{content:""}.fa-arrows:before{content:""}.fa-step-backward:before{content:""}.fa-fast-backward:before{content:""}.fa-backward:before{content:""}.fa-play:before{content:""}.fa-pause:before{content:""}.fa-stop:before{content:""}.fa-forward:before{content:""}.fa-fast-forward:before{content:""}.fa-step-forward:before{content:""}.fa-eject:before{content:""}.fa-chevron-left:before{content:""}.fa-chevron-right:before{content:""}.fa-plus-circle:before{content:""}.fa-minus-circle:before{content:""}.fa-times-circle:before{content:""}.fa-check-circle:before{content:""}.fa-question-circle:before{content:""}.fa-info-circle:before{content:""}.fa-crosshairs:before{content:""}.fa-times-circle-o:before{content:""}.fa-check-circle-o:before{content:""}.fa-ban:before{content:""}.fa-arrow-left:before{content:""}.fa-arrow-right:before{content:""}.fa-arrow-up:before{content:""}.fa-arrow-down:before{content:""}.fa-mail-forward:before,.fa-share:before{content:""}.fa-expand:before{content:""}.fa-compress:before{content:""}.fa-plus:before{content:""}.fa-minus:before{content:""}.fa-asterisk:before{content:""}.fa-exclamation-circle:before{content:""}.fa-gift:before{content:""}.fa-leaf:before{content:""}.fa-fire:before{content:""}.fa-eye:before{content:""}.fa-eye-slash:before{content:""}.fa-exclamation-triangle:before,.fa-warning:before{content:""}.fa-plane:before{content:""}.fa-calendar:before{content:""}.fa-random:before{content:""}.fa-comment:before{content:""}.fa-magnet:before{content:""}.fa-chevron-up:before{content:""}.fa-chevron-down:before{content:""}.fa-retweet:before{content:""}.fa-shopping-cart:before{content:""}.fa-folder:before{content:""}.fa-folder-open:before{content:""}.fa-arrows-v:before{content:""}.fa-arrows-h:before{content:""}.fa-bar-chart-o:before,.fa-bar-chart:before{content:""}.fa-twitter-square:before{content:""}.fa-facebook-square:before{content:""}.fa-camera-retro:before{content:""}.fa-key:before{content:""}.fa-cogs:before,.fa-gears:before{content:""}.fa-comments:before{content:""}.fa-thumbs-o-up:before{content:""}.fa-thumbs-o-down:before{content:""}.fa-star-half:before{content:""}.fa-heart-o:before{content:""}.fa-sign-out:before{content:""}.fa-linkedin-square:before{content:""}.fa-thumb-tack:before{content:""}.fa-external-link:before{content:""}.fa-sign-in:before{content:""}.fa-trophy:before{content:""}.fa-github-square:before{content:""}.fa-upload:before{content:""}.fa-lemon-o:before{content:""}.fa-phone:before{content:""}.fa-square-o:before{content:""}.fa-bookmark-o:before{content:""}.fa-phone-square:before{content:""}.fa-twitter:before{content:""}.fa-facebook-f:before,.fa-facebook:before{content:""}.fa-github:before{content:""}.fa-unlock:before{content:""}.fa-credit-card:before{content:""}.fa-feed:before,.fa-rss:before{content:""}.fa-hdd-o:before{content:""}.fa-bullhorn:before{content:""}.fa-bell:before{content:""}.fa-certificate:before{content:""}.fa-hand-o-right:before{content:""}.fa-hand-o-left:before{content:""}.fa-hand-o-up:before{content:""}.fa-hand-o-down:before{content:""}.fa-arrow-circle-left:before{content:""}.fa-arrow-circle-right:before{content:""}.fa-arrow-circle-up:before{content:""}.fa-arrow-circle-down:before{content:""}.fa-globe:before{content:""}.fa-wrench:before{content:""}.fa-tasks:before{content:""}.fa-filter:before{content:""}.fa-briefcase:before{content:""}.fa-arrows-alt:before{content:""}.fa-group:before,.fa-users:before{content:""}.fa-chain:before,.fa-link:before{content:""}.fa-cloud:before{content:""}.fa-flask:before{content:""}.fa-cut:before,.fa-scissors:before{content:""}.fa-copy:before,.fa-files-o:before{content:""}.fa-paperclip:before{content:""}.fa-floppy-o:before,.fa-save:before{content:""}.fa-square:before{content:""}.fa-bars:before,.fa-navicon:before,.fa-reorder:before{content:""}.fa-list-ul:before{content:""}.fa-list-ol:before{content:""}.fa-strikethrough:before{content:""}.fa-underline:before{content:""}.fa-table:before{content:""}.fa-magic:before{content:""}.fa-truck:before{content:""}.fa-pinterest:before{content:""}.fa-pinterest-square:before{content:""}.fa-google-plus-square:before{content:""}.fa-google-plus:before{content:""}.fa-money:before{content:""}.fa-caret-down:before{content:""}.fa-caret-up:before{content:""}.fa-caret-left:before{content:""}.fa-caret-right:before{content:""}.fa-columns:before{content:""}.fa-sort:before,.fa-unsorted:before{content:""}.fa-sort-desc:before,.fa-sort-down:before{content:""}.fa-sort-asc:before,.fa-sort-up:before{content:""}.fa-envelope:before{content:""}.fa-linkedin:before{content:""}.fa-rotate-left:before,.fa-undo:before{content:""}.fa-gavel:before,.fa-legal:before{content:""}.fa-dashboard:before,.fa-tachometer:before{content:""}.fa-comment-o:before{content:""}.fa-comments-o:before{content:""}.fa-bolt:before,.fa-flash:before{content:""}.fa-sitemap:before{content:""}.fa-umbrella:before{content:""}.fa-clipboard:before,.fa-paste:before{content:""}.fa-lightbulb-o:before{content:""}.fa-exchange:before{content:""}.fa-cloud-download:before{content:""}.fa-cloud-upload:before{content:""}.fa-user-md:before{content:""}.fa-stethoscope:before{content:""}.fa-suitcase:before{content:""}.fa-bell-o:before{content:""}.fa-coffee:before{content:""}.fa-cutlery:before{content:""}.fa-file-text-o:before{content:""}.fa-building-o:before{content:""}.fa-hospital-o:before{content:""}.fa-ambulance:before{content:""}.fa-medkit:before{content:""}.fa-fighter-jet:before{content:""}.fa-beer:before{content:""}.fa-h-square:before{content:""}.fa-plus-square:before{content:""}.fa-angle-double-left:before{content:""}.fa-angle-double-right:before{content:""}.fa-angle-double-up:before{content:""}.fa-angle-double-down:before{content:""}.fa-angle-left:before{content:""}.fa-angle-right:before{content:""}.fa-angle-up:before{content:""}.fa-angle-down:before{content:""}.fa-desktop:before{content:""}.fa-laptop:before{content:""}.fa-tablet:before{content:""}.fa-mobile-phone:before,.fa-mobile:before{content:""}.fa-circle-o:before{content:""}.fa-quote-left:before{content:""}.fa-quote-right:before{content:""}.fa-spinner:before{content:""}.fa-circle:before{content:""}.fa-mail-reply:before,.fa-reply:before{content:""}.fa-github-alt:before{content:""}.fa-folder-o:before{content:""}.fa-folder-open-o:before{content:""}.fa-smile-o:before{content:""}.fa-frown-o:before{content:""}.fa-meh-o:before{content:""}.fa-gamepad:before{content:""}.fa-keyboard-o:before{content:""}.fa-flag-o:before{content:""}.fa-flag-checkered:before{content:""}.fa-terminal:before{content:""}.fa-code:before{content:""}.fa-mail-reply-all:before,.fa-reply-all:before{content:""}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:""}.fa-location-arrow:before{content:""}.fa-crop:before{content:""}.fa-code-fork:before{content:""}.fa-chain-broken:before,.fa-unlink:before{content:""}.fa-question:before{content:""}.fa-info:before{content:""}.fa-exclamation:before{content:""}.fa-superscript:before{content:""}.fa-subscript:before{content:""}.fa-eraser:before{content:""}.fa-puzzle-piece:before{content:""}.fa-microphone:before{content:""}.fa-microphone-slash:before{content:""}.fa-shield:before{content:""}.fa-calendar-o:before{content:""}.fa-fire-extinguisher:before{content:""}.fa-rocket:before{content:""}.fa-maxcdn:before{content:""}.fa-chevron-circle-left:before{content:""}.fa-chevron-circle-right:before{content:""}.fa-chevron-circle-up:before{content:""}.fa-chevron-circle-down:before{content:""}.fa-html5:before{content:""}.fa-css3:before{content:""}.fa-anchor:before{content:""}.fa-unlock-alt:before{content:""}.fa-bullseye:before{content:""}.fa-ellipsis-h:before{content:""}.fa-ellipsis-v:before{content:""}.fa-rss-square:before{content:""}.fa-play-circle:before{content:""}.fa-ticket:before{content:""}.fa-minus-square:before{content:""}.fa-minus-square-o:before{content:""}.fa-level-up:before{content:""}.fa-level-down:before{content:""}.fa-check-square:before{content:""}.fa-pencil-square:before{content:""}.fa-external-link-square:before{content:""}.fa-share-square:before{content:""}.fa-compass:before{content:""}.fa-caret-square-o-down:before,.fa-toggle-down:before{content:""}.fa-caret-square-o-up:before,.fa-toggle-up:before{content:""}.fa-caret-square-o-right:before,.fa-toggle-right:before{content:""}.fa-eur:before,.fa-euro:before{content:""}.fa-gbp:before{content:""}.fa-dollar:before,.fa-usd:before{content:""}.fa-inr:before,.fa-rupee:before{content:""}.fa-cny:before,.fa-jpy:before,.fa-rmb:before,.fa-yen:before{content:""}.fa-rouble:before,.fa-rub:before,.fa-ruble:before{content:""}.fa-krw:before,.fa-won:before{content:""}.fa-bitcoin:before,.fa-btc:before{content:""}.fa-file:before{content:""}.fa-file-text:before{content:""}.fa-sort-alpha-asc:before{content:""}.fa-sort-alpha-desc:before{content:""}.fa-sort-amount-asc:before{content:""}.fa-sort-amount-desc:before{content:""}.fa-sort-numeric-asc:before{content:""}.fa-sort-numeric-desc:before{content:""}.fa-thumbs-up:before{content:""}.fa-thumbs-down:before{content:""}.fa-youtube-square:before{content:""}.fa-youtube:before{content:""}.fa-xing:before{content:""}.fa-xing-square:before{content:""}.fa-youtube-play:before{content:""}.fa-dropbox:before{content:""}.fa-stack-overflow:before{content:""}.fa-instagram:before{content:""}.fa-flickr:before{content:""}.fa-adn:before{content:""}.fa-bitbucket:before{content:""}.fa-bitbucket-square:before{content:""}.fa-tumblr:before{content:""}.fa-tumblr-square:before{content:""}.fa-long-arrow-down:before{content:""}.fa-long-arrow-up:before{content:""}.fa-long-arrow-left:before{content:""}.fa-long-arrow-right:before{content:""}.fa-apple:before{content:""}.fa-windows:before{content:""}.fa-android:before{content:""}.fa-linux:before{content:""}.fa-dribbble:before{content:""}.fa-skype:before{content:""}.fa-foursquare:before{content:""}.fa-trello:before{content:""}.fa-female:before{content:""}.fa-male:before{content:""}.fa-gittip:before,.fa-gratipay:before{content:""}.fa-sun-o:before{content:""}.fa-moon-o:before{content:""}.fa-archive:before{content:""}.fa-bug:before{content:""}.fa-vk:before{content:""}.fa-weibo:before{content:""}.fa-renren:before{content:""}.fa-pagelines:before{content:""}.fa-stack-exchange:before{content:""}.fa-arrow-circle-o-right:before{content:""}.fa-arrow-circle-o-left:before{content:""}.fa-caret-square-o-left:before,.fa-toggle-left:before{content:""}.fa-dot-circle-o:before{content:""}.fa-wheelchair:before{content:""}.fa-vimeo-square:before{content:""}.fa-try:before,.fa-turkish-lira:before{content:""}.fa-plus-square-o:before{content:""}.fa-space-shuttle:before{content:""}.fa-slack:before{content:""}.fa-envelope-square:before{content:""}.fa-wordpress:before{content:""}.fa-openid:before{content:""}.fa-bank:before,.fa-institution:before,.fa-university:before{content:""}.fa-graduation-cap:before,.fa-mortar-board:before{content:""}.fa-yahoo:before{content:""}.fa-google:before{content:""}.fa-reddit:before{content:""}.fa-reddit-square:before{content:""}.fa-stumbleupon-circle:before{content:""}.fa-stumbleupon:before{content:""}.fa-delicious:before{content:""}.fa-digg:before{content:""}.fa-pied-piper-pp:before{content:""}.fa-pied-piper-alt:before{content:""}.fa-drupal:before{content:""}.fa-joomla:before{content:""}.fa-language:before{content:""}.fa-fax:before{content:""}.fa-building:before{content:""}.fa-child:before{content:""}.fa-paw:before{content:""}.fa-spoon:before{content:""}.fa-cube:before{content:""}.fa-cubes:before{content:""}.fa-behance:before{content:""}.fa-behance-square:before{content:""}.fa-steam:before{content:""}.fa-steam-square:before{content:""}.fa-recycle:before{content:""}.fa-automobile:before,.fa-car:before{content:""}.fa-cab:before,.fa-taxi:before{content:""}.fa-tree:before{content:""}.fa-spotify:before{content:""}.fa-deviantart:before{content:""}.fa-soundcloud:before{content:""}.fa-database:before{content:""}.fa-file-pdf-o:before{content:""}.fa-file-word-o:before{content:""}.fa-file-excel-o:before{content:""}.fa-file-powerpoint-o:before{content:""}.fa-file-image-o:before,.fa-file-photo-o:before,.fa-file-picture-o:before{content:""}.fa-file-archive-o:before,.fa-file-zip-o:before{content:""}.fa-file-audio-o:before,.fa-file-sound-o:before{content:""}.fa-file-movie-o:before,.fa-file-video-o:before{content:""}.fa-file-code-o:before{content:""}.fa-vine:before{content:""}.fa-codepen:before{content:""}.fa-jsfiddle:before{content:""}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-ring:before,.fa-life-saver:before,.fa-support:before{content:""}.fa-circle-o-notch:before{content:""}.fa-ra:before,.fa-rebel:before,.fa-resistance:before{content:""}.fa-empire:before,.fa-ge:before{content:""}.fa-git-square:before{content:""}.fa-git:before{content:""}.fa-hacker-news:before,.fa-y-combinator-square:before,.fa-yc-square:before{content:""}.fa-tencent-weibo:before{content:""}.fa-qq:before{content:""}.fa-wechat:before,.fa-weixin:before{content:""}.fa-paper-plane:before,.fa-send:before{content:""}.fa-paper-plane-o:before,.fa-send-o:before{content:""}.fa-history:before{content:""}.fa-circle-thin:before{content:""}.fa-header:before{content:""}.fa-paragraph:before{content:""}.fa-sliders:before{content:""}.fa-share-alt:before{content:""}.fa-share-alt-square:before{content:""}.fa-bomb:before{content:""}.fa-futbol-o:before,.fa-soccer-ball-o:before{content:""}.fa-tty:before{content:""}.fa-binoculars:before{content:""}.fa-plug:before{content:""}.fa-slideshare:before{content:""}.fa-twitch:before{content:""}.fa-yelp:before{content:""}.fa-newspaper-o:before{content:""}.fa-wifi:before{content:""}.fa-calculator:before{content:""}.fa-paypal:before{content:""}.fa-google-wallet:before{content:""}.fa-cc-visa:before{content:""}.fa-cc-mastercard:before{content:""}.fa-cc-discover:before{content:""}.fa-cc-amex:before{content:""}.fa-cc-paypal:before{content:""}.fa-cc-stripe:before{content:""}.fa-bell-slash:before{content:""}.fa-bell-slash-o:before{content:""}.fa-trash:before{content:""}.fa-copyright:before{content:""}.fa-at:before{content:""}.fa-eyedropper:before{content:""}.fa-paint-brush:before{content:""}.fa-birthday-cake:before{content:""}.fa-area-chart:before{content:""}.fa-pie-chart:before{content:""}.fa-line-chart:before{content:""}.fa-lastfm:before{content:""}.fa-lastfm-square:before{content:""}.fa-toggle-off:before{content:""}.fa-toggle-on:before{content:""}.fa-bicycle:before{content:""}.fa-bus:before{content:""}.fa-ioxhost:before{content:""}.fa-angellist:before{content:""}.fa-cc:before{content:""}.fa-ils:before,.fa-shekel:before,.fa-sheqel:before{content:""}.fa-meanpath:before{content:""}.fa-buysellads:before{content:""}.fa-connectdevelop:before{content:""}.fa-dashcube:before{content:""}.fa-forumbee:before{content:""}.fa-leanpub:before{content:""}.fa-sellsy:before{content:""}.fa-shirtsinbulk:before{content:""}.fa-simplybuilt:before{content:""}.fa-skyatlas:before{content:""}.fa-cart-plus:before{content:""}.fa-cart-arrow-down:before{content:""}.fa-diamond:before{content:""}.fa-ship:before{content:""}.fa-user-secret:before{content:""}.fa-motorcycle:before{content:""}.fa-street-view:before{content:""}.fa-heartbeat:before{content:""}.fa-venus:before{content:""}.fa-mars:before{content:""}.fa-mercury:before{content:""}.fa-intersex:before,.fa-transgender:before{content:""}.fa-transgender-alt:before{content:""}.fa-venus-double:before{content:""}.fa-mars-double:before{content:""}.fa-venus-mars:before{content:""}.fa-mars-stroke:before{content:""}.fa-mars-stroke-v:before{content:""}.fa-mars-stroke-h:before{content:""}.fa-neuter:before{content:""}.fa-genderless:before{content:""}.fa-facebook-official:before{content:""}.fa-pinterest-p:before{content:""}.fa-whatsapp:before{content:""}.fa-server:before{content:""}.fa-user-plus:before{content:""}.fa-user-times:before{content:""}.fa-bed:before,.fa-hotel:before{content:""}.fa-viacoin:before{content:""}.fa-train:before{content:""}.fa-subway:before{content:""}.fa-medium:before{content:""}.fa-y-combinator:before,.fa-yc:before{content:""}.fa-optin-monster:before{content:""}.fa-opencart:before{content:""}.fa-expeditedssl:before{content:""}.fa-battery-4:before,.fa-battery-full:before,.fa-battery:before{content:""}.fa-battery-3:before,.fa-battery-three-quarters:before{content:""}.fa-battery-2:before,.fa-battery-half:before{content:""}.fa-battery-1:before,.fa-battery-quarter:before{content:""}.fa-battery-0:before,.fa-battery-empty:before{content:""}.fa-mouse-pointer:before{content:""}.fa-i-cursor:before{content:""}.fa-object-group:before{content:""}.fa-object-ungroup:before{content:""}.fa-sticky-note:before{content:""}.fa-sticky-note-o:before{content:""}.fa-cc-jcb:before{content:""}.fa-cc-diners-club:before{content:""}.fa-clone:before{content:""}.fa-balance-scale:before{content:""}.fa-hourglass-o:before{content:""}.fa-hourglass-1:before,.fa-hourglass-start:before{content:""}.fa-hourglass-2:before,.fa-hourglass-half:before{content:""}.fa-hourglass-3:before,.fa-hourglass-end:before{content:""}.fa-hourglass:before{content:""}.fa-hand-grab-o:before,.fa-hand-rock-o:before{content:""}.fa-hand-paper-o:before,.fa-hand-stop-o:before{content:""}.fa-hand-scissors-o:before{content:""}.fa-hand-lizard-o:before{content:""}.fa-hand-spock-o:before{content:""}.fa-hand-pointer-o:before{content:""}.fa-hand-peace-o:before{content:""}.fa-trademark:before{content:""}.fa-registered:before{content:""}.fa-creative-commons:before{content:""}.fa-gg:before{content:""}.fa-gg-circle:before{content:""}.fa-tripadvisor:before{content:""}.fa-odnoklassniki:before{content:""}.fa-odnoklassniki-square:before{content:""}.fa-get-pocket:before{content:""}.fa-wikipedia-w:before{content:""}.fa-safari:before{content:""}.fa-chrome:before{content:""}.fa-firefox:before{content:""}.fa-opera:before{content:""}.fa-internet-explorer:before{content:""}.fa-television:before,.fa-tv:before{content:""}.fa-contao:before{content:""}.fa-500px:before{content:""}.fa-amazon:before{content:""}.fa-calendar-plus-o:before{content:""}.fa-calendar-minus-o:before{content:""}.fa-calendar-times-o:before{content:""}.fa-calendar-check-o:before{content:""}.fa-industry:before{content:""}.fa-map-pin:before{content:""}.fa-map-signs:before{content:""}.fa-map-o:before{content:""}.fa-map:before{content:""}.fa-commenting:before{content:""}.fa-commenting-o:before{content:""}.fa-houzz:before{content:""}.fa-vimeo:before{content:""}.fa-black-tie:before{content:""}.fa-fonticons:before{content:""}.fa-reddit-alien:before{content:""}.fa-edge:before{content:""}.fa-credit-card-alt:before{content:""}.fa-codiepie:before{content:""}.fa-modx:before{content:""}.fa-fort-awesome:before{content:""}.fa-usb:before{content:""}.fa-product-hunt:before{content:""}.fa-mixcloud:before{content:""}.fa-scribd:before{content:""}.fa-pause-circle:before{content:""}.fa-pause-circle-o:before{content:""}.fa-stop-circle:before{content:""}.fa-stop-circle-o:before{content:""}.fa-shopping-bag:before{content:""}.fa-shopping-basket:before{content:""}.fa-hashtag:before{content:""}.fa-bluetooth:before{content:""}.fa-bluetooth-b:before{content:""}.fa-percent:before{content:""}.fa-gitlab:before{content:""}.fa-wpbeginner:before{content:""}.fa-wpforms:before{content:""}.fa-envira:before{content:""}.fa-universal-access:before{content:""}.fa-wheelchair-alt:before{content:""}.fa-question-circle-o:before{content:""}.fa-blind:before{content:""}.fa-audio-description:before{content:""}.fa-volume-control-phone:before{content:""}.fa-braille:before{content:""}.fa-assistive-listening-systems:before{content:""}.fa-american-sign-language-interpreting:before,.fa-asl-interpreting:before{content:""}.fa-deaf:before,.fa-deafness:before,.fa-hard-of-hearing:before{content:""}.fa-glide:before{content:""}.fa-glide-g:before{content:""}.fa-sign-language:before,.fa-signing:before{content:""}.fa-low-vision:before{content:""}.fa-viadeo:before{content:""}.fa-viadeo-square:before{content:""}.fa-snapchat:before{content:""}.fa-snapchat-ghost:before{content:""}.fa-snapchat-square:before{content:""}.fa-pied-piper:before{content:""}.fa-first-order:before{content:""}.fa-yoast:before{content:""}.fa-themeisle:before{content:""}.fa-google-plus-circle:before,.fa-google-plus-official:before{content:""}.fa-fa:before,.fa-font-awesome:before{content:""}.fa-handshake-o:before{content:""}.fa-envelope-open:before{content:""}.fa-envelope-open-o:before{content:""}.fa-linode:before{content:""}.fa-address-book:before{content:""}.fa-address-book-o:before{content:""}.fa-address-card:before,.fa-vcard:before{content:""}.fa-address-card-o:before,.fa-vcard-o:before{content:""}.fa-user-circle:before{content:""}.fa-user-circle-o:before{content:""}.fa-user-o:before{content:""}.fa-id-badge:before{content:""}.fa-drivers-license:before,.fa-id-card:before{content:""}.fa-drivers-license-o:before,.fa-id-card-o:before{content:""}.fa-quora:before{content:""}.fa-free-code-camp:before{content:""}.fa-telegram:before{content:""}.fa-thermometer-4:before,.fa-thermometer-full:before,.fa-thermometer:before{content:""}.fa-thermometer-3:before,.fa-thermometer-three-quarters:before{content:""}.fa-thermometer-2:before,.fa-thermometer-half:before{content:""}.fa-thermometer-1:before,.fa-thermometer-quarter:before{content:""}.fa-thermometer-0:before,.fa-thermometer-empty:before{content:""}.fa-shower:before{content:""}.fa-bath:before,.fa-bathtub:before,.fa-s15:before{content:""}.fa-podcast:before{content:""}.fa-window-maximize:before{content:""}.fa-window-minimize:before{content:""}.fa-window-restore:before{content:""}.fa-times-rectangle:before,.fa-window-close:before{content:""}.fa-times-rectangle-o:before,.fa-window-close-o:before{content:""}.fa-bandcamp:before{content:""}.fa-grav:before{content:""}.fa-etsy:before{content:""}.fa-imdb:before{content:""}.fa-ravelry:before{content:""}.fa-eercast:before{content:""}.fa-microchip:before{content:""}.fa-snowflake-o:before{content:""}.fa-superpowers:before{content:""}.fa-wpexplorer:before{content:""}.fa-meetup:before{content:""}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}@font-face{font-family:'League Spartan';src:url(assets/fonts/leaguespartan-bold.woff2) format("woff2"),url(assets/fonts/leaguespartan-bold.woff) format("woff");font-weight:400;font-style:normal}body{margin:0;padding:64px 0 0;font-family:'Open Sans',sans-serif;font-size:16px;font-weight:300;line-height:1.6}h1,h2{font-family:'League Spartan',sans-serif}h1,h2,h3{font-weight:400}h1 code,h2 code,h3 code{background:0 0;padding:0;font-size:100%;color:inherit;background-color:none;font-family:inherit}h1,h2,h3,li,p,ul{word-break:break-word}pre,pre code{display:block;color:#333}pre{margin:0 0 10px;line-height:1.42857143;word-break:break-all;word-wrap:break-word;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px;padding:9.5px;font-size:13px}pre code{overflow-x:auto;padding:.5em;background:#f8f8f8;-webkit-text-size-adjust:none;font-size:100%}.diffbox pre,table code{padding:0;background-color:none}.diffbox pre{display:block;margin:0;line-height:1.42857143;word-break:break-all;word-wrap:break-word;border:none;border-radius:0;font-size:13px;color:#333}code,code a{color:#c7254e}code{white-space:pre-wrap;padding:2px 4px;font-size:90%;background-color:#f9f2f4;border-radius:4px}code a{text-decoration:underline;transition:all .2s}code a:hover{color:#222}table{max-width:100%;overflow-x:scroll;border:1px solid #ddd;border-spacing:0;border-collapse:collapse;display:inline-block}table code{background:0 0;font-size:100%;color:inherit}td,th{padding:10px}th{background:#f1f1f1;text-align:left}td+td,th+th{border-left:1px solid #eee}td{border-top:1px solid #eee;vertical-align:top}img[alt=angular1-wa-ionic-cli],img[alt=angular1-wa-meteor-cli]{width:30%}.side-nav .api-list-item,.side-nav .step-item{margin:0;padding:0;color:#546e7a}.side-nav .step-item{position:relative}.side-nav .step-item::before{content:"";height:10px;width:10px;background:#f9f9f9;border-radius:50%;border:2px solid #a6120d;position:absolute;top:50%;margin-top:-6px;left:32px;margin-left:-6px;z-index:200;transition:all .2s ease-in-out}.side-nav .step-item.active-step::before,.side-nav .step-item:hover::before{background:#dd1b16;border-color:#dd1b16}.side-nav .active-step a,.side-nav .step-item:hover .step-link{color:#dd1b16}.side-nav .step-item::after{content:"";height:100%;width:1px;background:#a6120d;top:0;left:32px;position:absolute;z-index:100}.side-nav .step-item:first-of-type::after{height:50%;top:50%}.side-nav .step-item:last-of-type::after{height:50%;bottom:50%}.side-nav .step-link{color:#a6120d;transition:ease-in-out;text-decoration:none;display:block;font-size:14px;padding:16px 16px 16px calc(16px + 48px);margin:0}.side-nav .apis-list,.side-nav .apis-versions-list,.side-nav .tutorial-steps-list{list-style:none;padding-left:0;margin-top:8px}.apis-versions-list{margin:0!important}.apis-versions-list li{padding:0}.apis-versions-list li a,a{text-decoration:none}.dropdown-content{-moz-column-count:2;-moz-column-width:220px;-moz-column-rule:1px solid #eceff1;-moz-column-gap:0;column-count:2;column-width:220px;column-rule:1px solid #eceff1;column-gap:0}.dropdown-content .tutorial-steps-list{margin:0!important;list-style:none;padding:0}.dropdown-content .tutorial-steps-list .step-item{padding:5px 0 5px 10px;break-inside:avoid-column}.dropdown-content .tutorial-steps-list .step-item a{text-decoration:none;font-size:small;color:#000}.dropdown-content .tutorial-steps-list .step-item .bold{font-weight:700}[md-button].md-primary{background:0 0!important;color:#fff!important;cursor:pointer!important;border:2px solid #fff!important;border-radius:3px solid #fff!important;font-weight:400!important}[md-button].md-primary:hover{color:#fff!important;background-color:rgba(0,0,0,.1)!important}[md-button].md-primary[disabled]{color:#d3d3d3!important;cursor:not-allowed!important}[md-button]::after{display:none!important}.tutorial-button{border:2px solid #a6120d;background:0 0!important;color:#a6120d!important;box-shadow:none!important;padding:0 10px!important;margin-bottom:10px!important;transition:all .2s ease-in-out!important}.tutorial-button[disabled]{border-color:#dedede!important;color:#aaa!important;background:#dedede!important}.tutorial-button:hover{background:#dd1b16!important;color:#fff!important;border:2px solid #dd1b16!important}.tutorial-button.active{background:#a6120d!important;color:#fff!important;border:2px solid #a6120d!important}tutorial-page-content pre code[ngnonbindable]{background:#eee;display:block;width:90%;border-radius:5px;padding:10px}tutorial-page-content blockquote{margin:0;position:relative;background:#eee;border-radius:5px}tutorial-page-content blockquote:before{content:'!';font-weight:700;position:absolute;vertical-align:top;font-size:2vw;color:#fff;margin-left:6px}tutorial-page-content blockquote p{border-left:1px solid #fff;padding:10px;margin-left:20px}.diffbox{border-radius:10px}.diffbox .title-panel{border-radius:10px 10px 0 0}.diffbox .code-container{border-radius:0 0 10px 10px}api-ref-container p code,api-ref-container ul li code{font-family:'Open Sans',sans-serif}.main-toolbar a,api-ref-container a{color:#263238;text-decoration:none;font-weight:700}api-ref-container h3{background:#eee;border-radius:5px;padding:4px;margin-top:30px}api-ref-container table{width:100%;background:#eee;border-radius:5px;border-spacing:0}api-ref-container table thead{color:#eee}api-ref-container table thead,api-ref-container table thead tr{background:#546e7a;border-radius:5px}api-ref-container table thead tr th{padding:6px}api-ref-container table tbody td{padding:5px}.l-pinned-top{position:fixed;top:0;left:0;right:0}.l-left{float:left}.l-right{float:right}.docs-content,.l-relative{position:relative}.l-absolute{position:absolute}.l-fixed{position:fixed}.l-offset-side-nav{padding-left:232px}diffbox-container{padding-left:36px;overflow:hidden;display:block}diffbox-container .hljs-comment{color:#777}diffbox-container pre{margin:0;padding:0;background-color:transparent}.side-nav{background:#f6f6f6;width:100%;bottom:0;z-index:100}.side-nav ul{margin-top:8px}.side-nav h1{padding:16px 0 0 32px}@media screen and (min-width:750px){.api-container,.tutorials-container{display:flex;margin-top:40px}.side-nav{width:40%;height:100%}.api-content,.tutorial-content{width:60%}[md-raised-button]{margin-bottom:0!important}}@media screen and (min-width:1000px){.api-container,.tutorials-container{width:80%;margin:80px auto 0}.top-navigation{display:flex;justify-content:space-between}.side-nav{width:25%;border-radius:2px}.api-content,.tutorial-content{max-width:75%;margin-left:30px}}.api-container,.api-container p,.tutorials-container,.tutorials-container p{color:#555}.api-container h1,.tutorials-container h1{font-family:'League Spartan',sans-serif;color:#111;line-height:1.1}.main-toolbar md-toolbar-row{height:auto!important;justify-content:space-between;flex-wrap:wrap}.nav-links [md-button]{min-width:0!important;font-weight:300!important;font-family:inherit!important}.nav-links .md-primary{color:#555!important}diffbox-container pre.line-added{background:#eaffea}diffbox-container pre.line-removed{background:#ff9ea2}.logo{width:auto;height:2em}@keyframes pulse{0%,to{transform:scale(1)}20%,80%{transform:scale(1.2)}50%{transform:scale(.9)}}.support-link button{padding-right:0!important}.support-link .notification{animation:pulse 1.5s 2;font-size:10px;color:#fff;background:rgba(255,0,0,.7);border-radius:50%;display:inline-block;height:18px;width:18px;text-align:center;line-height:20px;font-weight:700}.support-link .hide-support{visibility:hidden}.logo-link{line-height:0;padding:.5rem}.nav-links{width:100%;max-height:340px;overflow:scroll;transition:all .2s ease-in-out;position:relative;z-index:50;height:0}.nav-links.visible{height:340px}[md-icon-button].nav-toggle{border-radius:5px;border:1px solid rgba(0,0,0,.05);height:auto;width:auto;padding:5px 10px}[md-icon-button].nav-toggle::after{display:none}[md-icon-button].nav-toggle span{color:#333}.primary-nav{margin-top:10px}.main-toolbar{position:fixed;top:0;left:0;right:0;padding:1rem;background:#f6f6f6!important;overflow:hidden;z-index:500}.main-toolbar a{color:#555;font-weight:400;display:block}.nav-links a{padding:5px 0;border-radius:3px}.nav-links a:hover{background:#eee}.tutorials-dropdown{position:relative;display:inline-block;color:#555;padding:5px 0;line-height:1}.tutorials-dropdown .button-inner{display:flex;align-items:center}.tutorials-dropdown .dropdown-content{display:none;background-color:#fff;padding:7px;line-height:1.6}.tutorials-dropdown .dropdown-content.visible{display:block}@media screen and (min-width:1000px){.nav-links,.primary-nav{display:flex;align-items:center}.primary-nav{margin-top:0}[md-icon-button].nav-toggle{display:none}.nav-links{justify-content:space-between;width:100%;height:auto;overflow:visible}.nav-links a{display:inline-block}.secondary-nav{align-self:flex-end}.main-toolbar{overflow:visible}.main-toolbar md-toolbar-row{flex-wrap:nowrap}.tutorials-dropdown:hover{background:#eee}.tutorials-dropdown .dropdown-content{display:none;position:absolute;background-color:#fff;min-width:600px;box-shadow:0 6px 12px rgba(0,0,0,.175);border-radius:0;padding:5px 0!important;border:1px solid rgba(0,0,0,.15)}.tutorials-dropdown .dropdown-content a{padding:.4rem 20px;border-bottom:1px solid #f2f2f2;display:block;font-weight:300;font-size:16px}.tutorials-dropdown .dropdown-content .tutorial-steps-list .step-item{padding:0}}.clear{clear:both}p{font-size:1rem}.row{overflow:hidden}.hero{padding:3rem 0;background-image:url(assets/images/angular-bg.png);background-color:#333;text-align:center}.hero h1{color:#f6f6f6}.hero .buttons{margin-bottom:20px}.hero .main-logo{width:260px;height:260px;background-image:url(assets/images/logo-large.png);background-repeat:no-repeat;margin:0 auto 3rem;background-size:132%;background-position:-48px}[md-button].body-button,[md-raised-button].hero-button{font-weight:300;transition:all .2s;font-family:inherit;font-size:16px}[md-raised-button].hero-button{background:#a6120d;margin:5px;border:2px solid #fff;color:#fff}[md-button].body-button:hover,[md-raised-button].hero-button:hover{background:#dd1b16;border-color:#dd1b16}[md-button].body-button{background:0 0;border:2px solid #a6120d;color:#a6120d}[md-button].body-button:hover{color:#fff}.hero h1,.showcase h1,.video h1{font-size:1.7rem;line-height:1.4}.video h1{margin:3rem}.video{padding-bottom:2rem}.showcase h1{margin-bottom:3rem;margin-top:0}.main-unit{text-align:center;margin:0 auto}.main-unit .video-wrapper iframe{border:2px solid #333;background-color:#333;border-radius:3px}.main-unit .tutorial-cta{margin:3rem auto 2rem;max-width:400px}.container{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto;text-align:center;margin-bottom:30px}.showcase .row{padding:0 3rem}.showcase .submit-app-cta{width:100%;float:left}.showcase .img-container{overflow:hidden;margin-bottom:15px;border-radius:5px;border:1px solid #dedede}.showcase .site-title{display:inline-block;padding:5px 20px;border-radius:5px;transition:all .5s}.showcase a:not(.btn){color:#536e7a}.showcase a:not(.btn):hover img{opacity:.5;transform:scale(1.15)}.showcase a:not(.btn):hover .site-title{background:#fff}.showcase img{width:100%;transition:all .5s}.sites{display:flex;flex-wrap:wrap;padding:0 2rem}.site{margin-bottom:30px;width:100%;box-sizing:border-box}.extras .container{display:flex;justify-content:space-between;flex-wrap:wrap}.unit,.unit p{text-align:center}.unit{width:100%;max-width:80%;margin:0 auto;padding:0 2rem;box-sizing:border-box}.unit p{font-size:16px}@media screen and (min-width:620px){.sites{padding:0}.site{padding:0 1rem}.video-wrapper iframe{width:500px;height:calc(500px*.5625)}.site,.unit{width:50%}}@media screen and (min-width:980px){.site{width:33.33%;padding:0 1rem}.video-wrapper iframe{width:700px;height:calc(700px*.5625)}}@media screen and (min-width:1200px){.site{width:25%;padding:0 1rem}.unit{width:33.33%}}.small-hero{color:#263238;padding:2rem;height:440px}.small-hero img{margin:1rem;height:148px}.small-hero p{max-width:240px;margin:1rem auto}.intro{padding-bottom:3rem;padding-top:3rem;background-color:#f2f2f2;margin:3rem auto;overflow:hidden}.intro h1{margin-bottom:4rem}.slides .slide-item{float:left;width:100%}.submit-app-cta p{margin:3rem auto 2rem;max-width:400px;text-align:center}@media screen and (min-width:768px){.slides .slide-item{width:50%}.showcase h1,.video h1{font-size:2rem}.container{width:80%}}.md-primary{background:#fff}.meteor-rxjs img{vertical-align:middle}.meteor-rxjs .plus{margin-left:0;margin-right:20px;font-weight:bolder}.meteor-rxjs .md-primary{margin:10px}.meteor-rxjs .container{color:#000}.meteor-rxjs .main-unit{background:#fff!important;color:#fff}.meteor-rxjs h1,.meteor-rxjs img{margin-bottom:1rem}.meteor-rxjs>p{max-width:480px;margin:2rem auto}.meteor-rxjs .header{text-align:center;padding-bottom:100px}.meteor-rxjs .header p{font-size:1.2rem;margin:0 auto 1rem}.api-content a{text-decoration:underline;color:#a6120d;transition:all .2s}.api-content a:hover{color:#222}.api-container .side-nav a{color:#222;transition:all .2s}.api-container .side-nav a:hover,ul.apis-list .api-item-link:hover{color:#dd1b16}.api-container .active-step a{color:#a6120d}.dropdown{position:relative;display:inline-block;margin-left:24px;margin-right:24px;margin-top:10px}.dropdown .dropdown-content{display:none;position:absolute;background-color:#fff;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);border-radius:5px;column-width:210px!important;column-count:1!important;font-size:1rem;width:100%}.dropdown .dropdown-content a{display:block;padding:8px}.dropdown .dropdown-content a:hover{background:#f2f2f2}.dropdown .dropdown-content li{border-bottom:1px solid #f2f2f2}tutorials-versions{text-align:center!important;margin-left:0;margin-top:10px;display:block}.dropdown:hover .dropdown-content{display:block}.api-content{margin-top:20px;padding:20px}[md-button].api-button{color:#333;border:none;text-align:left;display:inline-block;background:#d5d5d5;display:inline-flex;align-items:center;margin-top:16px}ul.apis-list{padding:16px 24px!important;border-top:1px solid #d5d5d5;margin-top:32px!important}ul.apis-list .api-item-link{display:block;font-size:16px;padding:8px 0;transition:all .2s}.api-content .deprecation-notice{background:#ffeaea;padding:1rem 1rem 1rem 65px;position:relative;border:2px solid #a53a3a;color:#a53a3a;border-radius:4px}.api-content .deprecation-notice::before,.tutorial-content blockquote::before,.zip-download::before{content:"error_outline";font-family:'Material Icons';width:65px;height:100%;position:absolute;top:0;left:0;font-style:normal;line-height:1;font-size:36px;display:flex;align-items:center;justify-content:center;color:#a53a3a}@media screen and (min-width:1000px){.api-content{margin-top:0;padding-top:0}.top-navigation{margin-top:20px;margin-bottom:60px}}markdown-file{padding:2rem;display:block}markdown-file hr{border:0;border-top:1px solid #dedede;margin:45px 0}@media screen and (min-width:750px){markdown-file{width:70%;margin:2rem auto}}@media screen and (min-width:1000px){markdown-file{width:50%}}.tutorial-name{width:100%;border-bottom:1px #fff solid;padding:5px;text-align:center}.top-navigation{width:100%;z-index:50;margin-bottom:20px}.tutorial-content{margin-top:20px;padding:20px}.tutorial-nav{display:flex;align-items:center;margin-bottom:20px}.tutorial-nav a{font-size:13px;margin-right:10px}.improve{display:block}.tutorial-title{font-family:'League Spartan',sans-serif}.tutorial-content blockquote{background:#fffbd8;margin:0;padding:0 1rem;font-size:.8rem;border:1px solid #d6d095;border-radius:4px;position:relative;padding-left:65px}.tutorial-content blockquote::before,.zip-download::before{content:"priority_high";color:#c6b81d}.zip-download{display:block;position:relative;color:#789b37;margin-bottom:2rem;background:#fff;border:2px solid #bcd196;border-radius:4px;padding:1rem 1rem 1rem 65px}.zip-download:hover{background:#f6ffe8}.zip-download::before{content:"file_download";color:#bcd196}.youtube-container{border:1px solid #ccc}@media screen and (min-width:1000px){.tutorial-nav{padding:0;margin-bottom:0}.tutorial-content{margin-top:0;padding-top:0}.top-navigation{margin-top:20px;margin-bottom:60px}}.button-wrapper{display:flex;align-items:center;justify-content:center}.button-wrapper .material-icons{font-size:16px;padding-right:5px}.button-wrapper.right-icon .material-icons{padding-right:0;padding-left:10px}.tutorial-version{margin-left:16px}.active{color:#b3e5fc!important}.main-unit{background:#fff;color:#000;margin-top:10px}.support-page-wrapper{display:table;width:90%;border:1px solid #dadada;background:#f7f7f7;box-shadow:0 1px 2px 0 rgba(0,0,0,.1);border-radius:4px;margin:0 auto 40px}.support-page-wrapper .title{width:100%;display:table-caption;text-align:center;margin-bottom:30px}.support-page-wrapper .row{display:table-row;width:100%;margin-top:20px}.support-page-wrapper .row .divider{border-right:1px solid #dadada}.support-page-wrapper .row .column,.support-page-wrapper .row .full-column{width:50%;display:table-cell;padding-left:30px;padding-right:30px}.support-page-wrapper .row .full-column{width:100%}.support-page-wrapper .row .column .italic,.support-page-wrapper .row .full-column .italic{font-style:italic}.support-page-wrapper .row .column h2,.support-page-wrapper .row .full-column h2{letter-spacing:-.06em;text-align:center;margin-bottom:20px;color:#a6120d}.support-page-wrapper .row .full-column p{max-width:none}.img-title{margin:0 auto}.img-title,.title{text-align:center}.navigationButtons{text-align:center;margin-top:20px;margin-bottom:20px}.tutorial-links{margin-top:10px;text-align:center}.diffbox{border:1px solid #eee;-webkit-text-size-adjust:100%;margin:1.5em 0}.diffbox .title-panel{padding:5px 12px;background:#eee;border-bottom:solid 1px #eee;color:#333;overflow:auto;font-size:.875rem}.diffbox .title-panel .github-commit-link{float:right;color:#000;text-decoration:none;border-bottom:none!important}.diffbox .code-container{overflow-x:auto;position:relative;padding:9px 3px 3px 0;background:#f8f8f8}.diffbox .code-container .scroll-container{display:inline-block;min-width:100%;overflow:hidden}.diffbox .code-container .line-numbers{text-align:right;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;position:absolute;width:25px}.diffbox .code-container .line-numbers .line-number{color:#aaa;font-style:italic;margin:0!important}</style><universal-script><script>
 try {window.UNIVERSAL_CACHE = ({"APP_ID":"01fe"}) || {};} catch(e) {  console.warn("Angular Universal: There was a problem parsing data from the server")}
</script></universal-script></body></html>