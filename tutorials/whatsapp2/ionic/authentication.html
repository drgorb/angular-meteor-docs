<!DOCTYPE html><html lang="en"><head>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,800,700italic,800italic" rel="stylesheet" type="text/css">
	<link href="https://fonts.googleapis.com/css?family=Poppins:400,700" rel="stylesheet">

	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <title>Tutorial | WhatsApp Clone with Meteor and Ionic 2 CLI | Authentication</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
  <base href="/">

  <meta name="description" content="Meteor Accounts (Server Side) In this step we will authenticate and identify users in our app. Before we go ahead and start extending our app, we will">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta name="keywords" content="realtime, backend, websockets, graphql, apollo, angular, angular 2, meteor, Angular Bindings, realtime sync, browser, mobile, build apps fast, completely realtime, build collaborative apps, real-time, MEAN stack, JSON data, Easy authentication, oAuth, Real-time Synchronization. angular stack, MongoDB, Node.js, Authentication">
  <link rel="shortcut icon" href="assets/images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
  <link rel="alternate" type="application/rss+xml" title="Meteor Blog RSS Feed" href="http://info.meteor.com/blog/rss.xml">
  <link rel="author" href="https://plus.google.com/105270147965228044669">
  <link href="https://plus.google.com/104063475472216743156" rel="publisher">
  <meta name="twitter:creator" content="@urigoldshtein">
  <link rel="profile" href="http://angular-meteor.com">
  <meta property="os:repo" content="https://github.com/urigo/angular-meteor">
  <meta property="os:rcs_type" content="git">
  <meta property="os:src" content="git@github.com:urigo/angular-meteor.git">
  <script type="text/javascript">
    var host = "angular-meteor.com";
    if ((host == window.location.host) && (window.location.protocol != "https:"))
      window.location.protocol = "https";
  </script>
  <script>
    (function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.fitvids=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";var selectors=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object"];var css=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}";module.exports=function(parentSelector,opts){parentSelector=parentSelector||"body";opts=opts||{};if(isObject(parentSelector)){opts=parentSelector;parentSelector="body"}opts.ignore=opts.ignore||"";opts.players=opts.players||"";var containers=queryAll(parentSelector);if(!hasLength(containers))return;if(!document.getElementById("fit-vids-style")){var head=document.head||document.getElementsByTagName("head")[0];head.appendChild(styles())}var custom=toSelectorArray(opts.players)||[];var ignored=toSelectorArray(opts.ignore)||[];var selector=selectors.filter(notIgnored(ignored)).concat(custom).join();if(!hasLength(selector))return;containers.forEach(function(container){var videos=queryAll(container,selector);videos.forEach(function(video){wrap(video)})})};function queryAll(el,selector){if(typeof el==="string"){selector=el;el=document}return Array.prototype.slice.call(el.querySelectorAll(selector))}function toSelectorArray(input){if(typeof input==="string"){return input.split(",").map(trim).filter(hasLength)}else if(isArray(input)){return flatten(input.map(toSelectorArray).filter(hasLength))}return input||[]}function wrap(el){if(/fluid-width-video-wrapper/.test(el.parentNode.className))return;var widthAttr=parseInt(el.getAttribute("width"),10);var heightAttr=parseInt(el.getAttribute("height"),10);var width=!isNaN(widthAttr)?widthAttr:el.clientWidth;var height=!isNaN(heightAttr)?heightAttr:el.clientHeight;var aspect=height/width;el.removeAttribute("width");el.removeAttribute("height");var wrapper=document.createElement("div");el.parentNode.insertBefore(wrapper,el);wrapper.className="fluid-width-video-wrapper";wrapper.style.paddingTop=aspect*100+"%";wrapper.appendChild(el)}function styles(){var div=document.createElement("div");div.innerHTML='<p>x</p><style id="fit-vids-style">'+css+"</style>";return div.childNodes[1]}function notIgnored(ignored){if(ignored.length<1){return function(){return true}}return function(selector){return ignored.indexOf(selector)===-1}}function hasLength(input){return input.length>0}function trim(str){return str.replace(/^\s+|\s+$/g,"")}function flatten(input){return[].concat.apply([],input)}function isObject(input){return Object.prototype.toString.call(input)==="[object Object]"}function isArray(input){return Object.prototype.toString.call(input)==="[object Array]"}},{}]},{},[1])(1)});
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      document.body.style.display = "block";

      var navToggle = document.querySelector('.nav-toggle');
      var navLinks = document.querySelector('.nav-links');

      var dropdown = document.querySelector('.tutorials-dropdown');
      var dropdownContent = document.querySelector('.dropdown-content');

      navToggle.addEventListener('click', function() {
        navLinks.classList.toggle('visible');
      });

      dropdown.addEventListener('click', function() {
        dropdownContent.classList.toggle('visible');
	});

	fitvids('.youtube-container');
    }, false);
  </script>
<style>/** * Mixin that creates a new stacking context. * see https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context */ /** * This mixin hides an element visually. * That means it's still accessible for screen-readers but not visible in view. */ /** * Forces an element to grow to fit floated contents; used as as an alternative to * `overflow: hidden;` because it doesn't cut off contents. */ /** * A mixin, which generates temporary ink ripple on a given component. * When $bindToParent is set to true, it will check for the focused class on the same selector as you included * that mixin. * It is also possible to specify the color palette of the temporary ripple. By default it uses the * accent palette for its background. */ md-toolbar { display: flex; box-sizing: border-box; width: 100%; min-height: 64px; font-size: 20px; font-weight: 400; font-family: Roboto, "Helvetica Neue", sans-serif; padding: 0 16px; flex-direction: column; background: whitesmoke; color: rgba(0, 0, 0, 0.87); } md-toolbar.md-primary { background: #009688; color: white; } md-toolbar.md-accent { background: #9c27b0; color: rgba(255, 255, 255, 0.870588); } md-toolbar.md-warn { background: #f44336; color: white; } md-toolbar md-toolbar-row { display: flex; box-sizing: border-box; width: 100%; height: 64px; flex-direction: row; align-items: center; } /*# sourceMappingURL=toolbar.css.map */ </style><style>/** * A collection of mixins and CSS classes that can be used to apply elevation to a material * element. * See: https://www.google.com/design/spec/what-is-material/elevation-shadows.html * Examples: * * * .md-foo { *   @include $md-elevation(2); * *   &:active { *     @include $md-elevation(8); *   } * } * * <div id="external-card" class="md-elevation-z2"><p>Some content</p></div> * * For an explanation of the design behind how elevation is implemented, see the design doc at * https://goo.gl/Kq0k9Z. */ /** * The css property used for elevation. In most cases this should not be changed. It is exposed * as a variable for abstraction / easy use when needing to reference the property directly, for * example in a will-change rule. */ /** The default duration value for elevation transitions. */ /** The default easing value for elevation transitions. */ /** * Applies the correct css rules to an element to give it the elevation specified by $zValue. * The $zValue must be between 0 and 24. */ /** * Returns a string that can be used as the value for a transition property for elevation. * Calling this function directly is useful in situations where a component needs to transition * more than one property. * * .foo { *   transition: md-elevation-transition-property-value(), opacity 100ms ease; *   will-change: $md-elevation-property, opacity; * } */ /** * Applies the correct css rules needed to have an element transition between elevations. * This mixin should be applied to elements whose elevation values will change depending on their * context (e.g. when active or disabled). */ /** * This mixin overrides default button styles like the gray background, * the border, and the outline. */ /** Applies a property to an md-button element for each of the supported palettes. */ /** Applies a focus style to an md-button element for each of the supported palettes. */ [md-raised-button], [md-fab], [md-mini-fab], [md-button], [md-icon-button] { box-sizing: border-box; position: relative; background: transparent; cursor: pointer; user-select: none; outline: none; border: none; display: inline-block; white-space: nowrap; text-decoration: none; vertical-align: baseline; font-size: 14px; font-family: Roboto, "Helvetica Neue", sans-serif; font-weight: 500; color: currentColor; text-align: center; margin: 0; min-width: 88px; line-height: 36px; padding: 0 16px; border-radius: 3px; } .md-primary[md-raised-button], .md-primary[md-fab], .md-primary[md-mini-fab], .md-primary[md-button], .md-primary[md-icon-button] { color: #009688; } .md-accent[md-raised-button], .md-accent[md-fab], .md-accent[md-mini-fab], .md-accent[md-button], .md-accent[md-icon-button] { color: #9c27b0; } .md-warn[md-raised-button], .md-warn[md-fab], .md-warn[md-mini-fab], .md-warn[md-button], .md-warn[md-icon-button] { color: #f44336; } .md-primary[disabled][md-raised-button], .md-primary[disabled][md-fab], .md-primary[disabled][md-mini-fab], .md-primary[disabled][md-button], .md-primary[disabled][md-icon-button], .md-accent[disabled][md-raised-button], .md-accent[disabled][md-fab], .md-accent[disabled][md-mini-fab], .md-accent[disabled][md-button], .md-accent[disabled][md-icon-button], .md-warn[disabled][md-raised-button], .md-warn[disabled][md-fab], .md-warn[disabled][md-mini-fab], .md-warn[disabled][md-button], .md-warn[disabled][md-icon-button], [disabled][disabled][md-raised-button], [disabled][disabled][md-fab], [disabled][disabled][md-mini-fab], [disabled][disabled][md-button], [disabled][disabled][md-icon-button] { color: rgba(0, 0, 0, 0.38); } [disabled][md-raised-button], [disabled][md-fab], [disabled][md-mini-fab], [disabled][md-button], [disabled][md-icon-button] { cursor: default; } .md-button-focus[md-raised-button]::after, .md-button-focus[md-fab]::after, .md-button-focus[md-mini-fab]::after, .md-button-focus[md-button]::after, .md-button-focus[md-icon-button]::after { position: absolute; top: 0; left: 0; bottom: 0; right: 0; content: ''; background-color: rgba(0, 0, 0, 0.12); border-radius: inherit; pointer-events: none; } .md-button-focus.md-primary[md-raised-button]::after, .md-button-focus.md-primary[md-fab]::after, .md-button-focus.md-primary[md-mini-fab]::after, .md-button-focus.md-primary[md-button]::after, .md-button-focus.md-primary[md-icon-button]::after { background-color: rgba(0, 150, 136, 0.12); } .md-button-focus.md-accent[md-raised-button]::after, .md-button-focus.md-accent[md-fab]::after, .md-button-focus.md-accent[md-mini-fab]::after, .md-button-focus.md-accent[md-button]::after, .md-button-focus.md-accent[md-icon-button]::after { background-color: rgba(156, 39, 176, 0.12); } .md-button-focus.md-warn[md-raised-button]::after, .md-button-focus.md-warn[md-fab]::after, .md-button-focus.md-warn[md-mini-fab]::after, .md-button-focus.md-warn[md-button]::after, .md-button-focus.md-warn[md-icon-button]::after { background-color: rgba(244, 67, 54, 0.12); } [md-raised-button], [md-fab], [md-mini-fab] { box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12); background-color: #fafafa; transform: translate3d(0, 0, 0); transition: background 400ms cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1); } .md-primary[md-raised-button], .md-primary[md-fab], .md-primary[md-mini-fab] { color: white; } .md-accent[md-raised-button], .md-accent[md-fab], .md-accent[md-mini-fab] { color: rgba(255, 255, 255, 0.870588); } .md-warn[md-raised-button], .md-warn[md-fab], .md-warn[md-mini-fab] { color: white; } .md-primary[disabled][md-raised-button], .md-primary[disabled][md-fab], .md-primary[disabled][md-mini-fab], .md-accent[disabled][md-raised-button], .md-accent[disabled][md-fab], .md-accent[disabled][md-mini-fab], .md-warn[disabled][md-raised-button], .md-warn[disabled][md-fab], .md-warn[disabled][md-mini-fab], [disabled][disabled][md-raised-button], [disabled][disabled][md-fab], [disabled][disabled][md-mini-fab] { color: rgba(0, 0, 0, 0.38); } .md-primary[md-raised-button], .md-primary[md-fab], .md-primary[md-mini-fab] { background-color: #009688; } .md-accent[md-raised-button], .md-accent[md-fab], .md-accent[md-mini-fab] { background-color: #9c27b0; } .md-warn[md-raised-button], .md-warn[md-fab], .md-warn[md-mini-fab] { background-color: #f44336; } .md-primary[disabled][md-raised-button], .md-primary[disabled][md-fab], .md-primary[disabled][md-mini-fab], .md-accent[disabled][md-raised-button], .md-accent[disabled][md-fab], .md-accent[disabled][md-mini-fab], .md-warn[disabled][md-raised-button], .md-warn[disabled][md-fab], .md-warn[disabled][md-mini-fab], [disabled][disabled][md-raised-button], [disabled][disabled][md-fab], [disabled][disabled][md-mini-fab] { background-color: rgba(0, 0, 0, 0.12); } [md-raised-button]:active, [md-fab]:active, [md-mini-fab]:active { box-shadow: 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12); } [disabled][md-raised-button], [disabled][md-fab], [disabled][md-mini-fab] { box-shadow: none; } [md-button]:hover::after, [md-icon-button]:hover::after { position: absolute; top: 0; left: 0; bottom: 0; right: 0; content: ''; background-color: rgba(0, 0, 0, 0.12); border-radius: inherit; pointer-events: none; } [md-button]:hover.md-primary::after, [md-icon-button]:hover.md-primary::after { background-color: rgba(0, 150, 136, 0.12); } [md-button]:hover.md-accent::after, [md-icon-button]:hover.md-accent::after { background-color: rgba(156, 39, 176, 0.12); } [md-button]:hover.md-warn::after, [md-icon-button]:hover.md-warn::after { background-color: rgba(244, 67, 54, 0.12); } [md-button][disabled]:hover.md-primary, [md-button][disabled]:hover.md-accent, [md-button][disabled]:hover.md-warn, [md-button][disabled]:hover::after, [md-icon-button][disabled]:hover.md-primary, [md-icon-button][disabled]:hover.md-accent, [md-icon-button][disabled]:hover.md-warn, [md-icon-button][disabled]:hover::after { background-color: transparent; } [md-fab] { min-width: 0; border-radius: 50%; background-color: #9c27b0; color: rgba(255, 255, 255, 0.870588); width: 56px; height: 56px; padding: 0; } [md-fab] i, [md-fab] md-icon { padding: 16px 0; } [md-mini-fab] { min-width: 0; border-radius: 50%; background-color: #9c27b0; color: rgba(255, 255, 255, 0.870588); width: 40px; height: 40px; padding: 0; } [md-mini-fab] i, [md-mini-fab] md-icon { padding: 8px 0; } [md-icon-button] { min-width: 0; padding: 0; width: 40px; height: 40px; line-height: 24px; border-radius: 50%; } [md-icon-button] .md-button-wrapper > * { vertical-align: middle; } .md-button-ripple { position: absolute; top: 0; left: 0; bottom: 0; right: 0; } .md-button-ripple-round { border-radius: 50%; z-index: 1; } @media screen and (-ms-high-contrast: active) { .md-raised-button, .md-fab, .md-mini-fab { border: 1px solid #fff; } } /*# sourceMappingURL=button.css.map */ </style><style>/** The width/height of the icon element. */ /** This works because we're using ViewEncapsulation.None. If we used the default encapsulation, the selector would need to be ":host". */ md-icon { background-repeat: no-repeat; display: inline-block; fill: currentColor; height: 24px; width: 24px; } /*# sourceMappingURL=icon.css.map */ </style></head>

<body style="display: none;">
  <app><md-toolbar class="main-toolbar md-primary"><div class="md-toolbar-layout"> <md-toolbar-row> 
  <a class="logo-link" href=""><img class="logo" src="assets/images/logo.png"></a>

  <button class="nav-toggle" md-icon-button=""><span class="md-button-wrapper">
    <i class="material-icons">menu</i>
  </span> </button>

  <nav class="nav-links">
    <div class="primary-nav">
      <div class="tutorials-dropdown">
        <button md-button=""><span class="md-button-wrapper"><span class="button-inner">Tutorials<i class="material-icons">arrow_drop_down</i></span>
        </span> </button>
        <div class="dropdown-content">
          <steps-list prefix="tutorials/socially"><!--template bindings={}--><ul class="tutorial-steps-list">
    <!--template bindings={}--><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/bootstrap">1. Bootstrap</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/static-template">2. Static Templates</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/dynamic-template">3. Dynamic Templates</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/3-way-data-binding">4. 3-way Data Binding</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/adding-removing-objects-and-angular-event-handling">5. Data Management</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/routing-and-multiple-views">6. Routing &amp; Multiple Views</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/bindings">7. Bindings</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/folder-structure">8. Folder Structure</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/users-and-authentication">9. Users &amp; Authentication</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/privacy-and-publish-subscribe-functions">10. Privacy &amp; Subscriptions</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/deploying-your-app">11. Deployment</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/running-your-app-on-android-or-ios-with-phonegap">12. Mobile Support</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/search-sort-pagination-and-reactive-vars">13. Filter and Pagination</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/using-and-creating-angularjs-pipes">14. AngularJS Pipes</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/meteor-methods">15. Meteor Methods</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/conditional-template-directives-with-angularjs">16. Conditional Templates</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/google-maps">17. Google Maps</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/css-sass-and-bootstrap">18. CSS, SASS and Bootstrap</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/angular-material-and-custom-angular-auth-forms">19. Angular2-Material &amp; Custom Auth</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/3rd-party-libraries">20. Third-Party Libraries</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/files-and-uploadfs">21. Files and UploadFS</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/packages-isolation">22. Packages Isolation</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/ionic2">23. Ionic2</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/ngupgrade-and-migration">24. ngUpgrade &amp; Migration</a>
    </li><li class="step-item">
        <a class="step-link" href="tutorials/socially/angular2/next-steps">25. Next Steps</a>
    </li>
    <!--template bindings={}--><li class="step-item extra-item">
        <a class="step-link extra-link bold" className="step-link extra-link bold" href="tutorials/whatsapp2-tutorial">WhatsApp clone with Angular &amp; Meteor</a>
    </li><li class="step-item extra-item">
        <a class="step-link extra-link bold" className="step-link extra-link bold" href="tutorials/migration/angular2/introduction">Blaze to Angular 2 Migration tutorial</a>
    </li><li class="step-item extra-item">
        <a class="step-link extra-link bold" className="step-link extra-link bold" href="training">Custom Training</a>
    </li>
</ul>
</steps-list>
        </div>
      </div>
      <a href="api/angular2-meteor/latest/Meteor-RxJS">
        <button md-button=""><span class="md-button-wrapper">API Reference</span> </button>
      </a>
      <a href="meteor-rxjs">
        <button md-button=""><span class="md-button-wrapper">Meteor+RxJS</span> </button>
      </a>
      <a href="https://github.com/Urigo/angular2-meteor" target="_blank">
        <button md-button=""><span class="md-button-wrapper"><md-icon fontIcon="fa-github" fontSet="fa" role="img" class="fa fa-github" aria-label="fa-github"></md-icon> GitHub</span> </button>
      </a>
    </div>
    <div class="secondary-nav">
      <a href="http://info.meteor.com/blog/author/uri-goldshtein?__hstc=219992390.b4a81f3b906b078dac633307097097f5.1471207723059.1471890076881.1471938647239.7&amp;__hssc=219992390.3.1471938647239&amp;__hsfp=714783454" target="_blank">
        <button md-button=""><span class="md-button-wrapper">Blog</span> </button>
      </a>
      <a class="support-link" href="support">
        <button md-button=""><span class="md-button-wrapper">Support</span> </button>
        <span class="notification">1</span>
      </a>
      <a href="consulting">
        <button md-button=""><span class="md-button-wrapper">Consulting</span> </button>
      </a>
      <a href="manifesto">
        <button md-button=""><span class="md-button-wrapper">Manifesto</span> </button>
      </a>
    </div>
  </nav>
 </md-toolbar-row>  </div></md-toolbar>
<router-outlet></router-outlet><tutorial><div class="tutorials-container">
  <nav class="side-nav l-pinned-left l-layer-4 l-offset-nav">
    <!--template bindings={}--><div class="tutorial-name">
      WhatsApp Clone with Meteor and Ionic 2 CLI
    </div>
    <tutorials-versions><!--template bindings={}-->
</tutorials-versions>
    <steps-list><!--template bindings={}--><ul class="tutorial-steps-list">
    <!--template bindings={}--><li class="step-item">
        <a class="step-link" href="/tutorials/whatsapp2/ionic/setup">1. Initial setup</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/whatsapp2/ionic/chats-page">2. Chats page</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/whatsapp2/ionic/meteor-server-side">3. Realtime Meteor Server</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/whatsapp2/ionic/messages-page">4. Messages Page</a>
    </li><li class="step-item active-step">
        <a class="step-link" href="/tutorials/whatsapp2/ionic/authentication">5. Authentication</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/whatsapp2/ionic/chats-mutations">6. Chats Creation &amp; Removal</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/whatsapp2/ionic/privacy">7. Privacy &amp; Security</a>
    </li><li class="step-item">
        <a class="step-link" href="/tutorials/whatsapp2/ionic/summary">8. Summary</a>
    </li>
    <!--template bindings={}-->
</ul>
</steps-list>
  </nav>
  <div class="tutorial-content">
    <div class="top-navigation">
      <div class="tutorial-nav">
        <a class="md-primary tutorial-button" md-raised-button="" tutorialNavigation="previous" aria-disabled="false" href="/tutorials/whatsapp2/ionic/messages-page"><span class="md-button-wrapper">
          <span class="button-wrapper"><i class="material-icons">navigate_before</i>Previous</span>
        </span> </a>
        <a class="md-primary tutorial-button" codeDiffLink="" md-raised-button="" aria-disabled="false" href="https://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/compare/step4...step5"><span class="md-button-wrapper">
          <span class="button-wrapper"><i class="material-icons">search</i>Code Diff</span>
        </span> </a>
        <a class="md-primary tutorial-button" md-raised-button="" tutorialNavigation="next" aria-disabled="false" href="/tutorials/whatsapp2/ionic/chats-mutations"><span class="md-button-wrapper">
          <span class="button-wrapper right-icon">Next<i class="material-icons">navigate_next</i></span>
        </span> </a>
      </div>

      <div class="improve">
        <a class="md-primary improv-button tutorial-button" md-raised-button="" href="https://github.com/Urigo/angular-meteor-docs/edit/gh-pages/tutorials/whatsapp2/ionic/authentication.html" aria-disabled="false"><span class="md-button-wrapper">
          <span class="button-wrapper"><i class="material-icons">mode_edit</i>Improve This Document</span>
        </span> </a>
      </div>
    </div>
    <h1 class="tutorial-title" stepName="">Authentication</h1>
    <a class="zip-download" stepDownloadZip="" href="https://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/archive/step4.zip">
      Note: If you skipped ahead to this section, click here to download a zip of the tutorial at this point.
    </a>
    <!--template bindings={}-->
    <router-outlet></router-outlet><tutorial-page><div class="tutorial-container"></div></tutorial-page><tutorial-container><h2 id="meteor-accounts-server-side-">Meteor Accounts (Server Side)</h2>
<p>In this step we will authenticate and identify users in our app.</p>
<p>Before we go ahead and start extending our app, we will add a few packages which will make our lives a bit less complex when it comes to authentication and users management.</p>
<p>First we will update our Meteor server and add few Meteor packages called <code>accounts-base</code> and <code>accounts-phone</code> which will give us the ability to verify a user using an SMS code, so run the following inside <code>api</code> directory:</p>
<pre><code>$ meteor add accounts-base
$ meteor add npm-bcrypt
$ meteor add mys:accounts-phone
</code></pre><p>For the sake of debugging we gonna write an authentication settings file (<code>api/private/settings.json</code>) which might make our life easier, but once your'e in production mode you <em>shouldn't</em> use this configuration:</p>
<diffbox step="5.2" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.2</span> <span class="commit-summary">Added settings file</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/a3b127a48c0beab74ba0b4287d2ee397472e58de">api/private/settings.json</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span>{</span></pre><pre class="line-added">  <span class="hljs-string">"accounts-phone"</span>: <span>{</span></pre><pre class="line-added">    <span class="hljs-string">"verificationWaitTime"</span>: <span class="hljs-number">0</span>,</pre><pre class="line-added">    <span class="hljs-string">"verificationRetriesWaitTime"</span>: <span class="hljs-number">0</span>,</pre><pre class="line-added">    <span class="hljs-string">"adminPhoneNumbers"</span>: [<span class="hljs-string">"+9721234567"</span>, <span class="hljs-string">"+97212345678"</span>, <span class="hljs-string">"+97212345679"</span>],</pre><pre class="line-added">    <span class="hljs-string">"phoneVerificationMasterCode"</span>: <span class="hljs-string">"1234"</span></pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"><span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>Now anytime we run our app we should provide it with a <code>settings.json</code>:</p>
<pre><code>$ meteor run --settings private/settings.json
</code></pre><p>To make it simpler we can add <code>start</code> script to <code>package.json</code>:</p>
<diffbox step="5.3" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.3</span> <span class="commit-summary">Updated NPM script</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/3e14f91a9351979765164e13df6e35497c2c9695">api/package.json</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context">  <span class="hljs-string">"name"</span>: <span class="hljs-string">"api"</span>,</pre><pre class="line-context">  <span class="hljs-string">"private"</span>: <span class="hljs-literal">true</span>,</pre><pre class="line-context">  <span class="hljs-string">"scripts"</span>: <span>{</span></pre><pre class="line-added">    <span class="hljs-string">"start"</span>: <span class="hljs-string">"meteor run --settings private/settings.json"</span></pre><pre class="line-context">  <span>}</span>,</pre><pre class="line-context">  <span class="hljs-string">"dependencies"</span>: <span>{</span></pre><pre class="line-context">    <span class="hljs-string">"@types/moment"</span>: <span class="hljs-string">"^2.13.0"</span>,</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<blockquote>
<p><em>NOTE</em>: If you would like to test the verification with a real phone number, <code>accounts-phone</code> provides an easy access for <a href="https://www.twilio.com/">twilio's API</a>, for more information see <a href="https://github.com/okland/accounts-phone">accounts-phone's repo</a>.</p>
</blockquote>
<p>We will now apply the settings file we've just created so it can actually take effect:</p>
<diffbox step="5.4" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.4</span> <span class="commit-summary">Define SMS settings</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/2ef9e55c0731276545133fc70d5a807896b15dfd">api/server/main.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> Chats, Messages <span>}</span> from <span class="hljs-string">"../collections/whatsapp-collections"</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> * as moment from <span class="hljs-string">"moment"</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> initMethods <span>}</span> from <span class="hljs-string">"./methods"</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> Accounts <span>}</span> from <span class="hljs-string">'meteor/accounts-base'</span>;</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">let</span> SMS, <span class="hljs-built_in">Object</span>;</pre><pre class="line-context"> </pre><pre class="line-context">Meteor.startup(() =&gt; <span>{</span></pre><pre class="line-context">  initMethods();</pre><pre class="line-context"> </pre><pre class="line-added">  <span class="hljs-keyword">if</span> (Meteor.settings) <span>{</span></pre><pre class="line-added">    <span class="hljs-built_in">Object</span>.assign(Accounts._options, Meteor.settings[<span class="hljs-string">'accounts-phone'</span>]);</pre><pre class="line-added">    SMS.twilio = Meteor.settings[<span class="hljs-string">'twilio'</span>];</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-context">  <span class="hljs-keyword">if</span> (Chats.find(<span>{</span><span>}</span>).cursor.count() === <span class="hljs-number">0</span>) <span>{</span></pre><pre class="line-context">    <span class="hljs-keyword">let</span> chatId;</pre><pre class="line-context"> </pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<h2 id="meteor-accounts-client-side-">Meteor Accounts (Client Side)</h2>
<p>And second, we will update the client, and add the corresponding authentication packages to it as well (run in the root directory):</p>
<pre><code>$ npm install accounts-base-client-side --save
$ npm install accounts-phone --save
</code></pre><p>Let's import these packages in the app's main component so they can be a part of our bundle:</p>
<diffbox step="5.5" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.5</span> <span class="commit-summary">Added accounts packages to client side</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/bdf86ad9c39faee94b8b75b4b339ee6d02073cac">package.json</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre><pre class="line-number">26</pre><pre class="line-number">27</pre><pre class="line-number">28</pre><pre class="line-number">29</pre><pre class="line-number">30</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context">    <span class="hljs-string">"@angular/platform-browser-dynamic"</span>: <span class="hljs-string">"2.1.1"</span>,</pre><pre class="line-context">    <span class="hljs-string">"@angular/platform-server"</span>: <span class="hljs-string">"2.1.1"</span>,</pre><pre class="line-context">    <span class="hljs-string">"@ionic/storage"</span>: <span class="hljs-string">"1.1.6"</span>,</pre><pre class="line-added">    <span class="hljs-string">"accounts-base-client-side"</span>: <span class="hljs-string">"^0.1.1"</span>,</pre><pre class="line-added">    <span class="hljs-string">"accounts-phone"</span>: <span class="hljs-string">"0.0.1"</span>,</pre><pre class="line-context">    <span class="hljs-string">"angular2-moment"</span>: <span class="hljs-string">"^1.0.0-beta.6"</span>,</pre><pre class="line-context">    <span class="hljs-string">"ionic-angular"</span>: <span class="hljs-string">"2.0.0-rc.2"</span>,</pre><pre class="line-context">    <span class="hljs-string">"ionic-native"</span>: <span class="hljs-string">"2.2.6"</span>,</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<h2 id="ui">UI</h2>
<p>For authentication we gonna create the following flow in our app:</p>
<ul>
<li>login - The initial page. Ask for the user's phone number.</li>
<li>verification - Verify a user's phone number by an SMS authentication.</li>
<li>profile - Ask a user to pickup its name. Afterwards he will be promoted to the tabs page.</li>
</ul>
<p>Before we implement these page, we need to identify if a user is currently logged in. If so, he will be automatically promoted to the chats view, if not, he is gonna be promoted to the login view and enter a phone number.</p>
<p>Let's apply this feature to our app's NgModule bootstrap:</p>
<diffbox step="5.7" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.7</span> <span class="commit-summary">Wait for user if logging in</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/d5a378a8dbb4e2aedc99b27befdbe22fecfc1fe0">src/app/main.dev.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">import</span> <span class="hljs-string">'accounts-phone'</span>;</pre><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> platformBrowserDynamic <span>}</span> from <span class="hljs-string">'@angular/platform-browser-dynamic'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> AppModule <span>}</span> from <span class="hljs-string">'./app.module'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> MeteorObservable <span>}</span> from <span class="hljs-string">'meteor-rxjs'</span>;</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">let</span> Meteor;</pre><pre class="line-added"> </pre><pre class="line-added">Meteor.startup(() =&gt; <span>{</span></pre><pre class="line-added">  <span class="hljs-keyword">const</span> sub = MeteorObservable.autorun().subscribe(() =&gt; <span>{</span></pre><pre class="line-added">    <span class="hljs-keyword">if</span> (Meteor.loggingIn()) <span class="hljs-keyword">return</span>;</pre><pre class="line-added"> </pre><pre class="line-added">    setTimeout(() =&gt; <span>{</span></pre><pre class="line-added">      sub.unsubscribe();</pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-context"> </pre><pre class="line-added">    platformBrowserDynamic().bootstrapModule(AppModule);</pre><pre class="line-added">  <span>}</span>);</pre><pre class="line-added"><span>}</span>);</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>And to production mode's entry point as well:</p>
<diffbox step="5.8" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.8</span> <span class="commit-summary">Wait for user if logging in, production</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/48188fb7fbdc334f864bd0afa93daf1d088496ab">src/app/main.prod.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> platformBrowser <span>}</span> from <span class="hljs-string">'@angular/platform-browser'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> enableProdMode <span>}</span> from <span class="hljs-string">'@angular/core'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> AppModuleNgFactory <span>}</span> from <span class="hljs-string">'./app.module.ngfactory'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> MeteorObservable <span>}</span> from <span class="hljs-string">'meteor-rxjs'</span>;</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">let</span> Meteor;</pre><pre class="line-added"> </pre><pre class="line-added">Meteor.startup(() =&gt; <span>{</span></pre><pre class="line-added">  <span class="hljs-keyword">const</span> sub = MeteorObservable.autorun().subscribe(() =&gt; <span>{</span></pre><pre class="line-added">    <span class="hljs-keyword">if</span> (Meteor.loggingIn()) <span class="hljs-keyword">return</span>;</pre><pre class="line-added"> </pre><pre class="line-added">    setTimeout(() =&gt; <span>{</span></pre><pre class="line-added">      sub.unsubscribe();</pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-added"> </pre><pre class="line-added">    enableProdMode();</pre><pre class="line-added">    platformBrowser().bootstrapModuleFactory(AppModuleNgFactory);</pre><pre class="line-added">  <span>}</span>);</pre><pre class="line-added"><span>}</span>);</pre><pre class="line-context"> </pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>Great, now that we're set, let's start implementing the views we mentioned earlier.</p>
<p>Let's start by creating the <code>LoginComponent</code>:</p>
<p>In this component we will request an SMS verification right after a phone number has been entered:</p>
<diffbox step="5.9" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.9</span> <span class="commit-summary">Create login component</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/4071fb8b3db686f3b42acb48ebe822016b337cab">src/pages/auth/login.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre><pre class="line-number">26</pre><pre class="line-number">27</pre><pre class="line-number">28</pre><pre class="line-number">29</pre><pre class="line-number">30</pre><pre class="line-number">31</pre><pre class="line-number">32</pre><pre class="line-number">33</pre><pre class="line-number">34</pre><pre class="line-number">35</pre><pre class="line-number">36</pre><pre class="line-number">37</pre><pre class="line-number">38</pre><pre class="line-number">39</pre><pre class="line-number">40</pre><pre class="line-number">41</pre><pre class="line-number">42</pre><pre class="line-number">43</pre><pre class="line-number">44</pre><pre class="line-number">45</pre><pre class="line-number">46</pre><pre class="line-number">47</pre><pre class="line-number">48</pre><pre class="line-number">49</pre><pre class="line-number">50</pre><pre class="line-number">51</pre><pre class="line-number">52</pre><pre class="line-number">53</pre><pre class="line-number">54</pre><pre class="line-number">55</pre><pre class="line-number">56</pre><pre class="line-number">57</pre><pre class="line-number">58</pre><pre class="line-number">59</pre><pre class="line-number">60</pre><pre class="line-number">61</pre><pre class="line-number">62</pre><pre class="line-number">63</pre><pre class="line-number">64</pre><pre class="line-number">65</pre><pre class="line-number">66</pre><pre class="line-number">67</pre><pre class="line-number">68</pre><pre class="line-number">69</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> Component <span>}</span> from <span class="hljs-string">'@angular/core'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> NavController, AlertController <span>}</span> from <span class="hljs-string">'ionic-angular'</span>;</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">let</span> Accounts;</pre><pre class="line-added"> </pre><pre class="line-added">@Component(<span>{</span></pre><pre class="line-added">  selector: <span class="hljs-string">'login'</span>,</pre><pre class="line-added">  templateUrl: <span class="hljs-string">"login.html"</span></pre><pre class="line-added"><span>}</span>)</pre><pre class="line-added"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> LoginComponent <span>{</span></pre><pre class="line-added">  phone = <span class="hljs-string">''</span>;</pre><pre class="line-added"> </pre><pre class="line-added">  <span class="hljs-keyword">constructor</span>(</pre><pre class="line-added">    <span class="hljs-keyword">public</span> navCtrl: NavController,</pre><pre class="line-added">    <span class="hljs-keyword">public</span> alertCtrl: AlertController</pre><pre class="line-added">  ) <span>{</span><span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  onInputKeypress(<span>{</span>keyCode<span>}</span>: KeyboardEvent): <span class="hljs-built_in">void</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-keyword">if</span> (keyCode == <span class="hljs-number">13</span>) <span>{</span></pre><pre class="line-added">      <span class="hljs-keyword">this</span>.login();</pre><pre class="line-added">    <span>}</span></pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  login(): <span class="hljs-built_in">void</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-keyword">const</span> alert = <span class="hljs-keyword">this</span>.alertCtrl.create(<span>{</span></pre><pre class="line-added">      title: <span class="hljs-string">'Confirm'</span>,</pre><pre class="line-added">      message: <span class="hljs-string">`Would you like to proceed with the phone number <span class="hljs-subst">$<span>{</span>this.phone<span>}</span></span>?`</span>,</pre><pre class="line-added">      buttons: [</pre><pre class="line-added">        <span>{</span></pre><pre class="line-added">          text: <span class="hljs-string">'Cancel'</span>,</pre><pre class="line-added">          role: <span class="hljs-string">'cancel'</span></pre><pre class="line-added">        <span>}</span>,</pre><pre class="line-added">        <span>{</span></pre><pre class="line-added">          text: <span class="hljs-string">'Yes'</span>,</pre><pre class="line-added">          handler: () =&gt; <span>{</span></pre><pre class="line-added">            <span class="hljs-keyword">this</span>.handleLogin(alert);</pre><pre class="line-added">            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</pre><pre class="line-added">          <span>}</span></pre><pre class="line-added">        <span>}</span></pre><pre class="line-added">      ]</pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-added"> </pre><pre class="line-added">    alert.present();</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  <span class="hljs-keyword">private</span> handleLogin(alert): <span class="hljs-built_in">void</span> <span>{</span></pre><pre class="line-added">    Accounts.requestPhoneVerification(<span class="hljs-keyword">this</span>.phone, (e: <span class="hljs-built_in">Error</span>) =&gt; <span>{</span></pre><pre class="line-added">      alert.dismiss().then(() =&gt; <span>{</span></pre><pre class="line-added">        <span class="hljs-keyword">if</span> (e) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.handleError(e);</pre><pre class="line-added"> </pre><pre class="line-added">        <span class="hljs-comment">// this.navCtrl.push(VerificationComponent, <span>{</span></span></pre><pre class="line-added">        <span class="hljs-comment">//   phone: this.phone</span></pre><pre class="line-added">        <span class="hljs-comment">// <span>}</span>);</span></pre><pre class="line-added">      <span>}</span>);</pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  <span class="hljs-keyword">private</span> handleError(e: <span class="hljs-built_in">Error</span>): <span class="hljs-built_in">void</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-built_in">console</span>.error(e);</pre><pre class="line-added"> </pre><pre class="line-added">    <span class="hljs-keyword">const</span> alert = <span class="hljs-keyword">this</span>.alertCtrl.create(<span>{</span></pre><pre class="line-added">      title: <span class="hljs-string">'Oops!'</span>,</pre><pre class="line-added">      message: e.message,</pre><pre class="line-added">      buttons: [<span class="hljs-string">'OK'</span>]</pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-added"> </pre><pre class="line-added">    alert.present();</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"><span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>Few things to be explained:</p>
<ul>
<li><code>onInputKeypress</code> is to catch Enter key press</li>
<li><code>login</code> method creates an alert (see <a href="http://ionicframework.com/docs/v2/components/#alert">documentation</a>) to confirm the action</li>
<li><code>handleError</code> creates an alert with an error message</li>
<li><code>handleLogin</code> calls <code>Accounts.requestPhoneVerification</code> request an SMS verification and moves to verification view.</li>
</ul>
<p>Okay, the logic is clear. Let's move to the template:</p>
<diffbox step="5.10" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.10</span> <span class="commit-summary">Create login component view</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/47c70262b3831fb9b17dad829646efa2bcea5930">src/pages/auth/login.html</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">ion-header</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">ion-navbar</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"whatsapp"</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">ion-title</span>&gt;</span>Login<span class="hljs-tag">&lt;/<span class="hljs-name">ion-title</span>&gt;</span></pre><pre class="line-added"> </pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">ion-buttons</span> <span class="hljs-attr">end</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">ion-button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"done-button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"login()"</span>&gt;</span>Done<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;/<span class="hljs-name">ion-buttons</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;/<span class="hljs-name">ion-navbar</span>&gt;</span></pre><pre class="line-added"><span class="hljs-tag">&lt;/<span class="hljs-name">ion-header</span>&gt;</span></pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">ion-content</span> <span class="hljs-attr">padding</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"login-page-content"</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"instructions"</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">      Please enter your phone number including its country code.</pre><pre class="line-added">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">      The messenger will send a one time SMS message to verify your phone number. Carrier SMS charges may apply.</pre><pre class="line-added">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added"> </pre><pre class="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">ion-item</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">ion-input</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"phone"</span> (<span class="hljs-attr">keypress</span>)=<span class="hljs-string">"onInputKeypress($event)"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"tel"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Your phone number"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ion-input</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;/<span class="hljs-name">ion-item</span>&gt;</span></pre><pre class="line-added"><span class="hljs-tag">&lt;/<span class="hljs-name">ion-content</span>&gt;</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>And let's add some styles:</p>
<diffbox step="5.11" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.11</span> <span class="commit-summary">Add login component view style</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/3c5e4720172095cd0b4ae7c59a9873be4ddd2bc9">src/pages/auth/login.scss</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-selector-class">.login-page-content</span> <span>{</span></pre><pre class="line-added">  <span class="hljs-selector-class">.instructions</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-attribute">text-align</span>: center;</pre><pre class="line-added">    <span class="hljs-attribute">font-size</span>: medium;</pre><pre class="line-added">    <span class="hljs-attribute">margin</span>: <span class="hljs-number">50px</span>;</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  <span class="hljs-selector-class">.text-input</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-attribute">text-align</span>: center;</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"><span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>And add the Login Component to the NgModule definition:</p>
<diffbox step="5.12" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.12</span> <span class="commit-summary">Add login component to NgModule</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/097e0c965727ffb8e4ed401fdd224e2a2984b2fa">src/app/app.module.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number"> </pre><pre class="line-number">24</pre><pre class="line-number">25</pre><pre class="line-number">26</pre><pre class="line-number">27</pre><pre class="line-number">28</pre><pre class="line-number">29</pre><pre class="line-number">30</pre><pre class="line-number">31</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> ChatsPage <span>}</span> from <span class="hljs-string">"../pages/chats/chats"</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> MomentModule <span>}</span> from <span class="hljs-string">"angular2-moment"</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> MessagesPage <span>}</span> from <span class="hljs-string">"../pages/messages/messages"</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> LoginComponent <span>}</span> from <span class="hljs-string">"../pages/auth/login"</span>;</pre><pre class="line-context"> </pre><pre class="line-context">@NgModule(<span>{</span></pre><pre class="line-context">  declarations: [</pre><pre class="line-context">    MyApp,</pre><pre class="line-context">    ChatsPage,</pre><pre class="line-context">    TabsPage,</pre><pre class="line-added">    MessagesPage,</pre><pre class="line-added">    LoginComponent</pre><pre class="line-context">  ],</pre><pre class="line-context">  imports: [</pre><pre class="line-context">    IonicModule.forRoot(MyApp),</pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context">    MyApp,</pre><pre class="line-context">    ChatsPage,</pre><pre class="line-context">    TabsPage,</pre><pre class="line-added">    MessagesPage,</pre><pre class="line-added">    LoginComponent</pre><pre class="line-context">  ],</pre><pre class="line-context">  providers: []</pre><pre class="line-context"><span>}</span>)</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>Now let's add the ability to identify whih page should be loaded - the main or login:</p>
<diffbox step="5.13" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.13</span> <span class="commit-summary">Add user identifiation in app's main component</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/b485aa8c04a613786a468501673755a7403a05a0">src/app/app.component.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> Component <span>}</span> from <span class="hljs-string">'@angular/core'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> Platform <span>}</span> from <span class="hljs-string">'ionic-angular'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> StatusBar, Splashscreen <span>}</span> from <span class="hljs-string">'ionic-native'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> TabsPage <span>}</span> from <span class="hljs-string">'../pages/tabs/tabs'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> LoginComponent <span>}</span> from <span class="hljs-string">'../pages/auth/login'</span>;</pre><pre class="line-context"> </pre><pre class="line-added"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">let</span> Meteor;</pre><pre class="line-context"> </pre><pre class="line-context">@Component(<span>{</span></pre><pre class="line-context">  template: <span class="hljs-string">`&lt;ion-nav [root]="rootPage"&gt;&lt;/ion-nav&gt;`</span></pre><pre class="line-context"><span>}</span>)</pre><pre class="line-context"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> MyApp <span>{</span></pre><pre class="line-added">  rootPage: <span class="hljs-built_in">any</span>;</pre><pre class="line-context"> </pre><pre class="line-context">  <span class="hljs-keyword">constructor</span>(platform: Platform) <span>{</span></pre><pre class="line-added">    <span class="hljs-keyword">this</span>.rootPage = Meteor.user() ? TabsPage : LoginComponent;</pre><pre class="line-added"> </pre><pre class="line-context">    platform.ready().then(() =&gt; <span>{</span></pre><pre class="line-context">      <span class="hljs-comment">// Okay, so the platform is ready and our plugins are available.</span></pre><pre class="line-context">      <span class="hljs-comment">// Here you can do any higher level native things you might need.</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>That's great, everything is set up. We can now move to verification page.</p>
<p>Let's create a component called <code>VerificationComponent</code>:</p>
<diffbox step="5.14" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.14</span> <span class="commit-summary">Add verification component</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/9d0a8bbfb675341df853ae20b7305efe7007ee11">src/pages/verification/verification.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre><pre class="line-number">26</pre><pre class="line-number">27</pre><pre class="line-number">28</pre><pre class="line-number">29</pre><pre class="line-number">30</pre><pre class="line-number">31</pre><pre class="line-number">32</pre><pre class="line-number">33</pre><pre class="line-number">34</pre><pre class="line-number">35</pre><pre class="line-number">36</pre><pre class="line-number">37</pre><pre class="line-number">38</pre><pre class="line-number">39</pre><pre class="line-number">40</pre><pre class="line-number">41</pre><pre class="line-number">42</pre><pre class="line-number">43</pre><pre class="line-number">44</pre><pre class="line-number">45</pre><pre class="line-number">46</pre><pre class="line-number">47</pre><pre class="line-number">48</pre><pre class="line-number">49</pre><pre class="line-number">50</pre><pre class="line-number">51</pre><pre class="line-number">52</pre><pre class="line-number">53</pre><pre class="line-number">54</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> Component, OnInit, NgZone <span>}</span> from <span class="hljs-string">'@angular/core'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> NavController, NavParams, AlertController <span>}</span> from <span class="hljs-string">'ionic-angular'</span>;</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">let</span> Accounts;</pre><pre class="line-added"> </pre><pre class="line-added">@Component(<span>{</span></pre><pre class="line-added">  selector: <span class="hljs-string">'verification'</span>,</pre><pre class="line-added">  templateUrl: <span class="hljs-string">'verification.html'</span></pre><pre class="line-added"><span>}</span>)</pre><pre class="line-added"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> VerificationComponent <span class="hljs-keyword">implements</span> OnInit <span>{</span></pre><pre class="line-added">  code: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</pre><pre class="line-added">  phone: <span class="hljs-built_in">string</span>;</pre><pre class="line-added"> </pre><pre class="line-added">  <span class="hljs-keyword">constructor</span>(</pre><pre class="line-added">    <span class="hljs-keyword">public</span> navCtrl: NavController,</pre><pre class="line-added">    <span class="hljs-keyword">public</span> alertCtrl: AlertController,</pre><pre class="line-added">    <span class="hljs-keyword">public</span> zone: NgZone,</pre><pre class="line-added">    <span class="hljs-keyword">public</span> navParams: NavParams</pre><pre class="line-added">  ) <span>{</span><span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  ngOnInit() <span>{</span></pre><pre class="line-added">    <span class="hljs-keyword">this</span>.phone = <span class="hljs-keyword">this</span>.navParams.get(<span class="hljs-string">'phone'</span>);</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  onInputKeypress(<span>{</span>keyCode<span>}</span>: KeyboardEvent): <span class="hljs-built_in">void</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-keyword">if</span> (keyCode == <span class="hljs-number">13</span>) <span>{</span></pre><pre class="line-added">      <span class="hljs-keyword">this</span>.verify();</pre><pre class="line-added">    <span>}</span></pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  verify(): <span class="hljs-built_in">void</span> <span>{</span></pre><pre class="line-added">    Accounts.verifyPhone(<span class="hljs-keyword">this</span>.phone, <span class="hljs-keyword">this</span>.code, (e: <span class="hljs-built_in">Error</span>) =&gt; <span>{</span></pre><pre class="line-added">      <span class="hljs-keyword">this</span>.zone.run(() =&gt; <span>{</span></pre><pre class="line-added">        <span class="hljs-keyword">if</span> (e) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.handleError(e);</pre><pre class="line-added"> </pre><pre class="line-added">        <span class="hljs-comment">// this.navCtrl.setRoot(ProfileComponent, <span>{</span><span>}</span>, <span>{</span></span></pre><pre class="line-added">        <span class="hljs-comment">//   animate: true</span></pre><pre class="line-added">        <span class="hljs-comment">// <span>}</span>);</span></pre><pre class="line-added">      <span>}</span>);</pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  <span class="hljs-keyword">private</span> handleError(e: <span class="hljs-built_in">Error</span>): <span class="hljs-built_in">void</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-built_in">console</span>.error(e);</pre><pre class="line-added"> </pre><pre class="line-added">    <span class="hljs-keyword">const</span> alert = <span class="hljs-keyword">this</span>.alertCtrl.create(<span>{</span></pre><pre class="line-added">      title: <span class="hljs-string">'Oops!'</span>,</pre><pre class="line-added">      message: e.message,</pre><pre class="line-added">      buttons: [<span class="hljs-string">'OK'</span>]</pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-added"> </pre><pre class="line-added">    alert.present();</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"><span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>Logic is pretty much the same as in LoginComponent. When verification succeed we redirect user to the <code>ProfileComponent</code> (this code is in comment, we will later remove the comment, after we add the actual component):</p>
<p>So let's add the view and the styles:</p>
<diffbox step="5.15" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.15</span> <span class="commit-summary">Add verification component view</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/3dd888d4d279e43122978498ce86d75c0d8eca5b">src/pages/verification/verification.html</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">ion-header</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">ion-navbar</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"whatsapp"</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">ion-title</span>&gt;</span>Verification<span class="hljs-tag">&lt;/<span class="hljs-name">ion-title</span>&gt;</span></pre><pre class="line-added"> </pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">ion-buttons</span> <span class="hljs-attr">end</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">ion-button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"verify-button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"verify()"</span>&gt;</span>Verify<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;/<span class="hljs-name">ion-buttons</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;/<span class="hljs-name">ion-navbar</span>&gt;</span></pre><pre class="line-added"><span class="hljs-tag">&lt;/<span class="hljs-name">ion-header</span>&gt;</span></pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">ion-content</span> <span class="hljs-attr">padding</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"verification-page-content"</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"instructions"</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">      An SMS message with the verification code has been sent to <span>{</span><span>{</span>phone<span>}</span><span>}</span>.</pre><pre class="line-added">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">      To proceed, please enter the 4-digit verification code below.</pre><pre class="line-added">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added"> </pre><pre class="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">ion-item</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">ion-input</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"code"</span> (<span class="hljs-attr">keypress</span>)=<span class="hljs-string">"onInputKeypress($event)"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"tel"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Your verification code"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ion-input</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;/<span class="hljs-name">ion-item</span>&gt;</span></pre><pre class="line-added"><span class="hljs-tag">&lt;/<span class="hljs-name">ion-content</span>&gt;</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<diffbox step="5.16" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.16</span> <span class="commit-summary">Add verification component styles</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/95fc845a9b07ea208ab6181f316c377b9140ddc2">src/pages/verification/verification.scss</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-selector-class">.verification-page-content</span> <span>{</span></pre><pre class="line-added">  <span class="hljs-selector-class">.instructions</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-attribute">text-align</span>: center;</pre><pre class="line-added">    <span class="hljs-attribute">font-size</span>: medium;</pre><pre class="line-added">    <span class="hljs-attribute">margin</span>: <span class="hljs-number">50px</span>;</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  <span class="hljs-selector-class">.text-input</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-attribute">text-align</span>: center;</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"><span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>And add it to the NgModule:</p>
<diffbox step="5.17" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.17</span> <span class="commit-summary">Add VerificationComponent to NgModule</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/0384fbd1ef07674babca837f92ff58891f6fd1a3">src/app/app.module.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number"> </pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number"> </pre><pre class="line-number">27</pre><pre class="line-number">28</pre><pre class="line-number">29</pre><pre class="line-number">30</pre><pre class="line-number">31</pre><pre class="line-number">32</pre><pre class="line-number">33</pre><pre class="line-number">34</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> MomentModule <span>}</span> from <span class="hljs-string">"angular2-moment"</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> MessagesPage <span>}</span> from <span class="hljs-string">"../pages/messages/messages"</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> LoginComponent <span>}</span> from <span class="hljs-string">"../pages/auth/login"</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> VerificationComponent <span>}</span> from <span class="hljs-string">"../pages/verification/verification"</span>;</pre><pre class="line-context"> </pre><pre class="line-context">@NgModule(<span>{</span></pre><pre class="line-context">  declarations: [</pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context">    ChatsPage,</pre><pre class="line-context">    TabsPage,</pre><pre class="line-context">    MessagesPage,</pre><pre class="line-added">    LoginComponent,</pre><pre class="line-added">    VerificationComponent</pre><pre class="line-context">  ],</pre><pre class="line-context">  imports: [</pre><pre class="line-context">    IonicModule.forRoot(MyApp),</pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context">    ChatsPage,</pre><pre class="line-context">    TabsPage,</pre><pre class="line-context">    MessagesPage,</pre><pre class="line-added">    LoginComponent,</pre><pre class="line-added">    VerificationComponent</pre><pre class="line-context">  ],</pre><pre class="line-context">  providers: []</pre><pre class="line-context"><span>}</span>)</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>And now that we have the <code>VerificationComponent</code> we can use it inside the <code>LoginComponent</code>:</p>
<diffbox step="5.18" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.18</span> <span class="commit-summary">Add navigation to verification page from the login component</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/76cc509e3f7940a23b06679852212c4edfdfc307">src/pages/auth/login.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number"> </pre><pre class="line-number">49</pre><pre class="line-number">50</pre><pre class="line-number">51</pre><pre class="line-number">52</pre><pre class="line-number">53</pre><pre class="line-number">54</pre><pre class="line-number">55</pre><pre class="line-number">56</pre><pre class="line-number">57</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> Component <span>}</span> from <span class="hljs-string">'@angular/core'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> NavController, AlertController <span>}</span> from <span class="hljs-string">'ionic-angular'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> VerificationComponent <span>}</span> from <span class="hljs-string">"../verification/verification"</span>;</pre><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">let</span> Accounts;</pre><pre class="line-context"> </pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context">      alert.dismiss().then(() =&gt; <span>{</span></pre><pre class="line-context">        <span class="hljs-keyword">if</span> (e) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.handleError(e);</pre><pre class="line-context"> </pre><pre class="line-added">        <span class="hljs-keyword">this</span>.navCtrl.push(VerificationComponent, <span>{</span></pre><pre class="line-added">          phone: <span class="hljs-keyword">this</span>.phone</pre><pre class="line-added">        <span>}</span>);</pre><pre class="line-context">      <span>}</span>);</pre><pre class="line-context">    <span>}</span>);</pre><pre class="line-context">  <span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>Last step of our authentication pattern is to pickup a name.</p>
<p>Let's add a <code>Profile</code> interface, we will use it soon:</p>
<diffbox step="5.19" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.19</span> <span class="commit-summary">Add profile model decleration</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/9fbefc143d415ea42e2932edbda15bde6a16390b">api/models/whatsapp-models.d.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">module</span> 'api/models/whatsapp-models' <span>{</span></pre><pre class="line-added">  <span class="hljs-keyword">interface</span> Profile <span>{</span></pre><pre class="line-added">    name?: <span class="hljs-built_in">string</span>;</pre><pre class="line-added">    picture?: <span class="hljs-built_in">string</span>;</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-context">  <span class="hljs-keyword">interface</span> Chat <span>{</span></pre><pre class="line-context">    _id?: <span class="hljs-built_in">string</span>;</pre><pre class="line-context">    title?: <span class="hljs-built_in">string</span>;</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>And let's create the <code>ProfileComponent</code>:</p>
<diffbox step="5.20" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.20</span> <span class="commit-summary">Add profile component</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/438cef2c730139df85f8098a27e5d61a1ee347d9">src/pages/profile/profile.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre><pre class="line-number">26</pre><pre class="line-number">27</pre><pre class="line-number">28</pre><pre class="line-number">29</pre><pre class="line-number">30</pre><pre class="line-number">31</pre><pre class="line-number">32</pre><pre class="line-number">33</pre><pre class="line-number">34</pre><pre class="line-number">35</pre><pre class="line-number">36</pre><pre class="line-number">37</pre><pre class="line-number">38</pre><pre class="line-number">39</pre><pre class="line-number">40</pre><pre class="line-number">41</pre><pre class="line-number">42</pre><pre class="line-number">43</pre><pre class="line-number">44</pre><pre class="line-number">45</pre><pre class="line-number">46</pre><pre class="line-number">47</pre><pre class="line-number">48</pre><pre class="line-number">49</pre><pre class="line-number">50</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> Component, OnInit <span>}</span> from <span class="hljs-string">'@angular/core'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> NavController, AlertController <span>}</span> from <span class="hljs-string">'ionic-angular'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> MeteorObservable <span>}</span> from <span class="hljs-string">'meteor-rxjs'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> Profile <span>}</span> from <span class="hljs-string">'api/models/whatsapp-models'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> TabsPage <span>}</span> from <span class="hljs-string">"../tabs/tabs"</span>;</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">let</span> Meteor;</pre><pre class="line-added"> </pre><pre class="line-added">@Component(<span>{</span></pre><pre class="line-added">  selector: <span class="hljs-string">'profile'</span>,</pre><pre class="line-added">  templateUrl: <span class="hljs-string">'profile.html'</span></pre><pre class="line-added"><span>}</span>)</pre><pre class="line-added"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> ProfileComponent <span class="hljs-keyword">implements</span> OnInit <span>{</span></pre><pre class="line-added">  profile: Profile;</pre><pre class="line-added"> </pre><pre class="line-added">  <span class="hljs-keyword">constructor</span>(</pre><pre class="line-added">    <span class="hljs-keyword">public</span> navCtrl: NavController,</pre><pre class="line-added">    <span class="hljs-keyword">public</span> alertCtrl: AlertController</pre><pre class="line-added">  ) <span>{</span><span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  ngOnInit(): <span class="hljs-built_in">void</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-keyword">this</span>.profile = Meteor.user().profile || <span>{</span></pre><pre class="line-added">      name: <span class="hljs-string">''</span>,</pre><pre class="line-added">      picture: <span class="hljs-string">'/ionicons/dist/svg/ios-contact.svg'</span></pre><pre class="line-added">    <span>}</span>;</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  done(): <span class="hljs-built_in">void</span> <span>{</span></pre><pre class="line-added">    MeteorObservable.call(<span class="hljs-string">'updateProfile'</span>, <span class="hljs-keyword">this</span>.profile).subscribe(<span>{</span></pre><pre class="line-added">      next: () =&gt; <span>{</span></pre><pre class="line-added">        <span class="hljs-keyword">this</span>.navCtrl.push(TabsPage);</pre><pre class="line-added">      <span>}</span>,</pre><pre class="line-added">      error: (e: <span class="hljs-built_in">Error</span>) =&gt; <span>{</span></pre><pre class="line-added">        <span class="hljs-keyword">this</span>.handleError(e);</pre><pre class="line-added">      <span>}</span></pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  <span class="hljs-keyword">private</span> handleError(e: <span class="hljs-built_in">Error</span>): <span class="hljs-built_in">void</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-built_in">console</span>.error(e);</pre><pre class="line-added"> </pre><pre class="line-added">    <span class="hljs-keyword">const</span> alert = <span class="hljs-keyword">this</span>.alertCtrl.create(<span>{</span></pre><pre class="line-added">      title: <span class="hljs-string">'Oops!'</span>,</pre><pre class="line-added">      message: e.message,</pre><pre class="line-added">      buttons: [<span class="hljs-string">'OK'</span>]</pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-added"> </pre><pre class="line-added">    alert.present();</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"><span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>The logic is simple, call <code>updateProfile</code> (we will implement it soon!) and redirect to <code>TabsPage</code> which is our main view if the action succeed.</p>
<p>If you'll take a look at the constructor's logic we set the default profile picture to be one of ionicon's svgs. We need to make sure there is an access point available through the network to that asset. If we'd like to serve files as-is we simply gonna add them to the <code>www</code> dir. But first we'll need to update our <code>.gitignore</code> file to contain the upcoming changes:</p>
<diffbox step="5.21" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.21</span> <span class="commit-summary">Add ionicons to .gitignore</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/60c9509b2b5c1681624a3ca8748374f74849f9f2">.gitignore</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">26</pre><pre class="line-number">27</pre><pre class="line-number">28</pre><pre class="line-number">29</pre><pre class="line-number">30</pre><pre class="line-number">31</pre><pre class="line-number">32</pre><pre class="line-number">33</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context">plugins/</pre><pre class="line-context">plugins/android.json</pre><pre class="line-context">plugins/ios.json</pre><pre class="line-added">www/*</pre><pre class="line-added">!www/ionicons</pre><pre class="line-context">$RECYCLE.BIN/</pre><pre class="line-context"> </pre><pre class="line-context">.DS_Store</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>And now that git can recognize our changes, let's add a symlink to <code>ionicons</code> in the <code>www</code> dir:</p>
<diffbox step="5.22" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.22</span> <span class="commit-summary">Add symlink to ionicons</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/b46e8581ba4e3ce70f39171f355721a8d07610e1">www/ionicons</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added">../node_modules/ionicons</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>There's no component without a view:</p>
<diffbox step="5.23" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.23</span> <span class="commit-summary">Add profile component view</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/89c61516ec2ca696f3b5ad85936fce03119ec073">src/pages/profile/profile.html</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">ion-header</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">ion-navbar</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"whatsapp"</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">ion-title</span>&gt;</span>Profile<span class="hljs-tag">&lt;/<span class="hljs-name">ion-title</span>&gt;</span></pre><pre class="line-added"> </pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">ion-buttons</span> <span class="hljs-attr">end</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">ion-button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"done-button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"done()"</span>&gt;</span>Done<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;/<span class="hljs-name">ion-buttons</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;/<span class="hljs-name">ion-navbar</span>&gt;</span></pre><pre class="line-added"><span class="hljs-tag">&lt;/<span class="hljs-name">ion-header</span>&gt;</span></pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">ion-content</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"profile-page-content"</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"profile-picture"</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> [<span class="hljs-attr">src</span>]=<span class="hljs-string">"profile.picture"</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">ion-icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"create"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ion-icon</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added"> </pre><pre class="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">ion-item</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"profile-name"</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">ion-label</span> <span class="hljs-attr">stacked</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">ion-label</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">ion-input</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"profile.name"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Your name"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ion-input</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;/<span class="hljs-name">ion-item</span>&gt;</span></pre><pre class="line-added"><span class="hljs-tag">&lt;/<span class="hljs-name">ion-content</span>&gt;</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>And styles:</p>
<diffbox step="5.24" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.24</span> <span class="commit-summary">Add profile component view style</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/4e8dec30627a7da24d60bff1e6119244d4f6537b">src/pages/profile/profile.scss</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-selector-class">.profile-page-content</span> <span>{</span></pre><pre class="line-added">  <span class="hljs-selector-class">.profile-picture</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-attribute">max-width</span>: <span class="hljs-number">300px</span>;</pre><pre class="line-added">    <span class="hljs-attribute">display</span>: block;</pre><pre class="line-added">    <span class="hljs-attribute">margin</span>: auto;</pre><pre class="line-added"> </pre><pre class="line-added">    <span class="hljs-selector-tag">img</span> <span>{</span></pre><pre class="line-added">      <span class="hljs-attribute">margin-bottom</span>: -<span class="hljs-number">33px</span>;</pre><pre class="line-added">      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</pre><pre class="line-added">    <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">    ion-<span class="hljs-attribute">icon</span> <span>{</span></pre><pre class="line-added">      <span class="hljs-attribute">float</span>: right;</pre><pre class="line-added">      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">30px</span>;</pre><pre class="line-added">      <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.5</span>;</pre><pre class="line-added">      <span class="hljs-attribute">border-left</span>: black solid <span class="hljs-number">1px</span>;</pre><pre class="line-added">      <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">5px</span>;</pre><pre class="line-added">    <span>}</span></pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"><span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>And add it to the NgModule:</p>
<diffbox step="5.25" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.25</span> <span class="commit-summary">Add profile component to NgModule</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/e97038e23dd5baadb0ed694e26772b533a3c9dfe">src/app/app.module.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number"> </pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number"> </pre><pre class="line-number">30</pre><pre class="line-number">31</pre><pre class="line-number">32</pre><pre class="line-number">33</pre><pre class="line-number">34</pre><pre class="line-number">35</pre><pre class="line-number">36</pre><pre class="line-number">37</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> MessagesPage <span>}</span> from <span class="hljs-string">"../pages/messages/messages"</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> LoginComponent <span>}</span> from <span class="hljs-string">"../pages/auth/login"</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> VerificationComponent <span>}</span> from <span class="hljs-string">"../pages/verification/verification"</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> ProfileComponent <span>}</span> from <span class="hljs-string">"../pages/profile/profile"</span>;</pre><pre class="line-context"> </pre><pre class="line-context">@NgModule(<span>{</span></pre><pre class="line-context">  declarations: [</pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context">    TabsPage,</pre><pre class="line-context">    MessagesPage,</pre><pre class="line-context">    LoginComponent,</pre><pre class="line-added">    VerificationComponent,</pre><pre class="line-added">    ProfileComponent</pre><pre class="line-context">  ],</pre><pre class="line-context">  imports: [</pre><pre class="line-context">    IonicModule.forRoot(MyApp),</pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context">    TabsPage,</pre><pre class="line-context">    MessagesPage,</pre><pre class="line-context">    LoginComponent,</pre><pre class="line-added">    VerificationComponent,</pre><pre class="line-added">    ProfileComponent</pre><pre class="line-context">  ],</pre><pre class="line-context">  providers: []</pre><pre class="line-context"><span>}</span>)</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>And let's use it in the <code>VerificationComponent</code>:</p>
<diffbox step="5.26" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.26</span> <span class="commit-summary">Add profile component to verification navigation</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/a5535495b8bc301b8d6df515f396fff2057972bd">src/pages/verification/verification.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number"> </pre><pre class="line-number">34</pre><pre class="line-number">35</pre><pre class="line-number">36</pre><pre class="line-number">37</pre><pre class="line-number">38</pre><pre class="line-number">39</pre><pre class="line-number">40</pre><pre class="line-number">41</pre><pre class="line-number">42</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> Component, OnInit, NgZone <span>}</span> from <span class="hljs-string">'@angular/core'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> NavController, NavParams, AlertController <span>}</span> from <span class="hljs-string">'ionic-angular'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> ProfileComponent <span>}</span> from <span class="hljs-string">"../profile/profile"</span>;</pre><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">let</span> Accounts;</pre><pre class="line-context"> </pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context">      <span class="hljs-keyword">this</span>.zone.run(() =&gt; <span>{</span></pre><pre class="line-context">        <span class="hljs-keyword">if</span> (e) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.handleError(e);</pre><pre class="line-context"> </pre><pre class="line-added">        <span class="hljs-keyword">this</span>.navCtrl.setRoot(ProfileComponent, <span>{</span><span>}</span>, <span>{</span></pre><pre class="line-added">          animate: <span class="hljs-literal">true</span></pre><pre class="line-added">        <span>}</span>);</pre><pre class="line-context">      <span>}</span>);</pre><pre class="line-context">    <span>}</span>);</pre><pre class="line-context">  <span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>


<p>Our authentication flow is complete! However there are some few adjustments we need to make before we proceed to the next step.</p>
<p>For the messaging system, each message should have an owner. If a user is logged-in a message document should be inserted with an additional <code>senderId</code> field:</p>
<diffbox step="5.27" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.27</span> <span class="commit-summary">Add senderId property to addMessage method</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/57de66c1b85323915c9c2e17a2c6066f7516047f">api/server/methods.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number"> </pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre><pre class="line-number">26</pre><pre class="line-number">27</pre><pre class="line-number">28</pre><pre class="line-number">29</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initMethods</span>(<span class="hljs-params"></span>) </span><span>{</span></pre><pre class="line-context">  Meteor.methods(<span>{</span></pre><pre class="line-context">    addMessage(chatId: <span class="hljs-built_in">string</span>, content: <span class="hljs-built_in">string</span>) <span>{</span></pre><pre class="line-added">      <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.userId) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Meteor.Error(<span class="hljs-string">'unauthorized'</span>,</pre><pre class="line-added">        <span class="hljs-string">'User must be logged-in to create a new chat'</span>);</pre><pre class="line-added"> </pre><pre class="line-context">      check(chatId, nonEmptyString);</pre><pre class="line-context">      check(content, nonEmptyString);</pre><pre class="line-context"> </pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context"> </pre><pre class="line-context">      <span class="hljs-keyword">return</span> <span>{</span></pre><pre class="line-context">        messageId: Messages.collection.insert(<span>{</span></pre><pre class="line-added">          senderId: <span class="hljs-keyword">this</span>.userId,</pre><pre class="line-context">          chatId: chatId,</pre><pre class="line-context">          content: content,</pre><pre class="line-context">          createdAt: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<diffbox step="5.28" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.28</span> <span class="commit-summary">Add it also to the model</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/80b95b8b16f46f0f9a4bb7c149347ba9f5ef39ec">api/models/whatsapp-models.d.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context">    content?: <span class="hljs-built_in">string</span>;</pre><pre class="line-context">    createdAt?: <span class="hljs-built_in">Date</span>;</pre><pre class="line-context">    ownership?: <span class="hljs-built_in">string</span>;</pre><pre class="line-added">    senderId?: <span class="hljs-built_in">string</span>;</pre><pre class="line-context">  <span>}</span></pre><pre class="line-context"><span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>We can determine message ownership inside the component:</p>
<diffbox step="5.29" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.29</span> <span class="commit-summary">Determine message ownership based on sender id</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/5108448a99f8e2b015d842cb9839ba51dbad82df">src/pages/messages/messages.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre><pre class="line-number">26</pre><pre class="line-number">27</pre><pre class="line-number">28</pre><pre class="line-number">29</pre><pre class="line-number"> </pre><pre class="line-number">54</pre><pre class="line-number">55</pre><pre class="line-number">56</pre><pre class="line-number">57</pre><pre class="line-number">58</pre><pre class="line-number">59</pre><pre class="line-number">60</pre><pre class="line-number">61</pre><pre class="line-number">62</pre><pre class="line-number">63</pre><pre class="line-number">64</pre><pre class="line-number">65</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context">  messages: Observable&lt;Message[]&gt;;</pre><pre class="line-context">  message: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</pre><pre class="line-context">  autoScroller: Subscription;</pre><pre class="line-added">  senderId: <span class="hljs-built_in">string</span>;</pre><pre class="line-context"> </pre><pre class="line-context">  <span class="hljs-keyword">constructor</span>(navParams: NavParams, element: ElementRef) <span>{</span></pre><pre class="line-context">    <span class="hljs-keyword">this</span>.selectedChat = &lt;Chat&gt;navParams.get(<span class="hljs-string">'chat'</span>);</pre><pre class="line-context">    <span class="hljs-keyword">this</span>.title = <span class="hljs-keyword">this</span>.selectedChat.title;</pre><pre class="line-context">    <span class="hljs-keyword">this</span>.picture = <span class="hljs-keyword">this</span>.selectedChat.picture;</pre><pre class="line-added">    <span class="hljs-keyword">this</span>.senderId = Meteor.userId();</pre><pre class="line-added"> </pre><pre class="line-context">  <span>}</span></pre><pre class="line-context"> </pre><pre class="line-context">  <span class="hljs-keyword">private</span> <span class="hljs-keyword">get</span> messagesPageContent(): Element <span>{</span></pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context">  <span>}</span></pre><pre class="line-context"> </pre><pre class="line-context">  ngOnInit() <span>{</span></pre><pre class="line-context">    <span class="hljs-keyword">this</span>.messages = Messages.find(</pre><pre class="line-context">      <span>{</span>chatId: <span class="hljs-keyword">this</span>.selectedChat._id<span>}</span>,</pre><pre class="line-context">      <span>{</span>sort: <span>{</span>createdAt: <span class="hljs-number">1</span><span>}</span><span>}</span></pre><pre class="line-context">    ).map((messages: Message[]) =&gt; <span>{</span></pre><pre class="line-context">      messages.forEach((message: Message) =&gt; <span>{</span></pre><pre class="line-added">        message.ownership = <span class="hljs-keyword">this</span>.senderId == message.senderId ? <span class="hljs-string">'mine'</span> : <span class="hljs-string">'other'</span>;</pre><pre class="line-context">      <span>}</span>);</pre><pre class="line-context"> </pre><pre class="line-context">      <span class="hljs-keyword">return</span> messages;</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>Now we're going to add the abilities to log-out and edit our profile as well, which are going to be presented to us using a popover. </p>
<p>Let's show a popover any time we press on the options icon in the top right corner of the chats view!</p>
<p>Let's start by adding the actual Component that will open on the popover:</p>
<diffbox step="5.30" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.30</span> <span class="commit-summary">Add chats-options component</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/3c16ce6d94bffab170df411696774a5cb02c000d">src/pages/chat-options/chat-options.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre><pre class="line-number">26</pre><pre class="line-number">27</pre><pre class="line-number">28</pre><pre class="line-number">29</pre><pre class="line-number">30</pre><pre class="line-number">31</pre><pre class="line-number">32</pre><pre class="line-number">33</pre><pre class="line-number">34</pre><pre class="line-number">35</pre><pre class="line-number">36</pre><pre class="line-number">37</pre><pre class="line-number">38</pre><pre class="line-number">39</pre><pre class="line-number">40</pre><pre class="line-number">41</pre><pre class="line-number">42</pre><pre class="line-number">43</pre><pre class="line-number">44</pre><pre class="line-number">45</pre><pre class="line-number">46</pre><pre class="line-number">47</pre><pre class="line-number">48</pre><pre class="line-number">49</pre><pre class="line-number">50</pre><pre class="line-number">51</pre><pre class="line-number">52</pre><pre class="line-number">53</pre><pre class="line-number">54</pre><pre class="line-number">55</pre><pre class="line-number">56</pre><pre class="line-number">57</pre><pre class="line-number">58</pre><pre class="line-number">59</pre><pre class="line-number">60</pre><pre class="line-number">61</pre><pre class="line-number">62</pre><pre class="line-number">63</pre><pre class="line-number">64</pre><pre class="line-number">65</pre><pre class="line-number">66</pre><pre class="line-number">67</pre><pre class="line-number">68</pre><pre class="line-number">69</pre><pre class="line-number">70</pre><pre class="line-number">71</pre><pre class="line-number">72</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> Component <span>}</span> from <span class="hljs-string">'@angular/core'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> NavController, ViewController, AlertController <span>}</span> from <span class="hljs-string">'ionic-angular'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> ProfileComponent <span>}</span> from <span class="hljs-string">'../profile/profile'</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> LoginComponent <span>}</span> from <span class="hljs-string">'../auth/login'</span>;</pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">let</span> Meteor;</pre><pre class="line-added"> </pre><pre class="line-added">@Component(<span>{</span></pre><pre class="line-added">  selector: <span class="hljs-string">'chats-options'</span>,</pre><pre class="line-added">  templateUrl: <span class="hljs-string">'chat-options.html'</span></pre><pre class="line-added"><span>}</span>)</pre><pre class="line-added"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> ChatsOptionsComponent <span>{</span></pre><pre class="line-added">  <span class="hljs-keyword">constructor</span>(</pre><pre class="line-added">    <span class="hljs-keyword">public</span> navCtrl: NavController,</pre><pre class="line-added">    <span class="hljs-keyword">public</span> viewCtrl: ViewController,</pre><pre class="line-added">    <span class="hljs-keyword">public</span> alertCtrl: AlertController</pre><pre class="line-added">  ) <span>{</span><span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  editProfile(): <span class="hljs-built_in">void</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-keyword">this</span>.viewCtrl.dismiss().then(() =&gt; <span>{</span></pre><pre class="line-added">      <span class="hljs-keyword">this</span>.navCtrl.push(ProfileComponent);</pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  logout(): <span class="hljs-built_in">void</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-keyword">const</span> alert = <span class="hljs-keyword">this</span>.alertCtrl.create(<span>{</span></pre><pre class="line-added">      title: <span class="hljs-string">'Logout'</span>,</pre><pre class="line-added">      message: <span class="hljs-string">'Are you sure you would like to proceed?'</span>,</pre><pre class="line-added">      buttons: [</pre><pre class="line-added">        <span>{</span></pre><pre class="line-added">          text: <span class="hljs-string">'Cancel'</span>,</pre><pre class="line-added">          role: <span class="hljs-string">'cancel'</span></pre><pre class="line-added">        <span>}</span>,</pre><pre class="line-added">        <span>{</span></pre><pre class="line-added">          text: <span class="hljs-string">'Yes'</span>,</pre><pre class="line-added">          handler: () =&gt; <span>{</span></pre><pre class="line-added">            <span class="hljs-keyword">this</span>.handleLogout(alert);</pre><pre class="line-added">            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</pre><pre class="line-added">          <span>}</span></pre><pre class="line-added">        <span>}</span></pre><pre class="line-added">      ]</pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-added"> </pre><pre class="line-added">    <span class="hljs-keyword">this</span>.viewCtrl.dismiss().then(() =&gt; <span>{</span></pre><pre class="line-added">      alert.present();</pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  <span class="hljs-keyword">private</span> handleLogout(alert): <span class="hljs-built_in">void</span> <span>{</span></pre><pre class="line-added">    Meteor.logout((e: <span class="hljs-built_in">Error</span>) =&gt; <span>{</span></pre><pre class="line-added">      alert.dismiss().then(() =&gt; <span>{</span></pre><pre class="line-added">        <span class="hljs-keyword">if</span> (e) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.handleError(e);</pre><pre class="line-added"> </pre><pre class="line-added">        <span class="hljs-keyword">this</span>.navCtrl.setRoot(LoginComponent, <span>{</span><span>}</span>, <span>{</span></pre><pre class="line-added">          animate: <span class="hljs-literal">true</span></pre><pre class="line-added">        <span>}</span>);</pre><pre class="line-added">      <span>}</span>);</pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  <span class="hljs-keyword">private</span> handleError(e: <span class="hljs-built_in">Error</span>): <span class="hljs-built_in">void</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-built_in">console</span>.error(e);</pre><pre class="line-added"> </pre><pre class="line-added">    <span class="hljs-keyword">const</span> alert = <span class="hljs-keyword">this</span>.alertCtrl.create(<span>{</span></pre><pre class="line-added">      title: <span class="hljs-string">'Oops!'</span>,</pre><pre class="line-added">      message: e.message,</pre><pre class="line-added">      buttons: [<span class="hljs-string">'OK'</span>]</pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-added"> </pre><pre class="line-added">    alert.present();</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"><span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<blockquote>
<p>It uses popover functionality from Ionic (<a href="http://ionicframework.com/docs/v2/components/#popovers">see documentation</a>).</p>
</blockquote>
<diffbox step="5.31" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.31</span> <span class="commit-summary">Add chats-options component view</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/3cf1fec1720de79b7625b0c4d95f79657ce1f9e5">src/pages/chat-options/chat-options.html</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">ion-content</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"chats-options-page-content"</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">ion-list</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"options"</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">ion-item</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"option option-profile"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"editProfile()"</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">ion-icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"contact"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"option-icon"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ion-icon</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"option-name"</span>&gt;</span>Profile<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></pre><pre class="line-added"> </pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">ion-item</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"option option-about"</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">ion-icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"information-circle"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"option-icon"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ion-icon</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"option-name"</span>&gt;</span>About<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></pre><pre class="line-added"> </pre><pre class="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">ion-item</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"option option-logout"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"logout()"</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">ion-icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"log-out"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"option-icon"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ion-icon</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"option-name"</span>&gt;</span>Logout<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre class="line-added">    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></pre><pre class="line-added">  <span class="hljs-tag">&lt;/<span class="hljs-name">ion-list</span>&gt;</span></pre><pre class="line-added"><span class="hljs-tag">&lt;/<span class="hljs-name">ion-content</span>&gt;</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<diffbox step="5.32" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.32</span> <span class="commit-summary">Add chats-options component view style</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/ad15d6d6906eb94e51ecb5d1b5c186892f544160">src/pages/chat-options/chat-options.scss</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-added"><span class="hljs-selector-class">.chats-options-page-content</span> <span>{</span></pre><pre class="line-added">  <span class="hljs-selector-class">.options</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  <span class="hljs-selector-class">.option-name</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-attribute">float</span>: left;</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-added">  <span class="hljs-selector-class">.option-icon</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-attribute">float</span>: right;</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"><span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>And add it to the NgModule:</p>
<diffbox step="5.33" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.33</span> <span class="commit-summary">Add chats-options component to the module definition</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/1869dc923d5667fb523a07a924e9728b68631fca">src/app/app.module.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number"> </pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre><pre class="line-number"> </pre><pre class="line-number">33</pre><pre class="line-number">34</pre><pre class="line-number">35</pre><pre class="line-number">36</pre><pre class="line-number">37</pre><pre class="line-number">38</pre><pre class="line-number">39</pre><pre class="line-number">40</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> LoginComponent <span>}</span> from <span class="hljs-string">"../pages/auth/login"</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> VerificationComponent <span>}</span> from <span class="hljs-string">"../pages/verification/verification"</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> ProfileComponent <span>}</span> from <span class="hljs-string">"../pages/profile/profile"</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> ChatsOptionsComponent <span>}</span> from <span class="hljs-string">"../pages/chat-options/chat-options"</span>;</pre><pre class="line-context"> </pre><pre class="line-context">@NgModule(<span>{</span></pre><pre class="line-context">  declarations: [</pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context">    MessagesPage,</pre><pre class="line-context">    LoginComponent,</pre><pre class="line-context">    VerificationComponent,</pre><pre class="line-added">    ProfileComponent,</pre><pre class="line-added">    ChatsOptionsComponent</pre><pre class="line-context">  ],</pre><pre class="line-context">  imports: [</pre><pre class="line-context">    IonicModule.forRoot(MyApp),</pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context">    MessagesPage,</pre><pre class="line-context">    LoginComponent,</pre><pre class="line-context">    VerificationComponent,</pre><pre class="line-added">    ProfileComponent,</pre><pre class="line-added">    ChatsOptionsComponent</pre><pre class="line-context">  ],</pre><pre class="line-context">  providers: []</pre><pre class="line-context"><span>}</span>)</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>Now let's use it inside the <code>ChatsPage</code>:</p>
<diffbox step="5.34" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.34</span> <span class="commit-summary">Use the popover component</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/af5482d47ed8948f045ed372995915974ac47cfb">src/pages/chats/chats.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number"> </pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number"> </pre><pre class="line-number">34</pre><pre class="line-number">35</pre><pre class="line-number">36</pre><pre class="line-number">37</pre><pre class="line-number">38</pre><pre class="line-number">39</pre><pre class="line-number">40</pre><pre class="line-number">41</pre><pre class="line-number">42</pre><pre class="line-number">43</pre><pre class="line-number">44</pre><pre class="line-number">45</pre><pre class="line-number">46</pre><pre class="line-number">47</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> Observable <span>}</span> from <span class="hljs-string">"rxjs"</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> Chat <span>}</span> from <span class="hljs-string">"api/models/whatsapp-models"</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> Chats, Messages <span>}</span> from <span class="hljs-string">"api/collections/whatsapp-collections"</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> NavController, PopoverController <span>}</span> from <span class="hljs-string">"ionic-angular"</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> MessagesPage <span>}</span> from <span class="hljs-string">"../messages/messages"</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> ChatsOptionsComponent <span>}</span> from <span class="hljs-string">"../chat-options/chat-options"</span>;</pre><pre class="line-context"> </pre><pre class="line-context">@Component(<span>{</span></pre><pre class="line-context">  templateUrl: <span class="hljs-string">'chats.html'</span></pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> ChatsPage <span class="hljs-keyword">implements</span> OnInit <span>{</span></pre><pre class="line-context">  chats;</pre><pre class="line-context"> </pre><pre class="line-added">  <span class="hljs-keyword">constructor</span>(public navCtrl: NavController, public popoverCtrl: PopoverController) <span>{</span></pre><pre class="line-context"> </pre><pre class="line-context">  <span>}</span></pre><pre class="line-context"> </pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context">      ).zone();</pre><pre class="line-context">  <span>}</span></pre><pre class="line-context"> </pre><pre class="line-added">  showOptions(): <span class="hljs-built_in">void</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-keyword">const</span> popover = <span class="hljs-keyword">this</span>.popoverCtrl.create(ChatsOptionsComponent, <span>{</span><span>}</span>, <span>{</span></pre><pre class="line-added">      cssClass: <span class="hljs-string">'options-popover'</span></pre><pre class="line-added">    <span>}</span>);</pre><pre class="line-added"> </pre><pre class="line-added">    popover.present();</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"> </pre><pre class="line-context">  showMessages(chat): <span class="hljs-built_in">void</span> <span>{</span></pre><pre class="line-context">    <span class="hljs-keyword">this</span>.navCtrl.push(MessagesPage, <span>{</span>chat<span>}</span>);</pre><pre class="line-context">  <span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>And let's add an event handler in the view:</p>
<diffbox step="5.35" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.35</span> <span class="commit-summary">Added event handler</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/39f4f9d9bc24166609964ce8781df9bfb33c39b0">src/pages/chats/chats.html</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">7</pre><pre class="line-number">8</pre><pre class="line-number">9</pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">ion-button</span> <span class="hljs-attr">icon-only</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"add-chat-button"</span>&gt;</span></pre><pre class="line-context">        <span class="hljs-tag">&lt;<span class="hljs-name">ion-icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"person-add"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ion-icon</span>&gt;</span></pre><pre class="line-context">      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></pre><pre class="line-added">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">ion-button</span> <span class="hljs-attr">icon-only</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"options-button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"showOptions()"</span>&gt;</span></pre><pre class="line-context">        <span class="hljs-tag">&lt;<span class="hljs-name">ion-icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"more"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ion-icon</span>&gt;</span></pre><pre class="line-context">      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></pre><pre class="line-context">    <span class="hljs-tag">&lt;/<span class="hljs-name">ion-buttons</span>&gt;</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>As for now, once you click on the options icon in the chats view, the popover should appear in the middle of the screen. To fix it, we simply gonna edit the <code>scss</code> file of the chats page:</p>
<diffbox step="5.36" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.36</span> <span class="commit-summary">Add options-popover style to chats stylesheet</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/f91c3d62e52d459c4a6cc878443bad339198696f">src/pages/chats/chats.scss</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre><pre class="line-number">26</pre><pre class="line-number">27</pre><pre class="line-number">28</pre><pre class="line-number">29</pre><pre class="line-number">30</pre><pre class="line-number">31</pre><pre class="line-number">32</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context">    <span>}</span></pre><pre class="line-context">  <span>}</span></pre><pre class="line-context"><span>}</span></pre><pre class="line-added"> </pre><pre class="line-added"><span class="hljs-selector-class">.options-popover</span> <span>{</span></pre><pre class="line-added">  <span class="hljs-variable">$popover-width</span>: <span class="hljs-number">200px</span>;</pre><pre class="line-added">  <span class="hljs-variable">$popover-margin</span>: <span class="hljs-number">5px</span>;</pre><pre class="line-added"> </pre><pre class="line-added">  <span class="hljs-selector-class">.popover-content</span> <span>{</span></pre><pre class="line-added">    <span class="hljs-attribute">width</span>: <span class="hljs-variable">$popover-width</span>;</pre><pre class="line-added">    <span class="hljs-attribute">transform-origin</span>: right top <span class="hljs-number">0px</span> <span class="hljs-meta">!important</span>;</pre><pre class="line-added">    <span class="hljs-attribute">left</span>: calc(<span class="hljs-number">100%</span> - #<span>{</span><span class="hljs-variable">$popover-width</span><span>}</span> - #<span>{</span><span class="hljs-variable">$popover-margin</span><span>}</span>) <span class="hljs-meta">!important</span>;</pre><pre class="line-added">    <span class="hljs-attribute">top</span>: <span class="hljs-variable">$popover-margin</span> <span class="hljs-meta">!important</span>;</pre><pre class="line-added">  <span>}</span></pre><pre class="line-added"><span>}</span></pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>

<p>And last, let's implement the server side method (<code>updateProfile</code>):</p>
<diffbox step="5.37" tutorial="whatsapp2-ionic-tutorial"><!--template bindings={}--><div class="diffbox">
  <div class="title-panel">
    <span class="step-number">5.37</span> <span class="commit-summary">Added updateProfile method</span>
    <a class="github-commit-link" target="_blank" href="http://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/commit/3980ebd863e0988eb71c200ae74490bcb27ecdf1">api/server/methods.ts</a>
  </div>
  <div class="code-container">
    <div class="scroll-container">
      <div class="line-numbers">
        <!--template bindings={}--><pre class="line-number">1</pre><pre class="line-number">2</pre><pre class="line-number">3</pre><pre class="line-number">4</pre><pre class="line-number">5</pre><pre class="line-number">6</pre><pre class="line-number">7</pre><pre class="line-number"> </pre><pre class="line-number">10</pre><pre class="line-number">11</pre><pre class="line-number">12</pre><pre class="line-number">13</pre><pre class="line-number">14</pre><pre class="line-number">15</pre><pre class="line-number">16</pre><pre class="line-number">17</pre><pre class="line-number">18</pre><pre class="line-number">19</pre><pre class="line-number">20</pre><pre class="line-number">21</pre><pre class="line-number">22</pre><pre class="line-number">23</pre><pre class="line-number">24</pre><pre class="line-number">25</pre><pre class="line-number">26</pre><pre class="line-number">27</pre><pre class="line-number">28</pre>
      </div>
      <!--template bindings={}--><div class="line-content"></div><diffbox-container><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> Meteor <span>}</span> from <span class="hljs-string">'meteor/meteor'</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> Chats, Messages <span>}</span> from <span class="hljs-string">"../collections/whatsapp-collections"</span>;</pre><pre class="line-context"><span class="hljs-keyword">import</span> <span>{</span> check, Match <span>}</span> from <span class="hljs-string">"meteor/check"</span>;</pre><pre class="line-added"><span class="hljs-keyword">import</span> <span>{</span> Profile <span>}</span> from <span class="hljs-string">"api/models/whatsapp-models"</span>;</pre><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-keyword">const</span> nonEmptyString = Match.Where((str) =&gt; <span>{</span></pre><pre class="line-context">  check(str, <span class="hljs-built_in">String</span>);</pre><pre class="undefined"><span class="hljs-comment">...some lines skipped...</span></pre><pre class="line-context"> </pre><pre class="line-context"><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initMethods</span>(<span class="hljs-params"></span>) </span><span>{</span></pre><pre class="line-context">  Meteor.methods(<span>{</span></pre><pre class="line-added">    updateProfile(profile: Profile): <span class="hljs-built_in">void</span> <span>{</span></pre><pre class="line-added">      <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.userId) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Meteor.Error(<span class="hljs-string">'unauthorized'</span>,</pre><pre class="line-added">        <span class="hljs-string">'User must be logged-in to create a new chat'</span>);</pre><pre class="line-added"> </pre><pre class="line-added">      check(profile, <span>{</span></pre><pre class="line-added">        name: nonEmptyString,</pre><pre class="line-added">        picture: nonEmptyString</pre><pre class="line-added">      <span>}</span>);</pre><pre class="line-added"> </pre><pre class="line-added">      Meteor.users.update(<span class="hljs-keyword">this</span>.userId, <span>{</span></pre><pre class="line-added">        $<span class="hljs-keyword">set</span>: <span>{</span>profile<span>}</span></pre><pre class="line-added">      <span>}</span>);</pre><pre class="line-added">    <span>}</span>,</pre><pre class="line-context">    addMessage(chatId: <span class="hljs-built_in">string</span>, content: <span class="hljs-built_in">string</span>) <span>{</span></pre><pre class="line-context">      <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.userId) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Meteor.Error(<span class="hljs-string">'unauthorized'</span>,</pre><pre class="line-context">        <span class="hljs-string">'User must be logged-in to create a new chat'</span>);</pre></diffbox-container><!--template bindings={}-->
    </div>
  </div>
</div>
</diffbox>
</tutorial-container><!--template bindings={}-->
    <br><br>
    <div class="top-navigation">
      <div class="tutorial-nav">
        <a class="md-primary tutorial-button" md-raised-button="" tutorialNavigation="previous" aria-disabled="false" href="/tutorials/whatsapp2/ionic/messages-page"><span class="md-button-wrapper">
          <span class="button-wrapper"><i class="material-icons">navigate_before</i>Previous</span>
        </span> </a>
        <a class="md-primary tutorial-button" codeDiffLink="" md-raised-button="" aria-disabled="false" href="https://github.com/Urigo/Ionic2CLI-Meteor-WhatsApp/compare/step4...step5"><span class="md-button-wrapper">
          <span class="button-wrapper"><i class="material-icons">search</i>Code Diff</span>
        </span> </a>
        <a class="md-primary tutorial-button" md-raised-button="" tutorialNavigation="next" aria-disabled="false" href="/tutorials/whatsapp2/ionic/chats-mutations"><span class="md-button-wrapper">
          <span class="button-wrapper right-icon">Next<i class="material-icons">navigate_next</i></span>
        </span> </a>
      </div>

      <div class="improve">
        <a class="md-primary improv-button tutorial-button" md-raised-button="" href="https://github.com/Urigo/angular-meteor-docs/edit/gh-pages/tutorials/whatsapp2/ionic/authentication.html" aria-disabled="false"><span class="md-button-wrapper">
          <span class="button-wrapper"><i class="material-icons">mode_edit</i>Improve This Document</span>
        </span> </a>
      </div>
    </div>
  </div>
</div>
</tutorial>

</app>

  <!-- Google Tag Manager -->
  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PKC4D4"
                    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-PKC4D4');</script>
  <!-- End Google Tag Manager -->



<style type="text/css">@charset "UTF-8";.hljs{background:#f0f0f0}.hljs-doctag,.hljs-meta-keyword{font-weight:700}.hljs-deletion,.hljs-selector-class,.hljs-template-tag{color:#800}.hljs-selector-attr,.hljs-selector-pseudo{color:#bc6060}.hljs-addition,.hljs-code{color:#397300}.hljs-meta-string{color:#4d99bf}.hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag{color:#333;font-weight:700}.hljs-subst{color:#333}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@font-face{font-family:'FontAwesome';src:url(assets/fonts/fontawesome-webfont.eot?v=4.7.0);src:url(assets/fonts/fontawesome-webfont.eot?#iefix&v=4.7.0) format("embedded-opentype"),url(assets/fonts/fontawesome-webfont.woff2?v=4.7.0) format("woff2"),url(assets/fonts/fontawesome-webfont.woff?v=4.7.0) format("woff"),url(assets/fonts/fontawesome-webfont.ttf?v=4.7.0) format("truetype"),url(assets/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular) format("svg");font-weight:400;font-style:normal}.fa{display:inline-block;font:14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.33333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14286em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14286em;width:2.14286em;top:.14286em;text-align:center}.fa-li.fa-lg{left:-1.85714em}.fa-border{padding:.2em .25em .15em;border:solid .08em #eee;border-radius:.1em}.fa-pull-left{float:left}.fa-pull-right,.pull-right{float:right}.fa.fa-pull-left{margin-right:.3em}.fa.fa-pull-right{margin-left:.3em}.pull-left{float:left}.fa.pull-left{margin-right:.3em}.fa.pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-rotate-90{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";-webkit-transform:scale(1,-1);-ms-transform:scale(1,-1);transform:scale(1,-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:""}.fa-music:before{content:""}.fa-search:before{content:""}.fa-envelope-o:before{content:""}.fa-heart:before{content:""}.fa-star:before{content:""}.fa-star-o:before{content:""}.fa-user:before{content:""}.fa-film:before{content:""}.fa-th-large:before{content:""}.fa-th:before{content:""}.fa-th-list:before{content:""}.fa-check:before{content:""}.fa-close:before,.fa-remove:before,.fa-times:before{content:""}.fa-search-plus:before{content:""}.fa-search-minus:before{content:""}.fa-power-off:before{content:""}.fa-signal:before{content:""}.fa-cog:before,.fa-gear:before{content:""}.fa-trash-o:before{content:""}.fa-home:before{content:""}.fa-file-o:before{content:""}.fa-clock-o:before{content:""}.fa-road:before{content:""}.fa-download:before{content:""}.fa-arrow-circle-o-down:before{content:""}.fa-arrow-circle-o-up:before{content:""}.fa-inbox:before{content:""}.fa-play-circle-o:before{content:""}.fa-repeat:before,.fa-rotate-right:before{content:""}.fa-refresh:before{content:""}.fa-list-alt:before{content:""}.fa-lock:before{content:""}.fa-flag:before{content:""}.fa-headphones:before{content:""}.fa-volume-off:before{content:""}.fa-volume-down:before{content:""}.fa-volume-up:before{content:""}.fa-qrcode:before{content:""}.fa-barcode:before{content:""}.fa-tag:before{content:""}.fa-tags:before{content:""}.fa-book:before{content:""}.fa-bookmark:before{content:""}.fa-print:before{content:""}.fa-camera:before{content:""}.fa-font:before{content:""}.fa-bold:before{content:""}.fa-italic:before{content:""}.fa-text-height:before{content:""}.fa-text-width:before{content:""}.fa-align-left:before{content:""}.fa-align-center:before{content:""}.fa-align-right:before{content:""}.fa-align-justify:before{content:""}.fa-list:before{content:""}.fa-dedent:before,.fa-outdent:before{content:""}.fa-indent:before{content:""}.fa-video-camera:before{content:""}.fa-image:before,.fa-photo:before,.fa-picture-o:before{content:""}.fa-pencil:before{content:""}.fa-map-marker:before{content:""}.fa-adjust:before{content:""}.fa-tint:before{content:""}.fa-edit:before,.fa-pencil-square-o:before{content:""}.fa-share-square-o:before{content:""}.fa-check-square-o:before{content:""}.fa-arrows:before{content:""}.fa-step-backward:before{content:""}.fa-fast-backward:before{content:""}.fa-backward:before{content:""}.fa-play:before{content:""}.fa-pause:before{content:""}.fa-stop:before{content:""}.fa-forward:before{content:""}.fa-fast-forward:before{content:""}.fa-step-forward:before{content:""}.fa-eject:before{content:""}.fa-chevron-left:before{content:""}.fa-chevron-right:before{content:""}.fa-plus-circle:before{content:""}.fa-minus-circle:before{content:""}.fa-times-circle:before{content:""}.fa-check-circle:before{content:""}.fa-question-circle:before{content:""}.fa-info-circle:before{content:""}.fa-crosshairs:before{content:""}.fa-times-circle-o:before{content:""}.fa-check-circle-o:before{content:""}.fa-ban:before{content:""}.fa-arrow-left:before{content:""}.fa-arrow-right:before{content:""}.fa-arrow-up:before{content:""}.fa-arrow-down:before{content:""}.fa-mail-forward:before,.fa-share:before{content:""}.fa-expand:before{content:""}.fa-compress:before{content:""}.fa-plus:before{content:""}.fa-minus:before{content:""}.fa-asterisk:before{content:""}.fa-exclamation-circle:before{content:""}.fa-gift:before{content:""}.fa-leaf:before{content:""}.fa-fire:before{content:""}.fa-eye:before{content:""}.fa-eye-slash:before{content:""}.fa-exclamation-triangle:before,.fa-warning:before{content:""}.fa-plane:before{content:""}.fa-calendar:before{content:""}.fa-random:before{content:""}.fa-comment:before{content:""}.fa-magnet:before{content:""}.fa-chevron-up:before{content:""}.fa-chevron-down:before{content:""}.fa-retweet:before{content:""}.fa-shopping-cart:before{content:""}.fa-folder:before{content:""}.fa-folder-open:before{content:""}.fa-arrows-v:before{content:""}.fa-arrows-h:before{content:""}.fa-bar-chart-o:before,.fa-bar-chart:before{content:""}.fa-twitter-square:before{content:""}.fa-facebook-square:before{content:""}.fa-camera-retro:before{content:""}.fa-key:before{content:""}.fa-cogs:before,.fa-gears:before{content:""}.fa-comments:before{content:""}.fa-thumbs-o-up:before{content:""}.fa-thumbs-o-down:before{content:""}.fa-star-half:before{content:""}.fa-heart-o:before{content:""}.fa-sign-out:before{content:""}.fa-linkedin-square:before{content:""}.fa-thumb-tack:before{content:""}.fa-external-link:before{content:""}.fa-sign-in:before{content:""}.fa-trophy:before{content:""}.fa-github-square:before{content:""}.fa-upload:before{content:""}.fa-lemon-o:before{content:""}.fa-phone:before{content:""}.fa-square-o:before{content:""}.fa-bookmark-o:before{content:""}.fa-phone-square:before{content:""}.fa-twitter:before{content:""}.fa-facebook-f:before,.fa-facebook:before{content:""}.fa-github:before{content:""}.fa-unlock:before{content:""}.fa-credit-card:before{content:""}.fa-feed:before,.fa-rss:before{content:""}.fa-hdd-o:before{content:""}.fa-bullhorn:before{content:""}.fa-bell:before{content:""}.fa-certificate:before{content:""}.fa-hand-o-right:before{content:""}.fa-hand-o-left:before{content:""}.fa-hand-o-up:before{content:""}.fa-hand-o-down:before{content:""}.fa-arrow-circle-left:before{content:""}.fa-arrow-circle-right:before{content:""}.fa-arrow-circle-up:before{content:""}.fa-arrow-circle-down:before{content:""}.fa-globe:before{content:""}.fa-wrench:before{content:""}.fa-tasks:before{content:""}.fa-filter:before{content:""}.fa-briefcase:before{content:""}.fa-arrows-alt:before{content:""}.fa-group:before,.fa-users:before{content:""}.fa-chain:before,.fa-link:before{content:""}.fa-cloud:before{content:""}.fa-flask:before{content:""}.fa-cut:before,.fa-scissors:before{content:""}.fa-copy:before,.fa-files-o:before{content:""}.fa-paperclip:before{content:""}.fa-floppy-o:before,.fa-save:before{content:""}.fa-square:before{content:""}.fa-bars:before,.fa-navicon:before,.fa-reorder:before{content:""}.fa-list-ul:before{content:""}.fa-list-ol:before{content:""}.fa-strikethrough:before{content:""}.fa-underline:before{content:""}.fa-table:before{content:""}.fa-magic:before{content:""}.fa-truck:before{content:""}.fa-pinterest:before{content:""}.fa-pinterest-square:before{content:""}.fa-google-plus-square:before{content:""}.fa-google-plus:before{content:""}.fa-money:before{content:""}.fa-caret-down:before{content:""}.fa-caret-up:before{content:""}.fa-caret-left:before{content:""}.fa-caret-right:before{content:""}.fa-columns:before{content:""}.fa-sort:before,.fa-unsorted:before{content:""}.fa-sort-desc:before,.fa-sort-down:before{content:""}.fa-sort-asc:before,.fa-sort-up:before{content:""}.fa-envelope:before{content:""}.fa-linkedin:before{content:""}.fa-rotate-left:before,.fa-undo:before{content:""}.fa-gavel:before,.fa-legal:before{content:""}.fa-dashboard:before,.fa-tachometer:before{content:""}.fa-comment-o:before{content:""}.fa-comments-o:before{content:""}.fa-bolt:before,.fa-flash:before{content:""}.fa-sitemap:before{content:""}.fa-umbrella:before{content:""}.fa-clipboard:before,.fa-paste:before{content:""}.fa-lightbulb-o:before{content:""}.fa-exchange:before{content:""}.fa-cloud-download:before{content:""}.fa-cloud-upload:before{content:""}.fa-user-md:before{content:""}.fa-stethoscope:before{content:""}.fa-suitcase:before{content:""}.fa-bell-o:before{content:""}.fa-coffee:before{content:""}.fa-cutlery:before{content:""}.fa-file-text-o:before{content:""}.fa-building-o:before{content:""}.fa-hospital-o:before{content:""}.fa-ambulance:before{content:""}.fa-medkit:before{content:""}.fa-fighter-jet:before{content:""}.fa-beer:before{content:""}.fa-h-square:before{content:""}.fa-plus-square:before{content:""}.fa-angle-double-left:before{content:""}.fa-angle-double-right:before{content:""}.fa-angle-double-up:before{content:""}.fa-angle-double-down:before{content:""}.fa-angle-left:before{content:""}.fa-angle-right:before{content:""}.fa-angle-up:before{content:""}.fa-angle-down:before{content:""}.fa-desktop:before{content:""}.fa-laptop:before{content:""}.fa-tablet:before{content:""}.fa-mobile-phone:before,.fa-mobile:before{content:""}.fa-circle-o:before{content:""}.fa-quote-left:before{content:""}.fa-quote-right:before{content:""}.fa-spinner:before{content:""}.fa-circle:before{content:""}.fa-mail-reply:before,.fa-reply:before{content:""}.fa-github-alt:before{content:""}.fa-folder-o:before{content:""}.fa-folder-open-o:before{content:""}.fa-smile-o:before{content:""}.fa-frown-o:before{content:""}.fa-meh-o:before{content:""}.fa-gamepad:before{content:""}.fa-keyboard-o:before{content:""}.fa-flag-o:before{content:""}.fa-flag-checkered:before{content:""}.fa-terminal:before{content:""}.fa-code:before{content:""}.fa-mail-reply-all:before,.fa-reply-all:before{content:""}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:""}.fa-location-arrow:before{content:""}.fa-crop:before{content:""}.fa-code-fork:before{content:""}.fa-chain-broken:before,.fa-unlink:before{content:""}.fa-question:before{content:""}.fa-info:before{content:""}.fa-exclamation:before{content:""}.fa-superscript:before{content:""}.fa-subscript:before{content:""}.fa-eraser:before{content:""}.fa-puzzle-piece:before{content:""}.fa-microphone:before{content:""}.fa-microphone-slash:before{content:""}.fa-shield:before{content:""}.fa-calendar-o:before{content:""}.fa-fire-extinguisher:before{content:""}.fa-rocket:before{content:""}.fa-maxcdn:before{content:""}.fa-chevron-circle-left:before{content:""}.fa-chevron-circle-right:before{content:""}.fa-chevron-circle-up:before{content:""}.fa-chevron-circle-down:before{content:""}.fa-html5:before{content:""}.fa-css3:before{content:""}.fa-anchor:before{content:""}.fa-unlock-alt:before{content:""}.fa-bullseye:before{content:""}.fa-ellipsis-h:before{content:""}.fa-ellipsis-v:before{content:""}.fa-rss-square:before{content:""}.fa-play-circle:before{content:""}.fa-ticket:before{content:""}.fa-minus-square:before{content:""}.fa-minus-square-o:before{content:""}.fa-level-up:before{content:""}.fa-level-down:before{content:""}.fa-check-square:before{content:""}.fa-pencil-square:before{content:""}.fa-external-link-square:before{content:""}.fa-share-square:before{content:""}.fa-compass:before{content:""}.fa-caret-square-o-down:before,.fa-toggle-down:before{content:""}.fa-caret-square-o-up:before,.fa-toggle-up:before{content:""}.fa-caret-square-o-right:before,.fa-toggle-right:before{content:""}.fa-eur:before,.fa-euro:before{content:""}.fa-gbp:before{content:""}.fa-dollar:before,.fa-usd:before{content:""}.fa-inr:before,.fa-rupee:before{content:""}.fa-cny:before,.fa-jpy:before,.fa-rmb:before,.fa-yen:before{content:""}.fa-rouble:before,.fa-rub:before,.fa-ruble:before{content:""}.fa-krw:before,.fa-won:before{content:""}.fa-bitcoin:before,.fa-btc:before{content:""}.fa-file:before{content:""}.fa-file-text:before{content:""}.fa-sort-alpha-asc:before{content:""}.fa-sort-alpha-desc:before{content:""}.fa-sort-amount-asc:before{content:""}.fa-sort-amount-desc:before{content:""}.fa-sort-numeric-asc:before{content:""}.fa-sort-numeric-desc:before{content:""}.fa-thumbs-up:before{content:""}.fa-thumbs-down:before{content:""}.fa-youtube-square:before{content:""}.fa-youtube:before{content:""}.fa-xing:before{content:""}.fa-xing-square:before{content:""}.fa-youtube-play:before{content:""}.fa-dropbox:before{content:""}.fa-stack-overflow:before{content:""}.fa-instagram:before{content:""}.fa-flickr:before{content:""}.fa-adn:before{content:""}.fa-bitbucket:before{content:""}.fa-bitbucket-square:before{content:""}.fa-tumblr:before{content:""}.fa-tumblr-square:before{content:""}.fa-long-arrow-down:before{content:""}.fa-long-arrow-up:before{content:""}.fa-long-arrow-left:before{content:""}.fa-long-arrow-right:before{content:""}.fa-apple:before{content:""}.fa-windows:before{content:""}.fa-android:before{content:""}.fa-linux:before{content:""}.fa-dribbble:before{content:""}.fa-skype:before{content:""}.fa-foursquare:before{content:""}.fa-trello:before{content:""}.fa-female:before{content:""}.fa-male:before{content:""}.fa-gittip:before,.fa-gratipay:before{content:""}.fa-sun-o:before{content:""}.fa-moon-o:before{content:""}.fa-archive:before{content:""}.fa-bug:before{content:""}.fa-vk:before{content:""}.fa-weibo:before{content:""}.fa-renren:before{content:""}.fa-pagelines:before{content:""}.fa-stack-exchange:before{content:""}.fa-arrow-circle-o-right:before{content:""}.fa-arrow-circle-o-left:before{content:""}.fa-caret-square-o-left:before,.fa-toggle-left:before{content:""}.fa-dot-circle-o:before{content:""}.fa-wheelchair:before{content:""}.fa-vimeo-square:before{content:""}.fa-try:before,.fa-turkish-lira:before{content:""}.fa-plus-square-o:before{content:""}.fa-space-shuttle:before{content:""}.fa-slack:before{content:""}.fa-envelope-square:before{content:""}.fa-wordpress:before{content:""}.fa-openid:before{content:""}.fa-bank:before,.fa-institution:before,.fa-university:before{content:""}.fa-graduation-cap:before,.fa-mortar-board:before{content:""}.fa-yahoo:before{content:""}.fa-google:before{content:""}.fa-reddit:before{content:""}.fa-reddit-square:before{content:""}.fa-stumbleupon-circle:before{content:""}.fa-stumbleupon:before{content:""}.fa-delicious:before{content:""}.fa-digg:before{content:""}.fa-pied-piper-pp:before{content:""}.fa-pied-piper-alt:before{content:""}.fa-drupal:before{content:""}.fa-joomla:before{content:""}.fa-language:before{content:""}.fa-fax:before{content:""}.fa-building:before{content:""}.fa-child:before{content:""}.fa-paw:before{content:""}.fa-spoon:before{content:""}.fa-cube:before{content:""}.fa-cubes:before{content:""}.fa-behance:before{content:""}.fa-behance-square:before{content:""}.fa-steam:before{content:""}.fa-steam-square:before{content:""}.fa-recycle:before{content:""}.fa-automobile:before,.fa-car:before{content:""}.fa-cab:before,.fa-taxi:before{content:""}.fa-tree:before{content:""}.fa-spotify:before{content:""}.fa-deviantart:before{content:""}.fa-soundcloud:before{content:""}.fa-database:before{content:""}.fa-file-pdf-o:before{content:""}.fa-file-word-o:before{content:""}.fa-file-excel-o:before{content:""}.fa-file-powerpoint-o:before{content:""}.fa-file-image-o:before,.fa-file-photo-o:before,.fa-file-picture-o:before{content:""}.fa-file-archive-o:before,.fa-file-zip-o:before{content:""}.fa-file-audio-o:before,.fa-file-sound-o:before{content:""}.fa-file-movie-o:before,.fa-file-video-o:before{content:""}.fa-file-code-o:before{content:""}.fa-vine:before{content:""}.fa-codepen:before{content:""}.fa-jsfiddle:before{content:""}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-ring:before,.fa-life-saver:before,.fa-support:before{content:""}.fa-circle-o-notch:before{content:""}.fa-ra:before,.fa-rebel:before,.fa-resistance:before{content:""}.fa-empire:before,.fa-ge:before{content:""}.fa-git-square:before{content:""}.fa-git:before{content:""}.fa-hacker-news:before,.fa-y-combinator-square:before,.fa-yc-square:before{content:""}.fa-tencent-weibo:before{content:""}.fa-qq:before{content:""}.fa-wechat:before,.fa-weixin:before{content:""}.fa-paper-plane:before,.fa-send:before{content:""}.fa-paper-plane-o:before,.fa-send-o:before{content:""}.fa-history:before{content:""}.fa-circle-thin:before{content:""}.fa-header:before{content:""}.fa-paragraph:before{content:""}.fa-sliders:before{content:""}.fa-share-alt:before{content:""}.fa-share-alt-square:before{content:""}.fa-bomb:before{content:""}.fa-futbol-o:before,.fa-soccer-ball-o:before{content:""}.fa-tty:before{content:""}.fa-binoculars:before{content:""}.fa-plug:before{content:""}.fa-slideshare:before{content:""}.fa-twitch:before{content:""}.fa-yelp:before{content:""}.fa-newspaper-o:before{content:""}.fa-wifi:before{content:""}.fa-calculator:before{content:""}.fa-paypal:before{content:""}.fa-google-wallet:before{content:""}.fa-cc-visa:before{content:""}.fa-cc-mastercard:before{content:""}.fa-cc-discover:before{content:""}.fa-cc-amex:before{content:""}.fa-cc-paypal:before{content:""}.fa-cc-stripe:before{content:""}.fa-bell-slash:before{content:""}.fa-bell-slash-o:before{content:""}.fa-trash:before{content:""}.fa-copyright:before{content:""}.fa-at:before{content:""}.fa-eyedropper:before{content:""}.fa-paint-brush:before{content:""}.fa-birthday-cake:before{content:""}.fa-area-chart:before{content:""}.fa-pie-chart:before{content:""}.fa-line-chart:before{content:""}.fa-lastfm:before{content:""}.fa-lastfm-square:before{content:""}.fa-toggle-off:before{content:""}.fa-toggle-on:before{content:""}.fa-bicycle:before{content:""}.fa-bus:before{content:""}.fa-ioxhost:before{content:""}.fa-angellist:before{content:""}.fa-cc:before{content:""}.fa-ils:before,.fa-shekel:before,.fa-sheqel:before{content:""}.fa-meanpath:before{content:""}.fa-buysellads:before{content:""}.fa-connectdevelop:before{content:""}.fa-dashcube:before{content:""}.fa-forumbee:before{content:""}.fa-leanpub:before{content:""}.fa-sellsy:before{content:""}.fa-shirtsinbulk:before{content:""}.fa-simplybuilt:before{content:""}.fa-skyatlas:before{content:""}.fa-cart-plus:before{content:""}.fa-cart-arrow-down:before{content:""}.fa-diamond:before{content:""}.fa-ship:before{content:""}.fa-user-secret:before{content:""}.fa-motorcycle:before{content:""}.fa-street-view:before{content:""}.fa-heartbeat:before{content:""}.fa-venus:before{content:""}.fa-mars:before{content:""}.fa-mercury:before{content:""}.fa-intersex:before,.fa-transgender:before{content:""}.fa-transgender-alt:before{content:""}.fa-venus-double:before{content:""}.fa-mars-double:before{content:""}.fa-venus-mars:before{content:""}.fa-mars-stroke:before{content:""}.fa-mars-stroke-v:before{content:""}.fa-mars-stroke-h:before{content:""}.fa-neuter:before{content:""}.fa-genderless:before{content:""}.fa-facebook-official:before{content:""}.fa-pinterest-p:before{content:""}.fa-whatsapp:before{content:""}.fa-server:before{content:""}.fa-user-plus:before{content:""}.fa-user-times:before{content:""}.fa-bed:before,.fa-hotel:before{content:""}.fa-viacoin:before{content:""}.fa-train:before{content:""}.fa-subway:before{content:""}.fa-medium:before{content:""}.fa-y-combinator:before,.fa-yc:before{content:""}.fa-optin-monster:before{content:""}.fa-opencart:before{content:""}.fa-expeditedssl:before{content:""}.fa-battery-4:before,.fa-battery-full:before,.fa-battery:before{content:""}.fa-battery-3:before,.fa-battery-three-quarters:before{content:""}.fa-battery-2:before,.fa-battery-half:before{content:""}.fa-battery-1:before,.fa-battery-quarter:before{content:""}.fa-battery-0:before,.fa-battery-empty:before{content:""}.fa-mouse-pointer:before{content:""}.fa-i-cursor:before{content:""}.fa-object-group:before{content:""}.fa-object-ungroup:before{content:""}.fa-sticky-note:before{content:""}.fa-sticky-note-o:before{content:""}.fa-cc-jcb:before{content:""}.fa-cc-diners-club:before{content:""}.fa-clone:before{content:""}.fa-balance-scale:before{content:""}.fa-hourglass-o:before{content:""}.fa-hourglass-1:before,.fa-hourglass-start:before{content:""}.fa-hourglass-2:before,.fa-hourglass-half:before{content:""}.fa-hourglass-3:before,.fa-hourglass-end:before{content:""}.fa-hourglass:before{content:""}.fa-hand-grab-o:before,.fa-hand-rock-o:before{content:""}.fa-hand-paper-o:before,.fa-hand-stop-o:before{content:""}.fa-hand-scissors-o:before{content:""}.fa-hand-lizard-o:before{content:""}.fa-hand-spock-o:before{content:""}.fa-hand-pointer-o:before{content:""}.fa-hand-peace-o:before{content:""}.fa-trademark:before{content:""}.fa-registered:before{content:""}.fa-creative-commons:before{content:""}.fa-gg:before{content:""}.fa-gg-circle:before{content:""}.fa-tripadvisor:before{content:""}.fa-odnoklassniki:before{content:""}.fa-odnoklassniki-square:before{content:""}.fa-get-pocket:before{content:""}.fa-wikipedia-w:before{content:""}.fa-safari:before{content:""}.fa-chrome:before{content:""}.fa-firefox:before{content:""}.fa-opera:before{content:""}.fa-internet-explorer:before{content:""}.fa-television:before,.fa-tv:before{content:""}.fa-contao:before{content:""}.fa-500px:before{content:""}.fa-amazon:before{content:""}.fa-calendar-plus-o:before{content:""}.fa-calendar-minus-o:before{content:""}.fa-calendar-times-o:before{content:""}.fa-calendar-check-o:before{content:""}.fa-industry:before{content:""}.fa-map-pin:before{content:""}.fa-map-signs:before{content:""}.fa-map-o:before{content:""}.fa-map:before{content:""}.fa-commenting:before{content:""}.fa-commenting-o:before{content:""}.fa-houzz:before{content:""}.fa-vimeo:before{content:""}.fa-black-tie:before{content:""}.fa-fonticons:before{content:""}.fa-reddit-alien:before{content:""}.fa-edge:before{content:""}.fa-credit-card-alt:before{content:""}.fa-codiepie:before{content:""}.fa-modx:before{content:""}.fa-fort-awesome:before{content:""}.fa-usb:before{content:""}.fa-product-hunt:before{content:""}.fa-mixcloud:before{content:""}.fa-scribd:before{content:""}.fa-pause-circle:before{content:""}.fa-pause-circle-o:before{content:""}.fa-stop-circle:before{content:""}.fa-stop-circle-o:before{content:""}.fa-shopping-bag:before{content:""}.fa-shopping-basket:before{content:""}.fa-hashtag:before{content:""}.fa-bluetooth:before{content:""}.fa-bluetooth-b:before{content:""}.fa-percent:before{content:""}.fa-gitlab:before{content:""}.fa-wpbeginner:before{content:""}.fa-wpforms:before{content:""}.fa-envira:before{content:""}.fa-universal-access:before{content:""}.fa-wheelchair-alt:before{content:""}.fa-question-circle-o:before{content:""}.fa-blind:before{content:""}.fa-audio-description:before{content:""}.fa-volume-control-phone:before{content:""}.fa-braille:before{content:""}.fa-assistive-listening-systems:before{content:""}.fa-american-sign-language-interpreting:before,.fa-asl-interpreting:before{content:""}.fa-deaf:before,.fa-deafness:before,.fa-hard-of-hearing:before{content:""}.fa-glide:before{content:""}.fa-glide-g:before{content:""}.fa-sign-language:before,.fa-signing:before{content:""}.fa-low-vision:before{content:""}.fa-viadeo:before{content:""}.fa-viadeo-square:before{content:""}.fa-snapchat:before{content:""}.fa-snapchat-ghost:before{content:""}.fa-snapchat-square:before{content:""}.fa-pied-piper:before{content:""}.fa-first-order:before{content:""}.fa-yoast:before{content:""}.fa-themeisle:before{content:""}.fa-google-plus-circle:before,.fa-google-plus-official:before{content:""}.fa-fa:before,.fa-font-awesome:before{content:""}.fa-handshake-o:before{content:""}.fa-envelope-open:before{content:""}.fa-envelope-open-o:before{content:""}.fa-linode:before{content:""}.fa-address-book:before{content:""}.fa-address-book-o:before{content:""}.fa-address-card:before,.fa-vcard:before{content:""}.fa-address-card-o:before,.fa-vcard-o:before{content:""}.fa-user-circle:before{content:""}.fa-user-circle-o:before{content:""}.fa-user-o:before{content:""}.fa-id-badge:before{content:""}.fa-drivers-license:before,.fa-id-card:before{content:""}.fa-drivers-license-o:before,.fa-id-card-o:before{content:""}.fa-quora:before{content:""}.fa-free-code-camp:before{content:""}.fa-telegram:before{content:""}.fa-thermometer-4:before,.fa-thermometer-full:before,.fa-thermometer:before{content:""}.fa-thermometer-3:before,.fa-thermometer-three-quarters:before{content:""}.fa-thermometer-2:before,.fa-thermometer-half:before{content:""}.fa-thermometer-1:before,.fa-thermometer-quarter:before{content:""}.fa-thermometer-0:before,.fa-thermometer-empty:before{content:""}.fa-shower:before{content:""}.fa-bath:before,.fa-bathtub:before,.fa-s15:before{content:""}.fa-podcast:before{content:""}.fa-window-maximize:before{content:""}.fa-window-minimize:before{content:""}.fa-window-restore:before{content:""}.fa-times-rectangle:before,.fa-window-close:before{content:""}.fa-times-rectangle-o:before,.fa-window-close-o:before{content:""}.fa-bandcamp:before{content:""}.fa-grav:before{content:""}.fa-etsy:before{content:""}.fa-imdb:before{content:""}.fa-ravelry:before{content:""}.fa-eercast:before{content:""}.fa-microchip:before{content:""}.fa-snowflake-o:before{content:""}.fa-superpowers:before{content:""}.fa-wpexplorer:before{content:""}.fa-meetup:before{content:""}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}@font-face{font-family:'League Spartan';src:url(assets/fonts/leaguespartan-bold.woff2) format("woff2"),url(assets/fonts/leaguespartan-bold.woff) format("woff");font-weight:400;font-style:normal}body{margin:0;padding:64px 0 0;font-family:'Open Sans',sans-serif;font-size:16px;font-weight:300;line-height:1.6}h1,h2{font-family:'League Spartan',sans-serif}h1,h2,h3{font-weight:400}h1 code,h2 code,h3 code{background:0 0;padding:0;font-size:100%;color:inherit;background-color:none;font-family:inherit}h1,h2,h3,li,p,ul{word-break:break-word}pre,pre code{display:block;color:#333}pre{margin:0 0 10px;line-height:1.42857143;word-break:break-all;word-wrap:break-word;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px;padding:9.5px;font-size:13px}pre code{overflow-x:auto;padding:.5em;background:#f8f8f8;-webkit-text-size-adjust:none;font-size:100%}.diffbox pre,table code{padding:0;background-color:none}.diffbox pre{display:block;margin:0;line-height:1.42857143;word-break:break-all;word-wrap:break-word;border:none;border-radius:0;font-size:13px;color:#333}code,code a{color:#c7254e}code{white-space:pre-wrap;padding:2px 4px;font-size:90%;background-color:#f9f2f4;border-radius:4px}code a{text-decoration:underline;transition:all .2s}code a:hover{color:#222}table{max-width:100%;overflow-x:scroll;border:1px solid #ddd;border-spacing:0;border-collapse:collapse;display:inline-block}table code{background:0 0;font-size:100%;color:inherit}td,th{padding:10px}th{background:#f1f1f1;text-align:left}td+td,th+th{border-left:1px solid #eee}td{border-top:1px solid #eee;vertical-align:top}img[alt=angular1-wa-ionic-cli],img[alt=angular1-wa-meteor-cli]{width:30%}.side-nav .api-list-item,.side-nav .step-item{margin:0;padding:0;color:#546e7a}.side-nav .step-item{position:relative}.side-nav .step-item::before{content:"";height:10px;width:10px;background:#f9f9f9;border-radius:50%;border:2px solid #a6120d;position:absolute;top:50%;margin-top:-6px;left:32px;margin-left:-6px;z-index:200;transition:all .2s ease-in-out}.side-nav .step-item.active-step::before,.side-nav .step-item:hover::before{background:#dd1b16;border-color:#dd1b16}.side-nav .active-step a,.side-nav .step-item:hover .step-link{color:#dd1b16}.side-nav .step-item::after{content:"";height:100%;width:1px;background:#a6120d;top:0;left:32px;position:absolute;z-index:100}.side-nav .step-item:first-of-type::after{height:50%;top:50%}.side-nav .step-item:last-of-type::after{height:50%;bottom:50%}.side-nav .step-link{color:#a6120d;transition:ease-in-out;text-decoration:none;display:block;font-size:14px;padding:16px 16px 16px calc(16px + 48px);margin:0}.side-nav .apis-list,.side-nav .apis-versions-list,.side-nav .tutorial-steps-list{list-style:none;padding-left:0;margin-top:8px}.apis-versions-list{margin:0!important}.apis-versions-list li{padding:0}.apis-versions-list li a,a{text-decoration:none}.dropdown-content{-moz-column-count:2;-moz-column-width:220px;-moz-column-rule:1px solid #eceff1;-moz-column-gap:0;column-count:2;column-width:220px;column-rule:1px solid #eceff1;column-gap:0}.dropdown-content .tutorial-steps-list{margin:0!important;list-style:none;padding:0}.dropdown-content .tutorial-steps-list .step-item{padding:5px 0 5px 10px;break-inside:avoid-column}.dropdown-content .tutorial-steps-list .step-item a{text-decoration:none;font-size:small;color:#000}.dropdown-content .tutorial-steps-list .step-item .bold{font-weight:700}[md-button].md-primary{background:0 0!important;color:#fff!important;cursor:pointer!important;border:2px solid #fff!important;border-radius:3px solid #fff!important;font-weight:400!important}[md-button].md-primary:hover{color:#fff!important;background-color:rgba(0,0,0,.1)!important}[md-button].md-primary[disabled]{color:#d3d3d3!important;cursor:not-allowed!important}[md-button]::after{display:none!important}.tutorial-button{border:2px solid #a6120d;background:0 0!important;color:#a6120d!important;box-shadow:none!important;padding:0 10px!important;margin-bottom:10px!important;transition:all .2s ease-in-out!important}.tutorial-button[disabled]{border-color:#dedede!important;color:#aaa!important;background:#dedede!important}.tutorial-button:hover{background:#dd1b16!important;color:#fff!important;border:2px solid #dd1b16!important}.tutorial-button.active{background:#a6120d!important;color:#fff!important;border:2px solid #a6120d!important}tutorial-page-content pre code[ngnonbindable]{background:#eee;display:block;width:90%;border-radius:5px;padding:10px}tutorial-page-content blockquote{margin:0;position:relative;background:#eee;border-radius:5px}tutorial-page-content blockquote:before{content:'!';font-weight:700;position:absolute;vertical-align:top;font-size:2vw;color:#fff;margin-left:6px}tutorial-page-content blockquote p{border-left:1px solid #fff;padding:10px;margin-left:20px}.diffbox{border-radius:10px}.diffbox .title-panel{border-radius:10px 10px 0 0}.diffbox .code-container{border-radius:0 0 10px 10px}api-ref-container p code,api-ref-container ul li code{font-family:'Open Sans',sans-serif}.main-toolbar a,api-ref-container a{color:#263238;text-decoration:none;font-weight:700}api-ref-container h3{background:#eee;border-radius:5px;padding:4px;margin-top:30px}api-ref-container table{width:100%;background:#eee;border-radius:5px;border-spacing:0}api-ref-container table thead{color:#eee}api-ref-container table thead,api-ref-container table thead tr{background:#546e7a;border-radius:5px}api-ref-container table thead tr th{padding:6px}api-ref-container table tbody td{padding:5px}.l-pinned-top{position:fixed;top:0;left:0;right:0}.l-left{float:left}.l-right{float:right}.docs-content,.l-relative{position:relative}.l-absolute{position:absolute}.l-fixed{position:fixed}.l-offset-side-nav{padding-left:232px}diffbox-container{padding-left:36px;overflow:hidden;display:block}diffbox-container .hljs-comment{color:#777}diffbox-container pre{margin:0;padding:0;background-color:transparent}.side-nav{background:#f6f6f6;width:100%;bottom:0;z-index:100}.side-nav ul{margin-top:8px}.side-nav h1{padding:16px 0 0 32px}@media screen and (min-width:750px){.api-container,.tutorials-container{display:flex;margin-top:40px}.side-nav{width:40%;height:100%}.api-content,.tutorial-content{width:60%}[md-raised-button]{margin-bottom:0!important}}@media screen and (min-width:1000px){.api-container,.tutorials-container{width:80%;margin:80px auto 0}.top-navigation{display:flex;justify-content:space-between}.side-nav{width:25%;border-radius:2px}.api-content,.tutorial-content{max-width:75%;margin-left:30px}}.api-container,.api-container p,.tutorials-container,.tutorials-container p{color:#555}.api-container h1,.tutorials-container h1{font-family:'League Spartan',sans-serif;color:#111;line-height:1.1}.main-toolbar md-toolbar-row{height:auto!important;justify-content:space-between;flex-wrap:wrap}.nav-links [md-button]{min-width:0!important;font-weight:300!important;font-family:inherit!important}.nav-links .md-primary{color:#555!important}diffbox-container pre.line-added{background:#eaffea}diffbox-container pre.line-removed{background:#ff9ea2}.logo{width:auto;height:2em}@keyframes pulse{0%,to{transform:scale(1)}20%,80%{transform:scale(1.2)}50%{transform:scale(.9)}}.support-link button{padding-right:0!important}.support-link .notification{animation:pulse 1.5s 2;font-size:10px;color:#fff;background:rgba(255,0,0,.7);border-radius:50%;display:inline-block;height:18px;width:18px;text-align:center;line-height:20px;font-weight:700}.support-link .hide-support{visibility:hidden}.logo-link{line-height:0;padding:.5rem}.nav-links{width:100%;max-height:340px;overflow:scroll;transition:all .2s ease-in-out;position:relative;z-index:50;height:0}.nav-links.visible{height:340px}[md-icon-button].nav-toggle{border-radius:5px;border:1px solid rgba(0,0,0,.05);height:auto;width:auto;padding:5px 10px}[md-icon-button].nav-toggle::after{display:none}[md-icon-button].nav-toggle span{color:#333}.primary-nav{margin-top:10px}.main-toolbar{position:fixed;top:0;left:0;right:0;padding:1rem;background:#f6f6f6!important;overflow:hidden;z-index:500}.main-toolbar a{color:#555;font-weight:400;display:block}.nav-links a{padding:5px 0;border-radius:3px}.nav-links a:hover{background:#eee}.tutorials-dropdown{position:relative;display:inline-block;color:#555;padding:5px 0;line-height:1}.tutorials-dropdown .button-inner{display:flex;align-items:center}.tutorials-dropdown .dropdown-content{display:none;background-color:#fff;padding:7px;line-height:1.6}.tutorials-dropdown .dropdown-content.visible{display:block}@media screen and (min-width:1000px){.nav-links,.primary-nav{display:flex;align-items:center}.primary-nav{margin-top:0}[md-icon-button].nav-toggle{display:none}.nav-links{justify-content:space-between;width:100%;height:auto;overflow:visible}.nav-links a{display:inline-block}.secondary-nav{align-self:flex-end}.main-toolbar{overflow:visible}.main-toolbar md-toolbar-row{flex-wrap:nowrap}.tutorials-dropdown:hover{background:#eee}.tutorials-dropdown .dropdown-content{display:none;position:absolute;background-color:#fff;min-width:600px;box-shadow:0 6px 12px rgba(0,0,0,.175);border-radius:0;padding:5px 0!important;border:1px solid rgba(0,0,0,.15)}.tutorials-dropdown .dropdown-content a{padding:.4rem 20px;border-bottom:1px solid #f2f2f2;display:block;font-weight:300;font-size:16px}.tutorials-dropdown .dropdown-content .tutorial-steps-list .step-item{padding:0}}.clear{clear:both}p{font-size:1rem}.row{overflow:hidden}.hero{padding:3rem 0;background-image:url(assets/images/angular-bg.png);background-color:#333;text-align:center}.hero h1{color:#f6f6f6}.hero .buttons{margin-bottom:20px}.hero .main-logo{width:260px;height:260px;background-image:url(assets/images/logo-large.png);background-repeat:no-repeat;margin:0 auto 3rem;background-size:132%;background-position:-48px}[md-button].body-button,[md-raised-button].hero-button{font-weight:300;transition:all .2s;font-family:inherit;font-size:16px}[md-raised-button].hero-button{background:#a6120d;margin:5px;border:2px solid #fff;color:#fff}[md-button].body-button:hover,[md-raised-button].hero-button:hover{background:#dd1b16;border-color:#dd1b16}[md-button].body-button{background:0 0;border:2px solid #a6120d;color:#a6120d}[md-button].body-button:hover{color:#fff}.hero h1,.showcase h1,.video h1{font-size:1.7rem;line-height:1.4}.video h1{margin:3rem}.video{padding-bottom:2rem}.showcase h1{margin-bottom:3rem;margin-top:0}.main-unit{text-align:center;margin:0 auto}.main-unit .video-wrapper iframe{border:2px solid #333;background-color:#333;border-radius:3px}.main-unit .tutorial-cta{margin:3rem auto 2rem;max-width:400px}.container{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto;text-align:center;margin-bottom:30px}.showcase .row{padding:0 3rem}.showcase .submit-app-cta{width:100%;float:left}.showcase .img-container{overflow:hidden;margin-bottom:15px;border-radius:5px;border:1px solid #dedede}.showcase .site-title{display:inline-block;padding:5px 20px;border-radius:5px;transition:all .5s}.showcase a:not(.btn){color:#536e7a}.showcase a:not(.btn):hover img{opacity:.5;transform:scale(1.15)}.showcase a:not(.btn):hover .site-title{background:#fff}.showcase img{width:100%;transition:all .5s}.sites{display:flex;flex-wrap:wrap;padding:0 2rem}.site{margin-bottom:30px;width:100%;box-sizing:border-box}.extras .container{display:flex;justify-content:space-between;flex-wrap:wrap}.unit,.unit p{text-align:center}.unit{width:100%;max-width:80%;margin:0 auto;padding:0 2rem;box-sizing:border-box}.unit p{font-size:16px}@media screen and (min-width:620px){.sites{padding:0}.site{padding:0 1rem}.video-wrapper iframe{width:500px;height:calc(500px*.5625)}.site,.unit{width:50%}}@media screen and (min-width:980px){.site{width:33.33%;padding:0 1rem}.video-wrapper iframe{width:700px;height:calc(700px*.5625)}}@media screen and (min-width:1200px){.site{width:25%;padding:0 1rem}.unit{width:33.33%}}.small-hero{color:#263238;padding:2rem;height:440px}.small-hero img{margin:1rem;height:148px}.small-hero p{max-width:240px;margin:1rem auto}.intro{padding-bottom:3rem;padding-top:3rem;background-color:#f2f2f2;margin:3rem auto;overflow:hidden}.intro h1{margin-bottom:4rem}.slides .slide-item{float:left;width:100%}.submit-app-cta p{margin:3rem auto 2rem;max-width:400px;text-align:center}@media screen and (min-width:768px){.slides .slide-item{width:50%}.showcase h1,.video h1{font-size:2rem}.container{width:80%}}.md-primary{background:#fff}.meteor-rxjs img{vertical-align:middle}.meteor-rxjs .plus{margin-left:0;margin-right:20px;font-weight:bolder}.meteor-rxjs .md-primary{margin:10px}.meteor-rxjs .container{color:#000}.meteor-rxjs .main-unit{background:#fff!important;color:#fff}.meteor-rxjs h1,.meteor-rxjs img{margin-bottom:1rem}.meteor-rxjs>p{max-width:480px;margin:2rem auto}.meteor-rxjs .header{text-align:center;padding-bottom:100px}.meteor-rxjs .header p{font-size:1.2rem;margin:0 auto 1rem}.api-content a{text-decoration:underline;color:#a6120d;transition:all .2s}.api-content a:hover{color:#222}.api-container .side-nav a{color:#222;transition:all .2s}.api-container .side-nav a:hover,ul.apis-list .api-item-link:hover{color:#dd1b16}.api-container .active-step a{color:#a6120d}.dropdown{position:relative;display:inline-block;margin-left:24px;margin-right:24px;margin-top:10px}.dropdown .dropdown-content{display:none;position:absolute;background-color:#fff;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);border-radius:5px;column-width:210px!important;column-count:1!important;font-size:1rem;width:100%}.dropdown .dropdown-content a{display:block;padding:8px}.dropdown .dropdown-content a:hover{background:#f2f2f2}.dropdown .dropdown-content li{border-bottom:1px solid #f2f2f2}tutorials-versions{text-align:center!important;margin-left:0;margin-top:10px;display:block}.dropdown:hover .dropdown-content{display:block}.api-content{margin-top:20px;padding:20px}[md-button].api-button{color:#333;border:none;text-align:left;display:inline-block;background:#d5d5d5;display:inline-flex;align-items:center;margin-top:16px}ul.apis-list{padding:16px 24px!important;border-top:1px solid #d5d5d5;margin-top:32px!important}ul.apis-list .api-item-link{display:block;font-size:16px;padding:8px 0;transition:all .2s}.api-content .deprecation-notice{background:#ffeaea;padding:1rem 1rem 1rem 65px;position:relative;border:2px solid #a53a3a;color:#a53a3a;border-radius:4px}.api-content .deprecation-notice::before,.tutorial-content blockquote::before,.zip-download::before{content:"error_outline";font-family:'Material Icons';width:65px;height:100%;position:absolute;top:0;left:0;font-style:normal;line-height:1;font-size:36px;display:flex;align-items:center;justify-content:center;color:#a53a3a}@media screen and (min-width:1000px){.api-content{margin-top:0;padding-top:0}.top-navigation{margin-top:20px;margin-bottom:60px}}markdown-file{padding:2rem;display:block}markdown-file hr{border:0;border-top:1px solid #dedede;margin:45px 0}@media screen and (min-width:750px){markdown-file{width:70%;margin:2rem auto}}@media screen and (min-width:1000px){markdown-file{width:50%}}.tutorial-name{width:100%;border-bottom:1px #fff solid;padding:5px;text-align:center}.top-navigation{width:100%;z-index:50;margin-bottom:20px}.tutorial-content{margin-top:20px;padding:20px}.tutorial-nav{display:flex;align-items:center;margin-bottom:20px}.tutorial-nav a{font-size:13px;margin-right:10px}.improve{display:block}.tutorial-title{font-family:'League Spartan',sans-serif}.tutorial-content blockquote{background:#fffbd8;margin:0;padding:0 1rem;font-size:.8rem;border:1px solid #d6d095;border-radius:4px;position:relative;padding-left:65px}.tutorial-content blockquote::before,.zip-download::before{content:"priority_high";color:#c6b81d}.zip-download{display:block;position:relative;color:#789b37;margin-bottom:2rem;background:#fff;border:2px solid #bcd196;border-radius:4px;padding:1rem 1rem 1rem 65px}.zip-download:hover{background:#f6ffe8}.zip-download::before{content:"file_download";color:#bcd196}.youtube-container{border:1px solid #ccc}@media screen and (min-width:1000px){.tutorial-nav{padding:0;margin-bottom:0}.tutorial-content{margin-top:0;padding-top:0}.top-navigation{margin-top:20px;margin-bottom:60px}}.button-wrapper{display:flex;align-items:center;justify-content:center}.button-wrapper .material-icons{font-size:16px;padding-right:5px}.button-wrapper.right-icon .material-icons{padding-right:0;padding-left:10px}.tutorial-version{margin-left:16px}.active{color:#b3e5fc!important}.main-unit{background:#fff;color:#000;margin-top:10px}.support-page-wrapper{display:table;width:90%;border:1px solid #dadada;background:#f7f7f7;box-shadow:0 1px 2px 0 rgba(0,0,0,.1);border-radius:4px;margin:0 auto 40px}.support-page-wrapper .title{width:100%;display:table-caption;text-align:center;margin-bottom:30px}.support-page-wrapper .row{display:table-row;width:100%;margin-top:20px}.support-page-wrapper .row .divider{border-right:1px solid #dadada}.support-page-wrapper .row .column,.support-page-wrapper .row .full-column{width:50%;display:table-cell;padding-left:30px;padding-right:30px}.support-page-wrapper .row .full-column{width:100%}.support-page-wrapper .row .column .italic,.support-page-wrapper .row .full-column .italic{font-style:italic}.support-page-wrapper .row .column h2,.support-page-wrapper .row .full-column h2{letter-spacing:-.06em;text-align:center;margin-bottom:20px;color:#a6120d}.support-page-wrapper .row .full-column p{max-width:none}.img-title{margin:0 auto}.img-title,.title{text-align:center}.navigationButtons{text-align:center;margin-top:20px;margin-bottom:20px}.tutorial-links{margin-top:10px;text-align:center}.diffbox{border:1px solid #eee;-webkit-text-size-adjust:100%;margin:1.5em 0}.diffbox .title-panel{padding:5px 12px;background:#eee;border-bottom:solid 1px #eee;color:#333;overflow:auto;font-size:.875rem}.diffbox .title-panel .github-commit-link{float:right;color:#000;text-decoration:none;border-bottom:none!important}.diffbox .code-container{overflow-x:auto;position:relative;padding:9px 3px 3px 0;background:#f8f8f8}.diffbox .code-container .scroll-container{display:inline-block;min-width:100%;overflow:hidden}.diffbox .code-container .line-numbers{text-align:right;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;position:absolute;width:25px}.diffbox .code-container .line-numbers .line-number{color:#aaa;font-style:italic;margin:0!important}</style><universal-script><script>
 try {window.UNIVERSAL_CACHE = ({"APP_ID":"acaf"}) || {};} catch(e) {  console.warn("Angular Universal: There was a problem parsing data from the server")}
</script></universal-script></body></html>